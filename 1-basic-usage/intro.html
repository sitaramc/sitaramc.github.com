<head>
<title>HTML Slidy</title>
<base href="http://sitaramc.github.com/" />
<link rel="stylesheet" href="../tools/slidy.css" type="text/css">
<meta name="font-size-adjustment" content="3">
<script src="../tools/slidy.js" charset="utf-8" type="text/javascript">
</script>
</head>
<body>

<div class="slide cover">
<center>
<br/>
<br/>
<br/>
<br/>
<img src="../tools/git.png">
<br/>
<br/>
<br/>
<br/>
<h1>a very basic intro to version control and git</h1>
<br/>
<br/>


</center>
</div>

<h1>why</h1>

<p><center><img src="images/intro/projects-sans-vcs.png"></center>
</p>

<h1>what is a VCS</h1>

<h1>why use a VCS</h1>

<ul>
<li>reversibility or rollback, aka C-Y-A!
<ul>
<li>linear (on the time axis), simple to implement</li>
</ul></li>
<li>concurrency
<ul>
<li>non-linear, all the complexity is here</li>
</ul></li>
<li>annotation</li>
</ul>

<h1>creating a repository</h1>

<ul>
<li>how hard is it?</li>
</ul>

<h1>an empty directory</h1>

<p><center><img src="images/intro/empty.png"></center>
</p>

<h1>add some files</h1>

<p><center><img src="images/intro/sampleproj.png"></center>
</p>

<h1>'git init' -- done!</h1>

<p><center><img src="images/intro/init-done.png"></center>
</p>

<h1>how about on windows?</h1>

<p><center><img src="images/intro/empty-windows.png"></center>
</p>

<h1>making a repository</h1>

<p><center><img src="images/intro/init-win1.png"></center>
</p>

<h1>making a repository</h1>

<p><center><img src="images/intro/init-win2.png"></center>
</p>

<h1>making a repository</h1>

<p><center><img src="images/intro/init-win3.png"></center>
</p>

<h1>done!</h1>

<p><center><img src="images/intro/init-win4.png"></center>
</p>

<h1>just checking...</h1>

<p><center><img src="images/intro/init-done-win1.png"></center>
</p>

<h1>yup -- works fine!</h1>

<p><center><img src="images/intro/init-done-win2.png"></center>
</p>

<h1>CLI on windows?</h1>

<p><center><img src="images/intro/init-winb1.png"></center>
</p>

<h1>a bash shell</h1>

<p><center><img src="images/intro/init-winb2.png"></center>
</p>

<h1>'git init' -- done!</h1>

<p><center><img src="images/intro/init-done-winb.png"></center>
</p>

<h1>what is a 'work tree'</h1>

<p><center><img src="images/intro/worktree.png"></center>
</p>

<h1>what is a 'repo'</h1>

<ul>
<li>A repository is just
<ul>
<li>a work tree, plus</li>
<li>a special '.git' directory at the top level of the work tree.</li>
</ul></li>
<li>NEVER FIDDLE WITH THIS DIRECTORY UNLESS YOU KNOW WHAT YOU ARE DOING!</li>
<li>YOU HAVE BEEN WARNED!</li>
</ul>

<h1>repository</h1>

<p><center><img src="images/intro/repo.png"></center>
</p>

<h1>(what's inside '.git'?)</h1>

<p><center><img src="images/intro/inside-dotgit.png"></center>
</p>

<h1>you said 'non-linear'</h1>

<p><img src="intro-images/intro/worktree-symbol.png" align="left">
</p>

<ul>
<li>sure...</li>
<li>a repository keeps snapshots of the work tree...</li>
<li>...at different points in time</li>
</ul>

<h1>snap</h1>

<p><center><img src="images/intro/repo-1.png"></center>
</p>

<h1>snapshots</h1>

<p><center><img src="images/intro/repo-2.png"></center>
</p>

<h1>snapshots of the work tree</h1>

<p><center><img src="images/intro/repo-3.png"></center>
</p>

<h1>at different</h1>

<p><center><img src="images/intro/repo-4.png"></center>
</p>

<h1>at different points</h1>

<p><center><img src="images/intro/repo-5.png"></center>
</p>

<h1>at different points in time</h1>

<p><center><img src="images/intro/repo-6.png"></center>
</p>

<h1>what is a commit</h1>

<p>remember those snapshots?  Yup -- they're all commits!</p>

<p>Here, to refresh your memory:</p>

<p><img src="intro-images/intro/repo-6.png" height="50%">
</p>

<h1>what is a repo again?</h1>

<ul>
<li>a work tree + .git?  sure, but also...</li>
<li>a bunch of commits laid out as a 'graph'
<ul>
<li>a "directed acyclic graph", if you're interested</li>
</ul></li>
</ul>

<h1>DAG</h1>

<p><center><img src="images/intro/dag.png"></center>
</p>

<h1>what is a branch</h1>

<ul>
<li>since a graph is sort of the same as a tree (for our purposes)
<ul>
<li>it has branches</li>
<li>and those branches have names</li>
</ul></li>
</ul>

<h1>branches</h1>

<p><center><img src="images/intro/dag-br.png"></center>
</p>

<h1>what is a tag</h1>

<ul>
<li>when you checkout a branch and then commit, the branch is now pointing at
the new 'snapshot'.  This means...</li>
<li>...the branch 'tip' keeps moving with every commit</li>
<li>But sometimes you want to mark a point in your development
<ul>
<li>with some sort of a permanent label</li>
<li>that stays right there, even if you add commits on top</li>
</ul></li>
</ul>

<h1>tags</h1>

<p><center><img src="images/intro/dag-br-tag.png"></center>
</p>

<h1>general VCS concepts</h1>

<ul>
<li>"project": minimum set of source code (and related files) needed
to <strong>build</strong> the software</li>
<li>in a CVCS (Centralised VCS)
<ul>
<li>each project will have exactly one "repository"</li>
<li>on some central server</li>
<li>and each developer will checkout the project
<ul>
<li>from the server to his workstation</li>
</ul></li>
</ul></li>
</ul>

<h1>a DVCS is different</h1>

<ul>
<li>each project will have one "central" repository
<ul>
<li>(maybe; see next slide)</li>
</ul></li>
<li>but each repository can have many "clones"</li>
<li>so each developer has a clone on his workstation
<ul>
<li>a complete copy of the repository</li>
<li>plus his own work/changes</li>
</ul></li>
</ul>

<h1>central repo in a DVCS?</h1>

<ul>
<li>the developers can push and pull from each other directly
<ul>
<li>because they're also repositories just like the "central" one</li>
</ul></li>
<li>so do we still need a "central" repo?
<ul>
<li>not really; that's only an administrative decision now</li>
<li>not a technical requirement</li>
<li>but it makes managing projects easier</li>
<li>so yes, we still have central repos for most projects</li>
</ul></li>
</ul>

<h1>what is a 'remote'</h1>

<ul>
<li>when you clone, the repo you cloned from is a 'remote' for you</li>
<li>every remote has a name (a user-friendly name you choose)</li>
<li>(special case for clone: the 'remote' has a special name: 'origin')
<ul>
<li>much nicer than using the full URL, like</li>
<li><code>ssh://sitaram@git.server/repos/myproj.git</code></li>
</ul></li>
<li>bad picture coming up...</li>
</ul>

<h1>remotes</h1>

<p>(ok that's not a bad picture; it's HORRIBLE picture!)</p>

<p><center><img src="images/intro/remote.png"></center>
</p>

<h1>git concepts</h1>

<ul>
<li>repo
<ul>
<li>self-contained; remove ".git" at the top and it's all gone</li>
</ul></li>
<li>branch
<ul>
<li>an active line of development</li>
<li>a repo can track any number of branches</li>
</ul></li>
<li>master
<ul>
<li>name of default branch in a new git project</li>
</ul></li>
</ul>

<h1>concept detail: branches</h1>

<ul>
<li>easy and inexpensive</li>
<li>can have separate branches for separate features</li>
<li>many being worked on "simultaneously"!</li>
<li>you can switch rapidly between branches</li>
<li>boosts individual productivity as well as team productivity</li>
<li>almost all existing VCSs suck at this</li>
</ul>

<h1>individual productivity?</h1>

<ul>
<li>concurrency</li>
<li>makes context switching trivial</li>
</ul>

<h1>git concepts (cont'd)</h1>

<ul>
<li>working tree
<ul>
<li>is associated with only one branch at any time</li>
</ul></li>
<li>head
<ul>
<li>the tip of a branch</li>
</ul></li>
<li>HEAD
<ul>
<li>the tip of the branch associated with your working tree; this is where
commits go</li>
</ul></li>
</ul>

<h1>git concepts (cont'd)</h1>

<ul>
<li>index: holding area for changes approved for commit
<ul>
<li>git tracks content, not files</li>
<li>lets you select some files to commit while postponing others</li>
<li>lets you keep uncommited changes hanging around</li>
</ul></li>
</ul>

<h1>some more git concepts</h1>

<ul>
<li>commit ancestry</li>
<li>commit ancestry as a DAG
<ul>
<li>the essence of git is to build and traverse this DAG</li>
<li>http://sitaramc.github.com/gcs/index.html</li>
</ul></li>
<li>universal public identifier (a SHA-1 hash)
<ul>
<li>every file, directory, and commit has a unique hash</li>
<li>check the integrity of an entire repo by comparing just one 160-bit
value (40 hex digits)</li>
</ul></li>
</ul>

<h1>workflow</h1>

<ul>
<li>far better than anything I can try:
<ul>
<li>http://nathanj.github.com/gitguide</li>
</ul></li>
<li>so I'll just describe things at a high level</li>
</ul>

<h1>one-time setup</h1>

<ul>
<li>per developer
<ul>
<li>set up your name and email address</li>
</ul></li>
<li>per developer per project
<ul>
<li>'git init' (the first guy)</li>
<li>'git clone ...' (the others)</li>
</ul></li>
</ul>

<h1>err... clone?  from where?</h1>

<ul>
<li>git servers and protocols (note: git does NO access control!)
<ul>
<li>ssh (RW, access control by ssh)</li>
<li>file protocol (RW, access control by OS)</li>
<li>git protocol (RO, access control by OS/firewall etc)
<ul>
<li>needs git daemon to be started first</li>
</ul></li>
<li>old style http (RO, access control by Apache)
<ul>
<li>RW possible but painful; requires WebDAV</li>
</ul></li>
<li>new style http (RW, access control by apache)
<ul>
<li>requires git 1.6.6 or better on both server and client</li>
</ul></li>
</ul></li>
</ul>

<h1>many users/repos?</h1>

<ul>
<li>just install 'gitolite' and be done!</li>
<li>gitolite can provide fine-grained access control</li>
<li>works over sshd or apache
<ul>
<li>sshd (or httpd) authenticates the user</li>
<li>passes the username to gitolite</li>
<li>gitolite uses the authenticated username, looks at the config file, and
makes the authorisation decision</li>
</ul></li>
</ul>

<h1>normal workflow activities</h1>

<ul>
<li>checkout a branch</li>
<li>edit files</li>
<li>review your changes ('git diff', or 'git gui')</li>
<li>review other people's changes or your older commits ('gitk' -- a very
powerful GUI tool)</li>
<li>stage and commit them</li>
</ul>

<h1>normal workflow activities</h1>

<ul>
<li>push your commits to the server</li>
<li>push failed?  maybe your teammates committed something recently?
<ul>
<li>pull from the server first</li>
<li>their changes get merged into your local repo</li>
<li>then you push...</li>
</ul></li>
</ul>

<h1>clean and dirty work tree</h1>

<ul>
<li>clean: all changes committed to local repo</li>
<li>dirty: some files changed, and changes not yet committed</li>
<li>PULL IS BEST DONE ON A CLEAN TREE!</li>
</ul>

<h1>clean tree - CLI</h1>

<p><center><img src="images/intro/clean-cli.png"></center>
</p>

<h1>clean tree - GUI</h1>

<p><center><img src="images/intro/clean-gui.png"></center>
</p>

<h1>dirty tree - CLI</h1>

<p><center><img src="images/intro/dirty-cli.png"></center>
</p>

<h1>dirty tree - GUI</h1>

<p><center><img src="images/intro/dirty-gui.png"></center>
</p>

<h1>staging from the GUI</h1>

<p><center><img src="images/intro/staging-gui.png"></center>
</p>

<h1>staged files - CLI</h1>

<p><center><img src="images/intro/staged-cli.png"></center>
</p>

<h1>committing from the GUI</h1>

<p><center><img src="images/intro/commit-gui.png"></center>
</p>

<h1>clean again!</h1>

<p><center><img src="images/intro/clean-again.png"></center>
</p>

<h1>conflicts</h1>

<ul>
<li>what is a conflict</li>
<li>how do you resolve it?</li>
</ul>

<h1>advanced workflow activities</h1>

<ul>
<li>cherry-pick -- pick up specific changes from another branch or repo and
make those changes happen in your repo</li>
<li>rebase -- move commits around; sort of like
<ul>
<li>cut off a branch where it connects to the trunk of a tree...</li>
<li>...and graft it somewhere else</li>
</ul></li>
<li>bisect</li>
</ul>

<h1>...and we're done!</h1>
