<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>the users' view</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style>
      body        { background: #fff; text-color: #000; margin-left:  40px;   font-size:  0.9em;  font-family: arial; }
  
      code        { font-size:    1.1em;  background:  #ddf; text-color: #000; }
      pre         { margin-left:  2em;    background:  #ddf; text-color: #000; }
      pre code    { font-size:    1.1em;  background:  #ddf; text-color: #000; }
  
      td          { vertical-align: top }
  
      .red        { color: red }
      .blue       { color: blue }
      .green      { color: green }
      .gray       { color: gray }
      .pink       { color: pink }
  
      .box        { background-color:#e0e0e0 }
      .bg-red     { background-color:#ffe0e0 }
      .bg-green   { background-color:#e0ffe0 }
      .bg-blue    { background-color:#e0e0ff }
  
      /* couldn't resist the name! */
      .wd40       { width: 40% !important }
  
      .box-l      { float: left;  padding: 0px 0.5em; background-color: #e0e0e0; width:25%; margin-right: 4px; }
      .box-r      { float: right; padding: 0px 0.5em; background-color: #e0e0e0; width:25%; margin-left:  4px; }
  
      .fl-l       { float: left;  padding: 0px 0.5em;                                       margin-right: 4px; }
      .fl-r       { float: right; padding: 0px 0.5em;                                       margin-left:  4px; }
  
      .sidebar {
          margin-left: 4px;
          width: 25%;
          float: right;
          border: 4px solid #fff;
      }
  
  </style>
  <style>
      h1          { background: #ffb; text-color: #000; margin-left: -30px;   border-top:    5px  solid #ccc; }
      h2          { background: #ffb; text-color: #000; margin-left: -20px;   border-top:    3px  solid #ddd; }
      h3          { background: #ffb; text-color: #000; margin-left: -10px; }
      h4          { background: #ffb; text-color: #000; }
  </style>
</head>
<body>
<!--
    generated by gvim then munged a fair bit.  The following command
        vim -E -c "TOhtml" -c "w" -c 'qa!' \-\- conf/gitolite.conf
    may or may not produce the same thing
-->

<style type="text/css">
<!--
.WarningMsg { color: #ff0000; }
.Constant { color: #ffa0a0; }
.Statement { color: #ffff60; font-weight: bold; }
.PreProc { color: #ff80ff; }
.LineNr { color: #ffff00; }
.Comment { color: #80a0ff; }
.Type { color: #60ff60; font-weight: bold; }
.Special { color: #ffa500; }
.Identifier { color: #40ffff; }
.Error { color: #ffffff; background-color: #ff0000; padding-bottom: 1px; }
.Todo { color: #0000ff; background-color: #ffff00; padding-bottom: 1px; }
-->
</style>
<div id="header">
<h1 class="title">the users' view</h1>
</div>
<div id="TOC">
<ul>
<li><a href="#accessing-gitolite"><span class="toc-section-number">1</span> accessing gitolite</a></li>
<li><a href="#info"><span class="toc-section-number">2</span> the info command</a></li>
<li><a href="#normal-and-wild-repos"><span class="toc-section-number">3</span> normal and wild repos</a></li>
<li><a href="#other-commands"><span class="toc-section-number">4</span> other commands</a><ul>
<li><a href="#perms"><span class="toc-section-number">4.1</span> set/get additional permissions for repos you created</a></li>
<li><a href="#desc"><span class="toc-section-number">4.2</span> adding a description to repos you created</a></li>
</ul></li>
<li><a href="#site-local-commands"><span class="toc-section-number">5</span> &quot;site-local&quot; commands</a></li>
<li><a href="#pers"><span class="toc-section-number">6</span> &quot;personal&quot; branches</a></li>
</ul>
</div>
<script type="text/javascript">
<!--
    function hide_show(id) {
        var e = document.getElementById(id);
        if(e == null)
            return;
        if(e.style.display != 'none')
            e.style.display = 'none';
        else
            e.style.display = 'block';
    }

    window.onload = function() {
        var t = document.getElementById('TOC');
        var sbt = document.getElementById('SBTOC');
        var h = '<div id="PTOC">'
        var h2 = '<p><strong><span class="red">Page TOC</span></strong></p>'
        var h3 = '</div>'
        var h4 = '<div id="GTOC">'
        var h5 = '</div>'
        var hst = '<div style="background: white; color: green; border: 2px solid green"><center><font size=-1><strong>Hide/Show Table of Contents</strong><br />'
        var pd = '<a href="#" onclick="hide_show(\'PTOC\');">Page TOC</a> | '
        var gt = '<a href="#" onclick="hide_show(\'GTOC\');">Gitolite TOC</a></font></center></div>'

        if(t == null)
            sbt.innerHTML = hst + gt + h4 + sbt.innerHTML + h5;
        else {
            sbt.innerHTML = hst + pd + gt + h + h2 + t.innerHTML + h3 + h4 + sbt.innerHTML + h5;
            t.style.display = 'none';   // hide the TOC that pandoc placed
        }
    }
-->
</script>
<style>
    #PTOC ul {
        list-style: none;
        margin-left: 0;
        padding-left: 2em;
        text-indent: -2em;
        padding-bottom: 2em;
    }
    #PTOC ul li {
        padding-bottom: 10px;
    }
    #PTOC ul li ul {
        padding-bottom: 0px;
    }
    #PTOC ul li ul li {
        padding-bottom: 0px;
    }

    .sidebar-toc a:hover {
        background-color: white;
    }

    .sidebar-toc {
        margin-left: 4px;
        width: 25%;
        float: right;
        color: gray;
        background: lightgray;
        border: 4px solid #fff;
        font-size: 0.90em;
    }

    .sidebar-toc ul {
        padding-left: 2em;
    }

</style>
<div id="SBTOC" class="sidebar-toc">
<p><strong><span class="red">Gitolite TOC</span></strong></p>
<hr />
<center>
<span class="red"><strong>Background</strong></span>
</center>
<hr />
<p><a href="index.html">Main page</a></p>
<ul>
<li><a href="index.html#dl">download</a></li>
<li><a href="index.html#rtfm">documentation</a>
<ul>
<li><a href="gitolite.html"><strong>all-in-one</strong></a> page</li>
</ul></li>
<li><a href="index.html#trouble"><strong>troubleshooting</strong></a></li>
<li><a href="index.html#contact"><strong>contact and support</strong></a></li>
<li><a href="index.html#license">license</a></li>
</ul>
<p><a href="overview.html">Overview</a></p>
<ul>
<li>what is Gitolite?</li>
<li>why might you need it?</li>
<li>how does it work?</li>
<li>who uses it?</li>
</ul>
<p><a href="concepts.html">Concepts, conventions, and terminology</a></p>
<ul>
<li>authentication and authorisation</li>
<li>ssh mode and http mode</li>
<li>the &quot;hosting user&quot;</li>
<li>the &quot;logical repo name&quot;</li>
<li>the special gitolite-admin repo</li>
</ul>
<p><a href="req.html">Before you start...</a></p>
<ul>
<li>your skills</li>
<li>your server</li>
<li>your and your users' clients</li>
<li><strong>cautions and caveats</strong></li>
<li><a href="req.html#trying">trying</a> out gitolite safely</li>
</ul>
<hr />
<center>
<span class="red"><strong>Basics</strong></span>
</center>
<hr />
<p><a href="install.html">install and setup</a></p>
<ul>
<li><a href="install.html#qi">quick install+setup</a> (for experts)</li>
<li>the long way around</li>
<li><a href="install.html#upgrading">upgrading</a></li>
<li><a href="install.html#moving">moving servers</a></li>
</ul>
<p><a href="basic-admin.html">Basic Administration</a></p>
<ul>
<li>clone the gitolite-admin repo</li>
<li>add/remove users</li>
<li>add/remove/rename repos</li>
<li>bringing existing repos into gitolite</li>
</ul>
<p><a href="conf.html">The conf file (<code>conf/gitolite.conf</code>)</a></p>
<ul>
<li>basic <a href="conf.html#syntax">syntax</a></li>
<li><a href="conf.html#include">include</a> files</li>
<li><a href="conf.html#groups">group definitions</a></li>
<li><a href="conf.html#rules"><strong><span class="red">access rules</span></strong></a></li>
</ul>
<p><a href="rc.html">the rc file (<code>~/.gitolite.rc</code>)</a></p>
<p><a href="user.html">Your users' view</a> of gitolite</p>
<p>Troubleshooting</p>
<ul>
<li>help for <a href="emergencies.html">emergencies</a></li>
<li>the <a href="ips.html">fool-proof install guide</a></li>
<li>the gitolite &quot;<a href="cookbook.html">cookbook</a>&quot;</li>
</ul>
<hr />
<center>
<span class="red"><strong>Advanced</strong></span>
</center>
<hr />
<p>Advanced &quot;conf file&quot; use</p>
<ul>
<li>specifying <a href="git-config.html">git-config</a> keys and values</li>
<li>gitolite <a href="options.html">options</a></li>
<li><a href="wild.html"><strong>wild repos</strong></a> (user created repos)</li>
<li><a href="vref.html">virtual refs</a></li>
<li><a href="deleg.html">delegation</a> of admin duties</li>
<li><a href="gitweb-daemon.html">gitweb and git-daemon</a></li>
</ul>
<p>Special features/setups</p>
<ul>
<li><strong><a href="mirroring.html">mirroring</a></strong></li>
<li><a href="http.html">http</a> mode</li>
<li>using a <a href="cache.html">cache</a></li>
<li>(<a href="namespaces.html">namespaces</a>)</li>
<li><a href="locking.html">locking</a> binary files</li>
<li><a href="package.html">packaging</a> gitolite</li>
</ul>
<p>Customising gitolite</p>
<ul>
<li>core and <a href="non-core.html">non-core</a> gitolite</li>
<li><a href="dev-notes.html">writing your own</a> non-core programs</li>
<li>gitolite <a href="triggers.html">triggers</a></li>
<li><a href="list-non-core.html">list of non-core programs</a> shipped with gitolite</li>
</ul>
<hr />
<center>
<span class="red"><strong>Extras</strong></span>
</center>
<hr />
<p><a href="odds-and-ends.html">Odds and Ends</a></p>
<ul>
<li><a href="odds-and-ends.html#writable">disabling pushes</a> to take backups</li>
<li><a href="odds-and-ends.html#elsewhere">putting 'repositories' and '.gitolite' elsewhere</a></li>
<li><a href="odds-and-ends.html#keysonly">using pubkeys obtained from elsewhere</a></li>
<li><a href="odds-and-ends.html#gh">giving users their own repos</a></li>
<li><a href="odds-and-ends.html#server-side-admin">administering gitolite directly on the server</a></li>
</ul>
<p>Additional information/discussion</p>
<ul>
<li><a href="ssh.html">all about ssh and gitolite</a></li>
<li>Running the <a href="testing.html">test suite</a></li>
<li><a href="files.html">gitolite files and directories</a></li>
<li><a href="perf.html">gitolite performance</a></li>
<li><a href="migr.html">Migration</a></li>
<li><a href="http://sitaramc.github.com/gitolite/g2/master-toc.html">documentation for gitolite v2</a></li>
<li><a href="regex.html">regular expressions</a></li>
<li><a href="no-way.html">no way!</a></li>
</ul>
<hr />
<center>
<span class="red"><strong>Contributed docs</strong></span>
</center>
<hr />
<p>Contributed software, tools, and documentation</p>
<ul>
<li><a href="ssh-and-http.html">combining ssh and http mode</a></li>
<li><a href="putty.html">putty and msysgit</a></li>
<li><a href="sskm.html">changing keys -- self service key management</a></li>
<li><a href="ukm.html">user key management</a></li>
<li><a href="README-emacs.html">emacs</a> &quot;major mode&quot;</li>
</ul>
</div>
<p><span class="box-r">Note: This page has several <a href="index.html#fr">forward references</a>. However, I didn't want to place it too far down the list, yet at the same time it's too small to split it into two pages.</span></p>
<p>This page talks about what gitolite looks like to non-admins, and the commands and features available to them.</p>
<h1 id="accessing-gitolite"><span class="header-section-number">1</span> accessing gitolite</h1>
<p>The most common setup is based on ssh, where your admin asks you to send him your public key, and uses that to setup your access.</p>
<p>Your actual access is either a git command (like <code>git clone git@server:reponame</code>, or an ssh command (like <code>ssh git@server info</code>).</p>
<p>Note that you do <em>not</em> get a shell on the server -- the whole point of gitolite is to prevent that!</p>
<p><strong>Note to people who think gitolite requires or can only handle a specific syntax for the URL</strong>: Gitolite is designed in such a way that, unless there is an access violation, the <em>client</em> need not even <em>know</em> that something called gitolite is sitting between it and git on the server. In particular, this means <em>any</em> URL syntax listed in 'man git-clone' for ssh and/or http will work. The only things to note are:</p>
<ul>
<li>In ssh mode, you <em>must</em> use key-based authentication (i.e., passwords won't work; see the two pages linked from the <a href="ssh.html">ssh</a> page for why).</li>
<li>The path of the repo is what you put into the conf file (e.g., &quot;testing&quot;, and not &quot;repositories/testing&quot; or &quot;/home/git/repositories/testing&quot; or such). A good rule of thumb is to use the exact name the <code>info</code> command (see below) shows you.</li>
<li>The &quot;.git&quot; at the end is optional for <strong>git</strong> commands (i.e., you can use &quot;testing.git&quot; instead of &quot;testing&quot; for clone, fetch, push, etc., if you like) but <strong>gitolite</strong> commands in general (see below) will not like the additional &quot;.git&quot; at the end.</li>
</ul>
<h1 id="info"><span class="header-section-number">2</span> the info command</h1>
<p>The only command that is <em>always</em> available to every user is the <code>info</code> command (run <code>ssh git@host info -h</code> for help), which tells you what version of gitolite and git are on the server, and what repositories you have access to. The list of repos is very useful if you have doubts about the spelling of some new repo that you know was setup.</p>
<h1 id="normal-and-wild-repos"><span class="header-section-number">3</span> normal and wild repos</h1>
<p>Gitolite has two kinds of repos. Normal repos are specified by their full names in the config file. &quot;Wildcard&quot; repos are specified by a regex in the config file. Try the <a href="#info"><code>info</code> command</a> and see if it shows any lines that look like regex patterns, (with a &quot;C&quot; permission).</p>
<p>If you see any, it means you are allowed to create brand new repos whose names fit that regex. Normally, you create such repos simply by cloning them or pushing to them -- gitolite automatically creates the repo on the server side. (If your site is different, your admin will tell you).</p>
<p>When you create such a repo, your &quot;ownership&quot; of it (as far as gitolite is concerned) is automatically recorded by gitolite.</p>
<h1 id="other-commands"><span class="header-section-number">4</span> other commands</h1>
<h2 id="perms"><span class="header-section-number">4.1</span> set/get additional permissions for repos you created</h2>
<p>The gitolite config may have several permissions lines for your repo, like so:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="Special">pub/</span><span class="PreProc">CREATOR</span><span class="Special">/..*</span>
<span class="Statement">    C</span><span class="Constant">       </span>=   ...some list of users allowed to create repos...
<span class="Statement">    RW+</span><span class="Constant">     </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">    RW</span><span class="Constant">      </span>=   user1 user2
<span class="Statement">    R</span><span class="Constant">       </span>=   user3
</pre>
<p>If that's all it had, you really can't do much. Any changes to access must be done by the administrator. (Note that &quot;CREATOR&quot; is a reserved word that gets expanded to your userid in some way, so the admin can literally add just the first three lines, and <em>every</em> user listed in the second line (or <em>every authenticated user</em>, if you specified <code>@all</code> there) has his own personal repo namespace, starting with <code>pub/&lt;username&gt;/</code>).</p>
<p>To give some flexibility to users, the admin could add rules like this:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">RW</span><span class="Constant">      </span>=   <span class="PreProc">WRITERS</span>
<span class="Statement">R</span><span class="Constant">       </span>=   <span class="PreProc">READERS</span>
</pre>
<p><span class="gray">(he could also add other <a href="wild.html#roles">roles</a> but then he needs to read the documentation).</span></p>
<p>Once he does this, you can then use the <code>perms</code> command (run <code>ssh git@host perms -h</code> for help) to set permissions for other users by specifying which users are in the list of &quot;READERS&quot;, and which in &quot;WRITERS&quot;.</p>
<p>If you think of READERS and WRITERS as &quot;roles&quot;, it will help. You can't change what access a role has, but you <em>can</em> say which users have that role.</p>
<p><strong>Note</strong>: there isn't a way for you to see the actual rule list unless you're given read access to the special 'gitolite-admin' repo. Sorry. The idea is that your admin will tell you what &quot;roles&quot; he added into rules for your repos, and what permissions those roles have.</p>
<h2 id="desc"><span class="header-section-number">4.2</span> adding a description to repos you created</h2>
<p>The <code>desc</code> command is extremely simple. Run <code>ssh git@host desc -h</code> for help.</p>
<h1 id="site-local-commands"><span class="header-section-number">5</span> &quot;site-local&quot; commands</h1>
<p>The main purpose of gitolite is to prevent you from getting a shell. But there are commands that you often need to run on the server (i.e., cannot be done by pushing something to a repo).</p>
<p>To enable this, gitolite allows the admin to setup scripts in a special directory that users can then run. Gitolite comes with a set of working scripts that your admin may install, or may use as a starting point for his own, if he chooses.</p>
<p>Think of these commands as equivalent to those in <code>COMMAND_DIR</code> in <code>man git-shell</code>.</p>
<p>You can get a list of available commands by running <code>ssh git@host help</code>.</p>
<h1 id="pers"><span class="header-section-number">6</span> &quot;personal&quot; branches</h1>
<p>&quot;personal&quot; branches are great for environments where developers need to share work but can't directly pull from each other (usually due to either a networking or authentication related reason, both common in corporate setups).</p>
<p>Personal branches exist <strong>in a namespace</strong> of their own. The syntax is</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">    RW+</span><span class="Constant"> personal/</span><span class="PreProc">USER</span><span class="Constant">/  </span>=   <span class="Identifier">@userlist</span>
</pre>
<p>where the &quot;personal&quot; can be anything you like (but cannot be empty), and the &quot;/USER/&quot; part is <strong>necessary (including both slashes)</strong>.</p>
<p>A user &quot;alice&quot; (if she's in the userlist) can then push any branches inside <code>personal/alice/</code>. Which means she can push <code>personal/alice/foo</code> and <code>personal/alice/bar</code>, but NOT <code>personal/alice</code>.</p>
<p>(Background: at runtime the &quot;USER&quot; component will be replaced by the name of the invoking user. Access is determined by the right hand side, as usual).</p>
<p>Compared to using arbitrary branch names on the same server, this:</p>
<ul>
<li>Reduces namespace pollution by corralling all these ad hoc branches into the &quot;personal/&quot; namespace.</li>
<li>Reduces branch name collision by giving each developer her own sub-hierarchy within that.</li>
<li>Removes the need to think about access control, because a user can push only to his own sub-hierarchy.</li>
</ul>
</body>
</html>
