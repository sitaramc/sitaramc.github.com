<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>gitweb and git-daemon - Gitolite</title>
        <link href="css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="css/gitolite.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="js/jquery-1.10.2.min.js" defer></script>
        <script src="js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">Gitolite</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="index.html">home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">what/why <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="overview.html">overview</a>
</li>
                                    
<li >
    <a href="concepts.html">concepts, conventions, terminology</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">install and setup <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="quick_install.html">(unix/ssh experts) quick install and setup</a>
</li>
                                    
<li >
    <a href="install.html">normal ssh mode install and setup</a>
</li>
                                    
<li >
    <a href="fool_proof_setup.html">(if all else fails) fool-proof, step-by-step, install and setup</a>
</li>
                                    
<li >
    <a href="http.html">HTTP mode install</a>
</li>
                                    
<li >
    <a href="migr.html">migrating from v2</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">use <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">basic</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="basic-admin.html">basic administration</a>
</li>
            
<li >
    <a href="conf.html">the "conf" file (part 1)</a>
</li>
            
<li >
    <a href="conf-2.html">the "conf" file (part 2)</a>
</li>
            
<li >
    <a href="rc.html">the "rc" file</a>
</li>
            
<li >
    <a href="user.html">your users' view</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">advanced</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="git-config.html">setting git-config values</a>
</li>
            
<li >
    <a href="options.html">gitolite options</a>
</li>
            
<li >
    <a href="wild.html">ad hoc user-created ("wild") repos</a>
</li>
            
<li >
    <a href="templates.html">using templates</a>
</li>
            
<li >
    <a href="vref.html">virtual refs (part 1)</a>
</li>
            
<li >
    <a href="vref-2.html">virtual refs (part 2)</a>
</li>
            
<li >
    <a href="deleg.html">delegation of admin duties</a>
</li>
            
<li class="active">
    <a href="gitweb-daemon.html">gitweb and git-daemon</a>
</li>
            
<li >
    <a href="mirroring.html">mirroring</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">customise</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="non-core.html">core and "non-core" gitolite</a>
</li>
            
<li >
    <a href="dev-notes.html">writing your own non-core code</a>
</li>
            
<li >
    <a href="triggers.html">gitolite triggers</a>
</li>
            
<li >
    <a href="list-non-core.html">list of non-core programs shipped with gitolite</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="cookbook.html">(quick! how do I...) the cookbook</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">HELP! <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="emergencies.html">emergency!!</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">ssh</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="ssh.html">ssh</a>
</li>
            
<li >
    <a href="glssh.html">how gitolite uses ssh</a>
</li>
            
<li >
    <a href="sts.html">ssh troubleshooting</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="regex.html">regular expressions</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">other docs <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="odds-and-ends.html">miscellaneous features</a>
</li>
                                    
<li >
    <a href="namespaces.html">using git namespaces</a>
</li>
                                    
<li >
    <a href="locking.html">locking binary files</a>
</li>
                                    
<li >
    <a href="testing.html">testing gitolite</a>
</li>
                                    
<li >
    <a href="package.html">packaging gitolite</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">more about gitolite</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="files.html">gitolite files & directories</a>
</li>
            
<li >
    <a href="rc-33.html">the 3.3 format rc file</a>
</li>
            
<li >
    <a href="perf.html">performance</a>
</li>
            
<li >
    <a href="internals.html">internals</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">contrib</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="contrib/ssh-and-http.html">Using both ssh and http</a>
</li>
            
<li >
    <a href="contrib/putty.html">Putty and Msysgit</a>
</li>
            
<li >
    <a href="contrib/sskm.html">Self-service key management</a>
</li>
            
<li >
    <a href="contrib/ukm.html">User key management</a>
</li>
            
<li >
    <a href="contrib/README-emacs.html">Emacs major mode</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="no-way.html">no way!</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="deleg.html">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="mirroring.html">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#allowing-access-to-gitweb-and-git-daemon">allowing access to gitweb and git-daemon</a></li>
        <li class="main "><a href="#gitweb">gitweb</a></li>
            <li><a href="#changing-the-umask">changing the UMASK</a></li>
            <li><a href="#repo-specific-authorisation-in-gitweb">repo-specific authorisation in gitweb</a></li>
        <li class="main "><a href="#git-daemon">git-daemon</a></li>
        <li class="main "><a href="#tips">tips</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="allowing-access-to-gitweb-and-git-daemon">allowing access to gitweb and git-daemon<a class="headerlink" href="#allowing-access-to-gitweb-and-git-daemon" title="Permanent link"></a></h1>
<hr />
<div class="admonition danger">
<p>Gitolite does <strong>not</strong> install or configure gitweb/git-daemon -- that is a
one-time setup you must do separately.</p>
</div>
<h1 id="gitweb">gitweb<a class="headerlink" href="#gitweb" title="Permanent link"></a></h1>
<p>The following repos are deemed to be readable by gitweb:</p>
<ul>
<li>Any repos readable by the special user <code>gitweb</code>.</li>
<li>
<p>Any repos containing one or more of the following types of lines:
    (actually, any config variable starting with <code>gitweb</code>).</p>
<pre><code>config gitweb.owner         =   owner name
config gitweb.description   =   some description
config gitweb.category      =   some category
</code></pre>
<p>Side note: the following shorter forms are available as <a href="non-core#syntactic-sugar">syntactic
sugar</a> for the above longer forms:</p>
<pre><code>owner       =   owner name
desc        =   some description
category    =   some category
</code></pre>
</li>
</ul>
<p>The list of gitweb-readable repos is written to a file whose name is given by
the <a href="rc">rc</a> file variable <code>GITWEB_PROJECTS_LIST</code>.  The default value of this
variable, if it is not specified or empty, is <code>$HOME/projects.list</code>.</p>
<p>In addition, each of the config variables described above is written to the
repo to which it pertains, so that gitweb can use them.</p>
<h2 id="changing-the-umask">changing the UMASK<a class="headerlink" href="#changing-the-umask" title="Permanent link"></a></h2>
<p>Gitweb (or cgit, redmine, etc.) typically runs under a different userid, and
the default permissions that gitolite sets make them unreadable.</p>
<p>See the section on the <code>UMASK</code> variable in the page for the <a href="rc">rc file</a>.</p>
<h2 id="repo-specific-authorisation-in-gitweb">repo-specific authorisation in gitweb<a class="headerlink" href="#repo-specific-authorisation-in-gitweb" title="Permanent link"></a></h2>
<p>Gitweb has a feature whereby it will call a (perl) function that you supply,
passing it the full path to the repo being accessed.  If the remote user is
authenticated, the username will be available, so your function can take those
two pieces of information and return true or false to allow or deny the
repository access.</p>
<p>If you want to use gitolite's access rules in making this determination, you
will first have to ensure that the HTTP username (i.e., the username known to
apache/gitweb) is the same as the gitolite username.  If you're using
gitolite's <a href="http">http</a> mode, this is probably already true, but if you're using
the more widely used ssh mode, you'll have to make sure they match.</p>
<p>You then need to add <a href="gitweb.conf.html">this code</a> to your gitweb.conf.</p>
<h1 id="git-daemon">git-daemon<a class="headerlink" href="#git-daemon" title="Permanent link"></a></h1>
<p>Any repo readable by the special user <code>daemon</code> is deemed to be readable by
git-daemon.  For each of these repos, an empty file called
<code>git-daemon-export-ok</code> is created in the repository (i.e., the <code>repo.git</code>
directory inside <code>$HOME/repositories</code>).</p>
<h1 id="tips">tips<a class="headerlink" href="#tips" title="Permanent link"></a></h1>
<p>Setting descriptions en-masse usually does not make sense, but you can
certainly do things like</p>
<pre><code>repo @all
    R       =   gitweb daemon
</code></pre>
<p>assuming you have other means of setting 'gitweb.description' and
'gitweb.owner'.</p>
<p>Also see <a href="conf-2#read-access-respecting-deny-rules">this</a> for a twist on that.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js" defer></script>
        <script src="search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
