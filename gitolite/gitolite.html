<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>gitolite all-in-one page</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style>
      body        { background: #fff; text-color: #000; margin-left:  40px;   font-size:  0.9em;  font-family: arial; }
  
      code        { font-size:    1.1em;  background:  #ddf; text-color: #000; }
      pre         { margin-left:  2em;    background:  #ddf; text-color: #000; }
      pre code    { font-size:    1.1em;  background:  #ddf; text-color: #000; }
  
      td          { vertical-align: top }
  
      .red        { color: red }
      .blue       { color: blue }
      .green      { color: green }
      .gray       { color: gray }
      .pink       { color: pink }
  
      .box        { background-color:#e0e0e0 }
      .bg-red     { background-color:#ffe0e0 }
      .bg-green   { background-color:#e0ffe0 }
      .bg-blue    { background-color:#e0e0ff }
  
      /* couldn't resist the name! */
      .wd40       { width: 40% !important }
  
      .box-l      { float: left;  padding: 0px 0.5em; background-color: #e0e0e0; width:25%; margin-right: 4px; }
      .box-r      { float: right; padding: 0px 0.5em; background-color: #e0e0e0; width:25%; margin-left:  4px; }
  
      .fl-l       { float: left;  padding: 0px 0.5em;                                       margin-right: 4px; }
      .fl-r       { float: right; padding: 0px 0.5em;                                       margin-left:  4px; }
  
      .sidebar {
          margin-left: 4px;
          width: 25%;
          float: right;
          border: 4px solid #fff;
      }
  
  </style>
  <style>
      h1          { background: #ffb; text-color: #000; margin-left: -30px;   border-top:    5px  solid #ccc; }
      h2          { background: #ffb; text-color: #000; margin-left: -20px;   border-top:    3px  solid #ddd; }
      h3          { background: #ffb; text-color: #000; margin-left: -10px; }
      h4          { background: #ffb; text-color: #000; }
  </style>
</head>
<body>
<!--
    generated by gvim then munged a fair bit.  The following command
        vim -E -c "TOhtml" -c "w" -c 'qa!' \-\- conf/gitolite.conf
    may or may not produce the same thing
-->

<style type="text/css">
<!--
.WarningMsg { color: #ff0000; }
.Constant { color: #ffa0a0; }
.Statement { color: #ffff60; font-weight: bold; }
.PreProc { color: #ff80ff; }
.LineNr { color: #ffff00; }
.Comment { color: #80a0ff; }
.Type { color: #60ff60; font-weight: bold; }
.Special { color: #ffa500; }
.Identifier { color: #40ffff; }
.Error { color: #ffffff; background-color: #ff0000; padding-bottom: 1px; }
.Todo { color: #0000ff; background-color: #ffff00; padding-bottom: 1px; }
-->
</style>
<div id="header">
<h1 class="title">gitolite all-in-one page</h1>
</div>
<div id="TOC">
<ul>
<li><a href="#background"><span class="toc-section-number">1</span> background</a><ul>
<li><a href="#index"><span class="toc-section-number">1.1</span> Hosting Git Repositories</a><ul>
<li><a href="#dl">download</a></li>
<li><a href="#rtfm">documentation</a><ul>
<li><a href="#fr">(reading order and forward references)</a></li>
</ul></li>
<li><a href="#trouble">troubleshooting</a></li>
<li><a href="#contact">contact and support</a><ul>
<li><a href="#email">email</a></li>
<li><a href="#irc">IRC</a></li>
</ul></li>
<li><a href="#license">license</a></li>
</ul></li>
<li><a href="#overview"><span class="toc-section-number">1.2</span> Gitolite Overview</a><ul>
<li><a href="#what"><span class="toc-section-number">1.2.1</span> what is gitolite?</a></li>
<li><a href="#why-might-you-need-it"><span class="toc-section-number">1.2.2</span> why might you need it?</a><ul>
<li><a href="#access-control"><span class="toc-section-number">1.2.2.1</span> access control</a><ul>
<li><a href="#basic-use-case"><span class="toc-section-number">1.2.2.1.1</span> basic use case</a></li>
</ul></li>
<li><a href="#other-features"><span class="toc-section-number">1.2.2.2</span> other features</a></li>
<li><a href="#alt"><span class="toc-section-number">1.2.2.3</span> alternatives to gitolite</a><ul>
<li><a href="#unix-permissions-and-acls"><span class="toc-section-number">1.2.2.3.1</span> unix permissions and ACLs</a></li>
<li><a href="#gcr"><span class="toc-section-number">1.2.2.3.2</span> Gerrit Code Review</a></li>
<li><a href="#gitorious-gitlab-and-others"><span class="toc-section-number">1.2.2.3.3</span> gitorious, gitlab, and others</a></li>
</ul></li>
</ul></li>
<li><a href="#how-does-it-work"><span class="toc-section-number">1.2.3</span> how does it work?</a></li>
<li><a href="#who-uses-it"><span class="toc-section-number">1.2.4</span> who uses it?</a></li>
<li><a href="#license"><span class="toc-section-number">1.2.5</span> license</a></li>
</ul></li>
<li><a href="#concepts"><span class="toc-section-number">1.3</span> Concepts and Terminology</a><ul>
<li><a href="#auth"><span class="toc-section-number">1.3.1</span> authentication and authorisation</a></li>
<li><a href="#ssh-mode-and-http-mode"><span class="toc-section-number">1.3.2</span> ssh mode and http mode</a></li>
<li><a href="#hu"><span class="toc-section-number">1.3.3</span> hosting user</a></li>
<li><a href="#the-special-gitolite-admin-repo"><span class="toc-section-number">1.3.4</span> the special gitolite-admin repo</a></li>
</ul></li>
<li><a href="#req"><span class="toc-section-number">1.4</span> Before you start...</a><ul>
<li><a href="#your-skills"><span class="toc-section-number">1.4.1</span> your skills</a></li>
<li><a href="#your-server"><span class="toc-section-number">1.4.2</span> your server</a></li>
<li><a href="#you-and-your-users-clients"><span class="toc-section-number">1.4.3</span> you and your users' clients</a></li>
<li><a href="#cautions-and-caveats"><span class="toc-section-number">1.4.4</span> cautions and caveats</a></li>
<li><a href="#trying"><span class="toc-section-number">1.4.5</span> trying out gitolite safely</a></li>
</ul></li>
</ul></li>
<li><a href="#basics"><span class="toc-section-number">2</span> basics</a><ul>
<li><a href="#install"><span class="toc-section-number">2.1</span> install and setup</a><ul>
<li><a href="#qi"><span class="toc-section-number">2.1.1</span> quick install+setup for experts</a></li>
<li><a href="#the-scenic-route"><span class="toc-section-number">2.1.2</span> the scenic route</a><ul>
<li><a href="#a-graphical-overview"><span class="toc-section-number">2.1.2.1</span> (a graphical overview)</a></li>
<li><a href="#prepare-for-the-install"><span class="toc-section-number">2.1.2.2</span> prepare for the install</a></li>
<li><a href="#get-the-software"><span class="toc-section-number">2.1.2.3</span> get the software</a></li>
<li><a href="#install"><span class="toc-section-number">2.1.2.4</span> install</a></li>
<li><a href="#setup"><span class="toc-section-number">2.1.2.5</span> setup</a></li>
</ul></li>
<li><a href="#upgrading"><span class="toc-section-number">2.1.3</span> upgrading</a></li>
<li><a href="#moving"><span class="toc-section-number">2.1.4</span> appendix 1: moving servers</a></li>
</ul></li>
<li><a href="#basic-admin"><span class="toc-section-number">2.2</span> Basic Administration</a><ul>
<li><a href="#clone-the-gitolite-admin-repo"><span class="toc-section-number">2.2.1</span> clone the gitolite-admin repo</a></li>
<li><a href="#users"><span class="toc-section-number">2.2.2</span> add/remove users</a><ul>
<li><a href="#multi-key"><span class="toc-section-number">2.2.2.1</span> multiple keys per user</a></li>
<li><a href="#old-style-multi-keys"><span class="toc-section-number">2.2.2.2</span> old style multi-keys</a></li>
</ul></li>
<li><a href="#repos"><span class="toc-section-number">2.2.3</span> add, remove, and rename repos</a><ul>
<li><a href="#removingrenaming-a-repo"><span class="toc-section-number">2.2.3.1</span> removing/renaming a repo</a></li>
</ul></li>
<li><a href="#existing"><span class="toc-section-number">2.2.4</span> appendix 1: bringing existing repos into gitolite</a></li>
</ul></li>
<li><a href="#conf"><span class="toc-section-number">2.3</span> The &quot;conf&quot; file (<code>conf/gitolite.conf</code>)</a><ul>
<li><a href="#syntax"><span class="toc-section-number">2.3.1</span> basic syntax</a></li>
<li><a href="#include"><span class="toc-section-number">2.3.2</span> include files</a></li>
<li><a href="#groups"><span class="toc-section-number">2.3.3</span> group definitions</a><ul>
<li><a href="#special-group-all"><span class="toc-section-number">2.3.3.1</span> special group <code>@all</code></a></li>
<li><a href="#warnings-on-undefined-groups"><span class="toc-section-number">2.3.3.2</span> warnings on undefined groups</a></li>
<li><a href="#ldap"><span class="toc-section-number">2.3.3.3</span> getting user group info from LDAP</a></li>
</ul></li>
<li><a href="#rules"><span class="toc-section-number">2.3.4</span> access rules</a><ul>
<li><a href="#what-does-a-rule-look-like"><span class="toc-section-number">2.3.4.1</span> what does a rule look like?</a><ul>
<li><a href="#the-permission-field"><span class="toc-section-number">2.3.4.1.1</span> the permission field</a></li>
<li><a href="#refex"><span class="toc-section-number">2.3.4.1.2</span> the &quot;refex&quot; field</a></li>
<li><a href="#useruser-group-list"><span class="toc-section-number">2.3.4.1.3</span> user/user group list</a></li>
</ul></li>
<li><a href="#rule-accumulation"><span class="toc-section-number">2.3.4.2</span> rule accumulation</a><ul>
<li><a href="#defining-user-and-repo"><span class="toc-section-number">2.3.4.2.1</span> defining &quot;user&quot; and &quot;repo&quot;</a></li>
</ul></li>
<li><a href="#when-does-gitolite-check-access"><span class="toc-section-number">2.3.4.3</span> when does gitolite check access?</a></li>
<li><a href="#c1c2"><span class="toc-section-number">2.3.4.4</span> putting it all together</a><ul>
<li><a href="#an-example"><span class="toc-section-number">2.3.4.4.1</span> an example</a></li>
<li><a href="#tracing-the-access-control-decision"><span class="toc-section-number">2.3.4.4.2</span> tracing the access control decision</a></li>
</ul></li>
<li><a href="#deny-rules"><span class="toc-section-number">2.3.4.5</span> read access respecting deny rules</a><ul>
<li><a href="#example-1"><span class="toc-section-number">2.3.4.5.1</span> example 1</a></li>
<li><a href="#example-2"><span class="toc-section-number">2.3.4.5.2</span> example 2</a></li>
</ul></li>
</ul></li>
<li><a href="#write-types"><span class="toc-section-number">2.3.5</span> appendix 1: different types of write operations</a><ul>
<li><a href="#permsum"><span class="toc-section-number">2.3.5.1</span> summary of permissions</a></li>
</ul></li>
</ul></li>
<li><a href="#rc"><span class="toc-section-number">2.4</span> the &quot;rc&quot; file (<code>$HOME/.gitolite.rc</code>)</a><ul>
<li><a href="#specific-variables"><span class="toc-section-number">2.4.1</span> specific variables</a></li>
<li><a href="#privesc"><span class="toc-section-number">2.4.2</span> security note: gitolite admin and shell access</a></li>
</ul></li>
<li><a href="#user"><span class="toc-section-number">2.5</span> the users' view</a><ul>
<li><a href="#accessing-gitolite"><span class="toc-section-number">2.5.1</span> accessing gitolite</a></li>
<li><a href="#info"><span class="toc-section-number">2.5.2</span> the info command</a></li>
<li><a href="#normal-and-wild-repos"><span class="toc-section-number">2.5.3</span> normal and wild repos</a></li>
<li><a href="#other-commands"><span class="toc-section-number">2.5.4</span> other commands</a><ul>
<li><a href="#perms"><span class="toc-section-number">2.5.4.1</span> set/get additional permissions for repos you created</a></li>
<li><a href="#desc"><span class="toc-section-number">2.5.4.2</span> adding a description to repos you created</a></li>
</ul></li>
<li><a href="#site-local-commands"><span class="toc-section-number">2.5.5</span> &quot;site-local&quot; commands</a></li>
<li><a href="#pers"><span class="toc-section-number">2.5.6</span> &quot;personal&quot; branches</a></li>
</ul></li>
<li><a href="#emergencies"><span class="toc-section-number">2.6</span> help for emergencies</a><ul>
<li><a href="#installsetup-issues"><span class="toc-section-number">2.6.1</span> install/setup issues</a></li>
<li><a href="#lost-key"><span class="toc-section-number">2.6.2</span> lost admin key/access</a></li>
<li><a href="#bypass"><span class="toc-section-number">2.6.3</span> bypassing gitolite</a></li>
<li><a href="#botch"><span class="toc-section-number">2.6.4</span> botched something?</a><ul>
<li><a href="#fixing-botched-repos"><span class="toc-section-number">2.6.4.1</span> fixing botched repos</a></li>
<li><a href="#clean"><span class="toc-section-number">2.6.4.2</span> cleaning out a botched install</a></li>
</ul></li>
<li><a href="#ce"><span class="toc-section-number">2.6.5</span> common errors</a></li>
<li><a href="#ue"><span class="toc-section-number">2.6.6</span> uncommon errors</a></li>
<li><a href="#nonstd"><span class="toc-section-number">2.6.7</span> non-standard configs that'll trip you up</a></li>
<li><a href="#ngp"><span class="toc-section-number">2.6.8</span> things that are not gitolite problems</a></li>
</ul></li>
<li><a href="#ips"><span class="toc-section-number">2.7</span> idiot-proof setup for gitolite</a><ul>
<li><a href="#pre-requisites-etc"><span class="toc-section-number">2.7.1</span> pre-requisites, etc</a></li>
<li><a href="#assumptions"><span class="toc-section-number">2.7.2</span> assumptions</a></li>
<li><a href="#installation-tasks"><span class="toc-section-number">2.7.3</span> installation tasks</a></li>
<li><a href="#administration-tasks"><span class="toc-section-number">2.7.4</span> administration tasks</a></li>
</ul></li>
<li><a href="#cookbook"><span class="toc-section-number">2.8</span> gitolite cookbook</a><ul>
<li><a href="#cb-admin"><span class="toc-section-number">2.8.1</span> administration</a><ul>
<li><a href="#separating-key-admin-from-repo-admin"><span class="toc-section-number">2.8.1.1</span> separating &quot;key admin&quot; from &quot;repo admin&quot;</a></li>
</ul></li>
<li><a href="#cb-access"><span class="toc-section-number">2.8.2</span> access</a><ul>
<li><a href="#looking-up-repo-access-from-external-tools"><span class="toc-section-number">2.8.2.1</span> looking up repo access from external tools</a></li>
<li><a href="#allowing-access-by-other-programs"><span class="toc-section-number">2.8.2.2</span> allowing access by other programs</a></li>
</ul></li>
<li><a href="#cb-commands"><span class="toc-section-number">2.8.3</span> commands</a><ul>
<li><a href="#adding-your-own-commands"><span class="toc-section-number">2.8.3.1</span> adding your own commands</a></li>
<li><a href="#making-commands-available-to-remote-users"><span class="toc-section-number">2.8.3.2</span> making commands available to remote users</a></li>
</ul></li>
<li><a href="#cb-hooks"><span class="toc-section-number">2.8.4</span> hooks</a><ul>
<li><a href="#adding-your-own-update-hooks"><span class="toc-section-number">2.8.4.1</span> adding your own update hooks</a></li>
<li><a href="#adding-other-non-update-hooks"><span class="toc-section-number">2.8.4.2</span> adding other (non-update) hooks</a></li>
<li><a href="#variation-maintain-these-hooks-in-the-gitolite-admin-repo"><span class="toc-section-number">2.8.4.3</span> variation: maintain these hooks in the gitolite-admin repo</a></li>
<li><a href="#v3.6-variation-repo-specific-hooks"><span class="toc-section-number">2.8.4.4</span> <span class="gray">(v3.6+)</span> variation: repo-specific hooks</a></li>
</ul></li>
<li><a href="#cb-vrefs"><span class="toc-section-number">2.8.5</span> VREFs</a><ul>
<li><a href="#adding-your-own-vrefs"><span class="toc-section-number">2.8.5.1</span> adding your own VREFs</a></li>
<li><a href="#example-vrefs"><span class="toc-section-number">2.8.5.2</span> example VREFs</a><ul>
<li><a href="#example-1-restricting-by-day-of-week"><span class="toc-section-number">2.8.5.2.1</span> example 1: restricting by day of week</a></li>
<li><a href="#example-2-restricting-by-source-ip-address"><span class="toc-section-number">2.8.5.2.2</span> example 2: restricting by source IP address</a></li>
</ul></li>
</ul></li>
<li><a href="#cb-move"><span class="toc-section-number">2.8.6</span> moving stuff around</a><ul>
<li><a href="#moving-a-gitolite-install-from-one-machine-to-another"><span class="toc-section-number">2.8.6.1</span> moving a gitolite install from one machine to another</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#advanced"><span class="toc-section-number">3</span> advanced</a><ul>
<li><a href="#git-config"><span class="toc-section-number">3.1</span> specifying &quot;git-config&quot; keys and values</a><ul>
<li><a href="#basic-syntax"><span class="toc-section-number">3.1.1</span> basic syntax</a><ul>
<li><a href="#an-important-warning-about-deleting-a-config-line"><span class="toc-section-number">3.1.1.1</span> <span class="red">an important warning about <strong>deleting</strong> a config line</span></a></li>
</ul></li>
<li><a href="#substituting-the-repo-name-and-the-creator-name"><span class="toc-section-number">3.1.2</span> substituting the repo name and the creator name</a></li>
<li><a href="#override_conf"><span class="toc-section-number">3.1.3</span> overriding config values</a></li>
<li><a href="#unsafe-patt"><span class="toc-section-number">3.1.4</span> compensating for UNSAFE_PATT</a></li>
</ul></li>
<li><a href="#options"><span class="toc-section-number">3.2</span> gitolite options</a></li>
<li><a href="#wild"><span class="toc-section-number">3.3</span> &quot;wild&quot; repos (user created repos)</a><ul>
<li><a href="#quick-introexample"><span class="toc-section-number">3.3.1</span> quick intro/example</a></li>
<li><a href="#declaring-wild-repos-in-the-conf-file"><span class="toc-section-number">3.3.2</span> declaring wild repos in the conf file</a></li>
<li><a href="#create"><span class="toc-section-number">3.3.3</span> (<strong>user</strong>) creating a specific repo</a></li>
<li><a href="#a-slightly-different-example"><span class="toc-section-number">3.3.4</span> a slightly different example</a></li>
<li><a href="#repo-regex-patterns"><span class="toc-section-number">3.3.5</span> repo regex patterns</a><ul>
<li><a href="#regex-pattern-versus-normal-repo"><span class="toc-section-number">3.3.5.1</span> regex pattern versus normal repo</a></li>
<li><a href="#line-anchored-regexes"><span class="toc-section-number">3.3.5.2</span> line-anchored regexes</a></li>
</ul></li>
<li><a href="#roles"><span class="toc-section-number">3.3.6</span> roles</a><ul>
<li><a href="#adding-other-roles"><span class="toc-section-number">3.3.6.1</span> adding other roles</a><ul>
<li><a href="#rolenamewarn"><span class="toc-section-number">3.3.6.1.1</span> <font color="red"><strong>IMPORTANT WARNING ABOUT THIS FEATURE</strong></font></a></li>
</ul></li>
<li><a href="#setting-default-roles"><span class="toc-section-number">3.3.6.2</span> setting default roles</a></li>
<li><a href="#specifying-owners"><span class="toc-section-number">3.3.6.3</span> specifying owners</a></li>
</ul></li>
<li><a href="#listing-wild-repos"><span class="toc-section-number">3.3.7</span> listing wild repos</a></li>
<li><a href="#deleting-a-wild-repo"><span class="toc-section-number">3.3.8</span> deleting a wild repo</a></li>
<li><a href="#appendix-1-owner-and-creator"><span class="toc-section-number">3.3.9</span> appendix 1: owner and creator</a></li>
</ul></li>
<li><a href="#vref"><span class="toc-section-number">3.4</span> virtual refs</a><ul>
<li><a href="#quick-introexample-1"><span class="toc-section-number">3.4.1</span> quick intro/example</a></li>
<li><a href="#basic-use-and-understanding"><span class="toc-section-number">3.4.2</span> basic use and understanding</a></li>
<li><a href="#advanced-use"><span class="toc-section-number">3.4.3</span> advanced use</a><ul>
<li><a href="#differences-from-normal-refs"><span class="toc-section-number">3.4.3.1</span> differences from normal refs</a></li>
<li><a href="#generating-virtual-refs"><span class="toc-section-number">3.4.3.2</span> generating virtual refs</a></li>
</ul></li>
<li><a href="#more-details-and-nuances"><span class="toc-section-number">3.4.4</span> more details and nuances</a><ul>
<li><a href="#mimicking-a-plain-old-update-hook"><span class="toc-section-number">3.4.4.1</span> mimicking a plain old update hook</a></li>
<li><a href="#what-if-the-vref-maker-prints-a-different-virtual-ref"><span class="toc-section-number">3.4.4.2</span> what if the VREF-maker prints a different virtual ref?</a></li>
<li><a href="#vref-fallthru"><span class="toc-section-number">3.4.4.3</span> why is fallthru considered success with VREFs</a></li>
<li><a href="#what-if-the-vref-maker-prints-something-thats-not-even-a-virtual-ref"><span class="toc-section-number">3.4.4.4</span> what if the VREF-maker prints something that's not even a virtual ref?</a></li>
<li><a href="#in-what-order-are-vref-makers-called"><span class="toc-section-number">3.4.4.5</span> in what order are VREF-makers called?</a></li>
<li><a href="#vref-args"><span class="toc-section-number">3.4.4.6</span> what arguments are passed to the vref-maker?</a></li>
</ul></li>
<li><a href="#vref-makers-shipped-with-gitolite"><span class="toc-section-number">3.4.5</span> VREF-makers shipped with gitolite</a><ul>
<li><a href="#NAME"><span class="toc-section-number">3.4.5.1</span> restricting pushes by dir/file name</a></li>
<li><a href="#COUNT"><span class="toc-section-number">3.4.5.2</span> number of changed or new files</a></li>
<li><a href="#advanced-filetype-detection"><span class="toc-section-number">3.4.5.3</span> advanced filetype detection</a></li>
<li><a href="#checking-author-email"><span class="toc-section-number">3.4.5.4</span> checking author email</a></li>
<li><a href="#votes"><span class="toc-section-number">3.4.5.5</span> voting on commits</a></li>
</ul></li>
<li><a href="#other-ideas----code-welcome"><span class="toc-section-number">3.4.6</span> other ideas -- code welcome!</a><ul>
<li><a href="#no-non-merge-first-parents"><span class="toc-section-number">3.4.6.1</span> &quot;no non-merge first-parents&quot;</a></li>
<li><a href="#other-ideas-for-vrefs"><span class="toc-section-number">3.4.6.2</span> other ideas for VREFs</a></li>
</ul></li>
</ul></li>
<li><a href="#deleg"><span class="toc-section-number">3.5</span> delegating access control responsibilities</a><ul>
<li><a href="#example"><span class="toc-section-number">3.5.1</span> example</a></li>
<li><a href="#subconf"><span class="toc-section-number">3.5.2</span> the subconf command</a><ul>
<li><a href="#how-the-subconf-name-is-derived"><span class="toc-section-number">3.5.2.1</span> how the &quot;subconf name&quot; is derived</a></li>
</ul></li>
<li><a href="#security-notes"><span class="toc-section-number">3.5.3</span> security notes</a><ul>
<li><a href="#group-names"><span class="toc-section-number">3.5.3.1</span> group names</a></li>
<li><a href="#delegating-pubkeys"><span class="toc-section-number">3.5.3.2</span> delegating pubkeys</a></li>
</ul></li>
</ul></li>
<li><a href="#gitweb-daemon"><span class="toc-section-number">3.6</span> allowing access to gitweb and git-daemon</a><ul>
<li><a href="#gitweb"><span class="toc-section-number">3.6.1</span> gitweb</a><ul>
<li><a href="#umask"><span class="toc-section-number">3.6.1.1</span> changing the UMASK</a></li>
<li><a href="#repo-specific-authorisation-in-gitweb"><span class="toc-section-number">3.6.1.2</span> repo-specific authorisation in gitweb</a></li>
</ul></li>
<li><a href="#git-daemon"><span class="toc-section-number">3.6.2</span> git-daemon</a></li>
<li><a href="#tips"><span class="toc-section-number">3.6.3</span> tips</a></li>
</ul></li>
<li><a href="#mirroring"><span class="toc-section-number">3.7</span> mirroring using gitolite</a><ul>
<li><a href="#quick-intro"><span class="toc-section-number">3.7.1</span> quick intro</a></li>
<li><a href="#caveats"><span class="toc-section-number">3.7.2</span> caveats</a></li>
<li><a href="#setting-up-mirroring"><span class="toc-section-number">3.7.3</span> setting up mirroring</a><ul>
<li><a href="#the-initial-setup-and-the-rc-filerc"><span class="toc-section-number">3.7.3.1</span> the initial setup and the <a href="#rc">rc file</a></a></li>
<li><a href="#conf-file-settings-and-syntax"><span class="toc-section-number">3.7.3.2</span> conf file settings and syntax</a><ul>
<li><a href="#v3.6-preventing-automatic-sync"><span class="toc-section-number">3.7.3.2.1</span> <span class="gray">(v3.6+)</span> preventing automatic sync</a></li>
</ul></li>
</ul></li>
<li><a href="#v3.6.1-mirroring-failures"><span class="toc-section-number">3.7.4</span> <span class="gray">(v3.6.1+)</span> mirroring failures</a></li>
<li><a href="#sync"><span class="toc-section-number">3.7.5</span> manually synchronising a slave repo</a></li>
<li><a href="#redirected-pushes"><span class="toc-section-number">3.7.6</span> redirected pushes</a></li>
<li><a href="#HOSTNAME"><span class="toc-section-number">3.7.7</span> appendix A: HOSTNAME substitution</a></li>
<li><a href="#appendix-b-efficiency-versus-paranoia"><span class="toc-section-number">3.7.8</span> appendix B: efficiency versus paranoia</a></li>
<li><a href="#appendix-c-moving-the-admin-repo-to-a-different-master"><span class="toc-section-number">3.7.9</span> appendix C: moving the admin repo to a different master</a></li>
</ul></li>
<li><a href="#http"><span class="toc-section-number">3.8</span> how to setup gitolite to use smart http mode</a><ul>
<li><a href="#warnings-and-important-notes"><span class="toc-section-number">3.8.1</span> WARNINGS and important notes</a></li>
<li><a href="#assumptions-1"><span class="toc-section-number">3.8.2</span> assumptions:</a></li>
<li><a href="#instructions"><span class="toc-section-number">3.8.3</span> instructions</a></li>
<li><a href="#making-repositories-available-to-both-ssh-and-http-mode-clients"><span class="toc-section-number">3.8.4</span> Making repositories available to both ssh and http mode clients</a></li>
<li><a href="#usage"><span class="toc-section-number">3.8.5</span> usage</a><ul>
<li><a href="#client-side"><span class="toc-section-number">3.8.5.1</span> client side</a></li>
<li><a href="#server-side"><span class="toc-section-number">3.8.5.2</span> server side</a></li>
</ul></li>
</ul></li>
<li><a href="#cache"><span class="toc-section-number">3.9</span> gitolite and the (redis) cache</a><ul>
<li><a href="#how"><span class="toc-section-number">3.9.1</span> how</a></li>
<li><a href="#troubleshooting"><span class="toc-section-number">3.9.2</span> troubleshooting</a></li>
<li><a href="#details"><span class="toc-section-number">3.9.3</span> details</a><ul>
<li><a href="#what-is-cached"><span class="toc-section-number">3.9.3.1</span> what is cached</a></li>
<li><a href="#timeout"><span class="toc-section-number">3.9.3.2</span> how long is it cached</a></li>
</ul></li>
</ul></li>
<li><a href="#namespaces"><span class="toc-section-number">3.10</span> namespace support in gitolite</a><ul>
<li><a href="#background-1"><span class="toc-section-number">3.10.1</span> background</a></li>
<li><a href="#terminology"><span class="toc-section-number">3.10.2</span> terminology</a></li>
<li><a href="#setup"><span class="toc-section-number">3.10.3</span> setup</a></li>
<li><a href="#use"><span class="toc-section-number">3.10.4</span> use</a></li>
<li><a href="#details-1"><span class="toc-section-number">3.10.5</span> details</a></li>
<li><a href="#warnings"><span class="toc-section-number">3.10.6</span> WARNINGS</a><ul>
<li><a href="#security"><span class="toc-section-number">3.10.6.1</span> SECURITY</a></li>
<li><a href="#gitolite-functionality"><span class="toc-section-number">3.10.6.2</span> gitolite functionality</a></li>
<li><a href="#gitolite-functionality----mirroring"><span class="toc-section-number">3.10.6.3</span> gitolite functionality -- mirroring</a></li>
</ul></li>
<li><a href="#other-notes"><span class="toc-section-number">3.10.7</span> other notes</a></li>
</ul></li>
<li><a href="#locking"><span class="toc-section-number">3.11</span> locking binary files</a><ul>
<li><a href="#problem-description"><span class="toc-section-number">3.11.1</span> problem description</a></li>
<li><a href="#adminsetup"><span class="toc-section-number">3.11.2</span> admin/setup</a></li>
<li><a href="#user-view"><span class="toc-section-number">3.11.3</span> user view</a></li>
<li><a href="#detailed-example"><span class="toc-section-number">3.11.4</span> detailed example</a></li>
</ul></li>
<li><a href="#package"><span class="toc-section-number">3.12</span> packaging gitolite</a></li>
<li><a href="#non-core"><span class="toc-section-number">3.13</span> &quot;non-core&quot; gitolite</a><ul>
<li><a href="#ncintro"><span class="toc-section-number">3.13.1</span> core versus non-core</a></li>
<li><a href="#ncloc"><span class="toc-section-number">3.13.2</span> locations...</a><ul>
<li><a href="#for-non-core-programs-shipped-with-gitolite"><span class="toc-section-number">3.13.2.1</span> ...for non-core programs shipped with gitolite</a></li>
<li><a href="#localcode"><span class="toc-section-number">3.13.2.2</span> ...for <em>your</em> non-core programs</a></li>
<li><a href="#pushcode"><span class="toc-section-number">3.13.2.3</span> using the gitolite-admin repo to manage non-core code</a></li>
</ul></li>
<li><a href="#nctypes"><span class="toc-section-number">3.13.3</span> types of non-core programs</a><ul>
<li><a href="#commands"><span class="toc-section-number">3.13.3.1</span> gitolite &quot;commands&quot;</a></li>
<li><a href="#hooks"><span class="toc-section-number">3.13.3.2</span> hooks and gitolite</a><ul>
<li><a href="#rsh"><span class="toc-section-number">3.13.3.2.1</span> repo-specific hooks</a></li>
</ul></li>
<li><a href="#sugar"><span class="toc-section-number">3.13.3.3</span> syntactic sugar</a></li>
<li><a href="#triggers"><span class="toc-section-number">3.13.3.4</span> triggers</a></li>
<li><a href="#vrefs"><span class="toc-section-number">3.13.3.5</span> VREFs</a></li>
</ul></li>
</ul></li>
<li><a href="#dev-notes"><span class="toc-section-number">3.14</span> writing your own &quot;non-core&quot; programs</a><ul>
<li><a href="#environment-variables-and-other-inputs"><span class="toc-section-number">3.14.1</span> environment variables and other inputs</a></li>
<li><a href="#apis"><span class="toc-section-number">3.14.2</span> APIs</a><ul>
<li><a href="#the-shell-api"><span class="toc-section-number">3.14.2.1</span> the shell API</a></li>
<li><a href="#the-perl-api"><span class="toc-section-number">3.14.2.2</span> the perl API</a></li>
</ul></li>
<li><a href="#writing-your-own..."><span class="toc-section-number">3.14.3</span> writing your own...</a><ul>
<li><a href="#commands"><span class="toc-section-number">3.14.3.1</span> ...commands</a></li>
<li><a href="#hooks"><span class="toc-section-number">3.14.3.2</span> ...hooks</a><ul>
<li><a href="#anything-but-the-update-hook"><span class="toc-section-number">3.14.3.2.1</span> anything but the update hook</a></li>
<li><a href="#update-hook"><span class="toc-section-number">3.14.3.2.2</span> update hook</a></li>
</ul></li>
<li><a href="#trigger-programs"><span class="toc-section-number">3.14.3.3</span> ...trigger programs</a></li>
<li><a href="#sugar"><span class="toc-section-number">3.14.3.4</span> ...&quot;sugar&quot;</a></li>
</ul></li>
<li><a href="#rsev"><span class="toc-section-number">3.14.4</span> appendix 1: repo-specific environment variables</a></li>
<li><a href="#lff"><span class="toc-section-number">3.14.5</span> appendix 2: log file format</a></li>
<li><a href="#appendix-3-v3.6.1-syslog"><span class="toc-section-number">3.14.6</span> appendix 3: <span class="gray">(v3.6.1+)</span> syslog</a></li>
</ul></li>
<li><a href="#triggers"><span class="toc-section-number">3.15</span> gitolite triggers</a><ul>
<li><a href="#types-of-trigger-programs"><span class="toc-section-number">3.15.1</span> types of trigger programs</a></li>
<li><a href="#manually-firing-triggers"><span class="toc-section-number">3.15.2</span> manually firing triggers</a></li>
<li><a href="#common-arguments"><span class="toc-section-number">3.15.3</span> common arguments</a></li>
<li><a href="#trigger-specific-arguments-and-other-details"><span class="toc-section-number">3.15.4</span> trigger-specific arguments and other details</a></li>
<li><a href="#addtrig"><span class="toc-section-number">3.15.5</span> adding your own scripts to a trigger</a><ul>
<li><a href="#displaying-the-resulting-trigger-list"><span class="toc-section-number">3.15.5.1</span> displaying the resulting trigger list</a></li>
</ul></li>
<li><a href="#tips-and-examples"><span class="toc-section-number">3.15.6</span> tips and examples</a></li>
</ul></li>
<li><a href="#list-non-core"><span class="toc-section-number">3.16</span> non-core features shipped with gitolite</a><ul>
<li><a href="#commands-1"><span class="toc-section-number">3.16.1</span> commands</a></li>
<li><a href="#syntactic-sugar"><span class="toc-section-number">3.16.2</span> syntactic sugar</a></li>
<li><a href="#triggers-1"><span class="toc-section-number">3.16.3</span> triggers</a></li>
<li><a href="#vrefs-1"><span class="toc-section-number">3.16.4</span> VREFs</a></li>
<li><a href="#details-on-some-non-core-programs"><span class="toc-section-number">3.16.5</span> details on some non-core programs</a><ul>
<li><a href="#partial-copy"><span class="toc-section-number">3.16.5.1</span> partial-copy: selective read control for branches</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#extras"><span class="toc-section-number">4</span> extras</a><ul>
<li><a href="#odds-and-ends"><span class="toc-section-number">4.1</span> odds and ends</a><ul>
<li><a href="#writable"><span class="toc-section-number">4.1.1</span> disabling pushes to take backups</a></li>
<li><a href="#elsewhere"><span class="toc-section-number">4.1.2</span> putting 'repositories' and '.gitolite' elsewhere</a></li>
<li><a href="#keysonly"><span class="toc-section-number">4.1.3</span> using pubkeys obtained from elsewhere</a></li>
<li><a href="#gh"><span class="toc-section-number">4.1.4</span> giving users their own repos</a></li>
<li><a href="#server-side-admin"><span class="toc-section-number">4.1.5</span> administering gitolite directly on the server</a></li>
</ul></li>
<li><a href="#ssh"><span class="toc-section-number">4.2</span> ssh</a><ul>
<li><a href="#ssh-related-features"><span class="toc-section-number">4.2.1</span> ssh related features</a><ul>
<li><a href="#but...-but...-you-have-all-that-ssh-stuff-in-gitolite"><span class="toc-section-number">4.2.1.1</span> but... but... you have all that ssh stuff in gitolite!</a></li>
<li><a href="#so-youre-basically-saying-you-wont-support-x"><span class="toc-section-number">4.2.1.2</span> so you're basically saying you won't support &quot;X&quot;</a></li>
</ul></li>
<li><a href="#otherauth"><span class="toc-section-number">4.2.2</span> using other authentication systems with gitolite</a></li>
</ul></li>
<li><a href="#testing"><span class="toc-section-number">4.3</span> trying out and testing gitolite</a><ul>
<li><a href="#testing-gitolite"><span class="toc-section-number">4.3.1</span> testing gitolite</a></li>
<li><a href="#clobber"><span class="toc-section-number">4.3.2</span> appendix 1 -- the clobber list</a></li>
</ul></li>
<li><a href="#files"><span class="toc-section-number">4.4</span> gitolite files and directories</a><ul>
<li><a href="#directories"><span class="toc-section-number">4.4.1</span> directories</a></li>
<li><a href="#special-files"><span class="toc-section-number">4.4.2</span> special files</a></li>
<li><a href="#inside-a-gitolite-repo"><span class="toc-section-number">4.4.3</span> inside a &quot;gitolite repo&quot;</a></li>
<li><a href="#gitolite-software"><span class="toc-section-number">4.4.4</span> gitolite software</a></li>
</ul></li>
<li><a href="#perf"><span class="toc-section-number">4.5</span> gitolite performance</a><ul>
<li><a href="#tips-for-performance-worriers"><span class="toc-section-number">4.5.1</span> tips for performance worriers</a></li>
<li><a href="#why-theres-really-no-need-to-worry"><span class="toc-section-number">4.5.2</span> why there's really no need to worry!</a></li>
<li><a href="#the-only-thing-that-will-take-more-time"><span class="toc-section-number">4.5.3</span> the only thing that will take more time</a></li>
</ul></li>
<li><a href="#migr"><span class="toc-section-number">4.6</span> migrating</a><ul>
<li><a href="#pre-migration-checklist"><span class="toc-section-number">4.6.1</span> pre-migration checklist</a><ul>
<li><a href="#incompatible-features"><span class="toc-section-number">4.6.1.1</span> incompatible features</a><ul>
<li><a href="#high-impact"><span class="toc-section-number">4.6.1.1.1</span> high impact</a></li>
<li><a href="#medium-impact"><span class="toc-section-number">4.6.1.1.2</span> medium impact</a></li>
<li><a href="#low-impact"><span class="toc-section-number">4.6.1.1.3</span> low impact</a></li>
</ul></li>
<li><a href="#cg2c"><span class="toc-section-number">4.6.1.2</span> using the &quot;check-g2-compat&quot; program</a></li>
<li><a href="#rc-preset"><span class="toc-section-number">4.6.1.3</span> presetting the rc file</a></li>
</ul></li>
<li><a href="#the-actual-migration"><span class="toc-section-number">4.6.2</span> the actual migration</a></li>
<li><a href="#g2incompat"><span class="toc-section-number">4.6.3</span> appendix 1: v2-v3 incompatibilities</a><ul>
<li><a href="#g2i-name"><span class="toc-section-number">4.6.3.1</span> NAME rules</a></li>
<li><a href="#g2i-subconf"><span class="toc-section-number">4.6.3.2</span> subconf command in admin repo</a></li>
<li><a href="#g2i-gl-time"><span class="toc-section-number">4.6.3.3</span> gl-time for performance measurement</a></li>
<li><a href="#g2i-mirroring"><span class="toc-section-number">4.6.3.4</span> changes in mirroring setup</a></li>
</ul></li>
</ul></li>
<li><a href="#regex"><span class="toc-section-number">4.7</span> extremely brief regex overview</a></li>
<li><a href="#no-way"><span class="toc-section-number">4.8</span> no way!</a></li>
<li><a href="#g2migr-example"><span class="toc-section-number">4.9</span> migration example</a><ul>
<li><a href="#existing-setup"><span class="toc-section-number">4.9.1</span> existing setup</a></li>
<li><a href="#preparing-for-the-migration"><span class="toc-section-number">4.9.2</span> preparing for the migration</a><ul>
<li><a href="#getting-v3"><span class="toc-section-number">4.9.2.1</span> getting v3</a></li>
<li><a href="#run-check-g2-compat"><span class="toc-section-number">4.9.2.2</span> run check-g2-compat</a></li>
</ul></li>
<li><a href="#the-actual-migration-1"><span class="toc-section-number">4.9.3</span> the actual migration</a><ul>
<li><a href="#step-1"><span class="toc-section-number">4.9.3.1</span> step 1</a></li>
<li><a href="#step-2"><span class="toc-section-number">4.9.3.2</span> step 2</a></li>
<li><a href="#step-3"><span class="toc-section-number">4.9.3.3</span> step 3</a></li>
<li><a href="#step-4"><span class="toc-section-number">4.9.3.4</span> step 4</a></li>
<li><a href="#step-5"><span class="toc-section-number">4.9.3.5</span> step 5</a></li>
</ul></li>
<li><a href="#checking-things-out"><span class="toc-section-number">4.9.4</span> checking things out</a></li>
</ul></li>
<li><a href="#glssh"><span class="toc-section-number">4.10</span> how gitolite uses ssh</a><ul>
<li><a href="#ssh-basics"><span class="toc-section-number">4.10.1</span> ssh basics</a></li>
<li><a href="#how-does-gitolite-use-all-this-ssh-magic"><span class="toc-section-number">4.10.2</span> how does gitolite use all this ssh magic?</a><ul>
<li><a href="#restricting-shell-accessdistinguishing-one-user-from-another"><span class="toc-section-number">4.10.2.1</span> restricting shell access/distinguishing one user from another</a></li>
<li><a href="#restricting-branch-level-actions"><span class="toc-section-number">4.10.2.2</span> restricting branch level actions</a></li>
</ul></li>
</ul></li>
<li><a href="#gsmigr"><span class="toc-section-number">4.11</span> migrating from gitosis to gitolite</a></li>
<li><a href="#rc-33"><span class="toc-section-number">4.12</span> the v3.0 to v3.3 &quot;rc&quot; file (<code>$HOME/.gitolite.rc</code>)</a><ul>
<li><a href="#specific-variables-1"><span class="toc-section-number">4.12.1</span> specific variables</a></li>
</ul></li>
<li><a href="#sts"><span class="toc-section-number">4.13</span> ssh troubleshooting and tips</a><ul>
<li><a href="#important----read-this-first"><span class="toc-section-number">4.13.1</span> IMPORTANT -- READ THIS FIRST</a><ul>
<li><a href="#caveats-1"><span class="toc-section-number">4.13.1.1</span> caveats</a></li>
<li><a href="#naming-conventions-used"><span class="toc-section-number">4.13.1.2</span> naming conventions used</a></li>
<li><a href="#taking-stock----relevant-files-and-directories"><span class="toc-section-number">4.13.1.3</span> taking stock -- relevant files and directories</a></li>
<li><a href="#normal-gitolite-key-handling"><span class="toc-section-number">4.13.1.4</span> normal gitolite key handling</a></li>
</ul></li>
<li><a href="#common-ssh-problems"><span class="toc-section-number">4.13.2</span> common ssh problems</a></li>
<li><a href="#step-by-step"><span class="toc-section-number">4.13.3</span> step by step</a></li>
<li><a href="#random-tips-tricks-and-notes"><span class="toc-section-number">4.13.4</span> random tips, tricks, and notes</a><ul>
<li><a href="#giving-shell"><span class="toc-section-number">4.13.4.1</span> giving shell access to gitolite users</a><ul>
<li><a href="#the-shell_users_list"><span class="toc-section-number">4.13.4.1.1</span> the SHELL_USERS_LIST</a></li>
</ul></li>
<li><a href="#kfn"><span class="toc-section-number">4.13.4.2</span> distinguishing one key from another</a></li>
<li><a href="#simulating-ssh-copy-id"><span class="toc-section-number">4.13.4.3</span> simulating ssh-copy-id</a></li>
<li><a href="#problems-with-using-non-openssh-public-keys"><span class="toc-section-number">4.13.4.4</span> problems with using non-openssh public keys</a></li>
<li><a href="#windows-issues"><span class="toc-section-number">4.13.4.5</span> windows issues</a></li>
</ul></li>
<li><a href="#stsapp1"><span class="toc-section-number">4.13.5</span> appendix 1: ssh daemon asks for a password</a></li>
<li><a href="#sshkeys-lint"><span class="toc-section-number">4.13.6</span> appendix 2: which key is which -- running sshkeys-lint</a><ul>
<li><a href="#typical-causes"><span class="toc-section-number">4.13.6.1</span> typical cause(s)</a></li>
</ul></li>
<li><a href="#stsapp3"><span class="toc-section-number">4.13.7</span> appendix 3: ssh client may not be offering the right key</a></li>
<li><a href="#ssh-ha"><span class="toc-section-number">4.13.8</span> appendix 4: ssh host aliases</a></li>
<li><a href="#ybpfail"><span class="toc-section-number">4.13.9</span> appendix 5: why bypassing gitolite causes a problem</a></li>
</ul></li>
<li><a href="#why-v3"><span class="toc-section-number">4.14</span> why a completely new version?</a></li>
</ul></li>
<li><a href="#contributed-documentation"><span class="toc-section-number">5</span> contributed documentation</a><ul>
<li><a href="#ssh-and-http"><span class="toc-section-number">5.1</span> Making repositories available to both ssh and http mode clients</a></li>
<li><a href="#putty"><span class="toc-section-number">5.2</span> putty and msysgit</a><ul>
<li><a href="#msysgit-setup"><span class="toc-section-number">5.2.1</span> msysgit setup</a></li>
<li><a href="#going-back-to-openssh"><span class="toc-section-number">5.2.2</span> Going back to OpenSSH</a></li>
<li><a href="#putty-keys"><span class="toc-section-number">5.2.3</span> Putty keys</a><ul>
<li><a href="#creating-a-new-key"><span class="toc-section-number">5.2.3.1</span> Creating a new key</a></li>
<li><a href="#importing-an-existing-key"><span class="toc-section-number">5.2.3.2</span> Importing an existing key</a></li>
<li><a href="#loading-an-existing-key"><span class="toc-section-number">5.2.3.3</span> Loading an existing key</a></li>
<li><a href="#public-key"><span class="toc-section-number">5.2.3.4</span> Public key</a></li>
<li><a href="#putty-ageant"><span class="toc-section-number">5.2.3.5</span> Putty ageant</a></li>
</ul></li>
<li><a href="#sessionless-or-raw-hostname-usage"><span class="toc-section-number">5.2.4</span> Sessionless or raw hostname usage</a></li>
<li><a href="#putty-sessions"><span class="toc-section-number">5.2.5</span> Putty sessions</a></li>
<li><a href="#host-key-authentication"><span class="toc-section-number">5.2.6</span> Host key authentication</a></li>
<li><a href="#debugging-multiple-putty-ageant-keys"><span class="toc-section-number">5.2.7</span> Debugging multiple putty ageant keys</a></li>
<li><a href="#setperms-and-other-commands"><span class="toc-section-number">5.2.8</span> Setperms and other commands</a></li>
<li><a href="#about-this-document"><span class="toc-section-number">5.2.9</span> About this document</a></li>
</ul></li>
<li><a href="#sskm"><span class="toc-section-number">5.3</span> changing keys -- self service key management</a><ul>
<li><a href="#important"><span class="toc-section-number">5.3.1</span> Important!</a><ul>
<li><a href="#key-fingerprints"><span class="toc-section-number">5.3.1.1</span> Key fingerprints</a></li>
<li><a href="#active-keys"><span class="toc-section-number">5.3.1.2</span> Active keys</a></li>
<li><a href="#selecting-which-key-to-use"><span class="toc-section-number">5.3.1.3</span> Selecting which key to use</a></li>
<li><a href="#public-vs.-private-keys"><span class="toc-section-number">5.3.1.4</span> Public vs. private keys</a></li>
</ul></li>
<li><a href="#listing-your-existing-keys"><span class="toc-section-number">5.3.2</span> Listing your existing keys</a></li>
<li><a href="#adding-or-replacing-a-key"><span class="toc-section-number">5.3.3</span> Adding or Replacing a key</a><ul>
<li><a href="#step-1-adding-the-key"><span class="toc-section-number">5.3.3.1</span> Step 1: Adding the Key</a></li>
<li><a href="#step-2-confirming-the-addition"><span class="toc-section-number">5.3.3.2</span> Step 2: Confirming the addition</a></li>
<li><a href="#optional-undoing-a-mistaken-add-before-confirmation"><span class="toc-section-number">5.3.3.3</span> Optional: Undoing a mistaken add (before confirmation)</a></li>
</ul></li>
<li><a href="#removing-a-key"><span class="toc-section-number">5.3.4</span> Removing a key</a><ul>
<li><a href="#step-1-mark-the-key-for-deletion"><span class="toc-section-number">5.3.4.1</span> Step 1: Mark the key for deletion</a></li>
<li><a href="#step-2-confirming-the-deletion"><span class="toc-section-number">5.3.4.2</span> Step 2: Confirming the deletion</a></li>
<li><a href="#optional-undoing-a-mistaken-delete-before-confirmation"><span class="toc-section-number">5.3.4.3</span> Optional: Undoing a mistaken delete (before confirmation)</a></li>
</ul></li>
<li><a href="#important-notes-for-the-admin"><span class="toc-section-number">5.3.5</span> important notes for the admin</a></li>
</ul></li>
<li><a href="#ukm"><span class="toc-section-number">5.4</span> user key management</a><ul>
<li><a href="#important-warning"><span class="toc-section-number">5.4.1</span> Important Warning!</a></li>
<li><a href="#general-note"><span class="toc-section-number">5.4.2</span> General note</a></li>
<li><a href="#who-might-be-interested"><span class="toc-section-number">5.4.3</span> Who might be interested?</a><ul>
<li><a href="#the-gitolite-admin"><span class="toc-section-number">5.4.3.1</span> The gitolite admin</a></li>
<li><a href="#users-that-want-more-control-over-who-can-access-their-repositories"><span class="toc-section-number">5.4.3.2</span> Users that want more control over who can access their repositories</a></li>
<li><a href="#users-that-want-to-manage-multiple-keys"><span class="toc-section-number">5.4.3.3</span> Users that want to manage multiple keys</a></li>
</ul></li>
<li><a href="#how-to-enable-user-key-management"><span class="toc-section-number">5.4.4</span> How to enable user key management?</a></li>
<li><a href="#how-to-configure-user-key-management-and-who-can-use-it"><span class="toc-section-number">5.4.5</span> How to configure user key management and who can use it?</a><ul>
<li><a href="#super-key-managers"><span class="toc-section-number">5.4.5.1</span> <a href="#SKM">Super key managers</a></a></li>
<li><a href="#guest-key-managers"><span class="toc-section-number">5.4.5.2</span> <a href="#GKM">Guest key managers</a></a></li>
<li><a href="#self-key-managers"><span class="toc-section-number">5.4.5.3</span> <a href="#EKM">Self key managers</a></a></li>
</ul></li>
<li><a href="#how-to-use-user-key-management"><span class="toc-section-number">5.4.6</span> How to use user key management?</a><ul>
<li><a href="#list-managed-keys"><span class="toc-section-number">5.4.6.1</span> List managed keys</a></li>
<li><a href="#add-a-new-public-key"><span class="toc-section-number">5.4.6.2</span> Add a new public key</a><ul>
<li><a href="#add-a-new-key-as-a-super-key-manager"><span class="toc-section-number">5.4.6.2.1</span> Add a new key as a super key manager</a></li>
<li><a href="#add-a-new-key-as-a-guest-key-manager"><span class="toc-section-number">5.4.6.2.2</span> Add a new key as a guest key manager</a></li>
<li><a href="#add-a-new-key-as-a-self-key-manager"><span class="toc-section-number">5.4.6.2.3</span> Add a new key as a self key manager</a></li>
</ul></li>
<li><a href="#delete-a-key"><span class="toc-section-number">5.4.6.3</span> Delete a key</a><ul>
<li><a href="#delete-a-guest-key"><span class="toc-section-number">5.4.6.3.1</span> Delete a guest key</a></li>
<li><a href="#delete-a-self-key"><span class="toc-section-number">5.4.6.3.2</span> Delete a self key</a></li>
</ul></li>
</ul></li>
<li><a href="#generic-errors"><span class="toc-section-number">5.4.7</span> Generic Errors</a></li>
<li><a href="#glossary"><span class="toc-section-number">5.4.8</span> Glossary</a></li>
<li><a href="#security-note"><span class="toc-section-number">5.4.9</span> Security note</a></li>
<li><a href="#important-notes-for-the-admin-1"><span class="toc-section-number">5.4.10</span> Important notes for the admin</a></li>
<li><a href="#ideas"><span class="toc-section-number">5.4.11</span> Ideas</a></li>
</ul></li>
<li><a href="#README-emacs"><span class="toc-section-number">5.5</span> Emacs major mode for gitolite.conf</a></li>
</ul></li>
</ul>
</div>
<!-- master mode -->

<h1 id="background"><span class="header-section-number">1</span> background</h1>
<h2 id="index"><span class="header-section-number">1.1</span> Hosting Git Repositories</h2>
<table><tr><td>

<p>Gitolite allows you to setup git hosting on a central server, with fine-grained access control and many more powerful features.</p>
</td><td>

<hr /> 
<span class="red"><strong>Looking for the old &quot;Notes on Git&quot; page? Click <a href="../index2.html">here</a></strong>.</span>
<hr />

</td></tr></table>

<h3 id="dl" class="unnumbered">download</h3>
<p>Gitolite can be downloaded from <code>git://github.com/sitaramc/gitolite</code> or <code>https://code.google.com/p/gitolite/</code>.</p>
<p>If your Unix-fu and ssh-fu are good, installing gitolite is as simple as copying your public key over to the hosting user, and running a couple of commands, as the <a href="#qi">quick install</a> section of the install page shows.</p>
<h3 id="rtfm" class="unnumbered">documentation</h3>
<div class="green box-r" style="padding: 10px">
<p><strong>New (April 2014): There's a <a href="http://www.packtpub.com/gitolite-essentials/book">book on gitolite</a> out</strong>. I've received some emails over the years asking where to donate for gitolite to show your appreciation, and I've always refused politely. Well, if you insist... buy the book :-)</p>
</div>
<p>Gitolite has a lot of features, and consequently a lot of documentation.</p>
<p>This page (the one you're reading) is the main page. It, as well as most other pages, should have a &quot;Gitolite table of contents&quot; along the right margin (possibly preceded by a &quot;Page table of contents&quot;).</p>
<p>If you're not sure where to start, read the main page and the overview page, then look over the rest of the table of contents to decide.</p>
<p>In addition, there's an [all-in-one][gitolite] page, with topics in the same order as the main table of contents that you see on other pages. If you want to search for something but don't know which page you saw it, load this and use your browser's find function to search.</p>
<h4 id="fr" class="unnumbered">(reading order and forward references)</h4>
<p>I've tried hard to make the documentation readable in a straight sequence, using the &quot;Gitolite TOC&quot; on the right side. Of course there are places where I have no choice but to refer or link to something that has not been encountered yet, but generally you can ignore those links on a first pass through the documentation.</p>
<!-- Finally, there's also an [all-in-one page](gitolite.html).  If you're looking -->
<!-- for some word/phrase but forgot which page it was mentioned in, you can load -->
<!-- the all-in-one-page and use your browser's Ctrl-F (find in page) function. -->

<h3 id="trouble" class="unnumbered">troubleshooting</h3>
<p>If you're having trouble, please try the following resources first:</p>
<ul>
<li>The <a href="#emergencies">emergencies</a> page helps with all sorts of install/setup issues, recovering from lost keys and other self-inflicted wounds, lists some common (and some uncommon!) errors and non-standard configs that may trip you up.</li>
<li>The <a href="#ips">idiot-proof setup</a> is a very detailed page that shows one fool-proof way to install, as long as you follow instructions faithfully!</li>
<li>And finally, for specific post-install issues, perhaps the <a href="#cookbook">cookbook</a> has a recipe just for you?</li>
</ul>
<h3 id="contact" class="unnumbered">contact and support</h3>
<h4 id="email" class="unnumbered">email</h4>
<p>Unless you're reporting what you think is a security issue, please use the mailing list for all communication. (<strong>NOTE</strong>: The first email from a new member is held until I can clear it; subsequent emails from the same email address do not get held up).</p>
<ul>
<li>Mailing list for support and general discussion:
<ul>
<li>Post: gitolite@googlegroups.com</li>
<li>Subscribe: gitolite+subscribe@googlegroups.com</li>
</ul></li>
</ul>
<p>If you don't want to participate in the discussions and only want to be informed of releases, security announcements, etc., you can subscribe to the announce list. This is a one-way list; only I can post to it.</p>
<ul>
<li>Mailing list for announcements and notices:
<ul>
<li>Subscribe: gitolite-announce+subscribe@googlegroups.com</li>
</ul></li>
</ul>
<p><span class="red">If you think you found a <strong>security issue</strong>, please email me directly: sitaramc@gmail.com or sitaram@atc.tcs.com.</span></p>
<p>If you wish to send me code, please see the file called CONTRIBUTING in the source distribution.</p>
<h4 id="irc" class="unnumbered">IRC</h4>
<p>We're on irc at #gitolite on freenode. I live in India (UTC+0530 time zone), but there are a few regulars (<em>thanks, guys, you know who you are!</em>) from other times zones. That said, it's not heavy traffic and you may have to wait a while for an answer, depending on the time of day and day of week.</p>
<p>There are also a few gitolite-knowledgeable people on the git channel #git.</p>
<h3 id="license" class="unnumbered">license</h3>
<p>The gitolite software is copyright Sitaram Chamarty and is licensed under the GPL v2; please see the file called COPYING in the source distribution.</p>
<p>This <strong>documentation</strong>, which is maintained separately from the main gitolite source code, is copyright Sitaram Chamarty and is provided under a <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.</p>
<p>However, certain parts are contributed by others who may have chosen other licenses; their names and license will be mentioned in the respective files.</p>
<p>Documentation for a software product will naturally contain code examples. I believe that the principle of fair use should cover use of those snippets; see especially factors 3 and 4 in the list of factors <a href="http://en.wikipedia.org/wiki/Fair_use#Fair_use_under_United_States_law">here</a>.</p>
<p>If you're not convinced that it would be fair use, then you may consider those code snippets, as well as associated &quot;comments&quot; if any, to be under the GPLv2 license. Licensing is about intent, and the intent of these examples is that you use them wherever and however you can use gitolite itself.</p>
<blockquote>
<hr />
  <center>
<strong>NOTE</strong>: GIT is a trademark of Software Freedom Conservancy and my use of &quot;Gitolite&quot; is under license.
</center>
  <hr />

</blockquote>
<script type="text/javascript">
<!--
    window.onload = function() {
        hide_show('GTOC')
    }
-->
</script>

<h2 id="overview"><span class="header-section-number">1.2</span> Gitolite Overview</h2>
<p>Gitolite allows you to setup git hosting on a central server, with fine-grained access control and many more powerful features.</p>
<h3 id="what"><span class="header-section-number">1.2.1</span> what is gitolite?</h3>
<p>Gitolite is an access control layer on top of git. Here are the features that most people see:</p>
<ul>
<li>Use a single unix user (&quot;real&quot; user) on the server.</li>
<li>Provide access to many gitolite users:
<ul>
<li>they are not &quot;real&quot; users,</li>
<li>so they do not get shell access.</li>
</ul></li>
<li>Control access to many git repositories:
<ul>
<li>read access controlled at the repo level,</li>
<li>and write access controlled at the branch/tag/file/directory level, including who can rewind, create, and delete branches/tags.</li>
</ul></li>
<li>Can be installed without root access, assuming git and perl are already installed.</li>
<li>Authentication is most commonly done using sshd, but you can also use &quot;smart http&quot; mode if you prefer (this may require root access to setup).</li>
</ul>
<div class="bg-green">
<p><strong>New (April 2014): There's a <a href="http://www.packtpub.com/gitolite-essentials/book">book on gitolite</a> out</strong>. I've received some emails over the years asking where to donate for gitolite to show your appreciation, and I've always refused politely. Well, if you insist... buy the book :-)</p>
</div>
<h3 id="why-might-you-need-it"><span class="header-section-number">1.2.2</span> why might you need it?</h3>
<h4 id="access-control"><span class="header-section-number">1.2.2.1</span> access control</h4>
<p>Git by itself does not do any access control -- it relies on the transport medium to do authentication (&quot;who are you?&quot;), and on OS file permissions to do authorisation (&quot;what are you allowed to do?&quot;).</p>
<p>Git also comes with a program called &quot;git-shell&quot; which can act as a restricted login shell if you don't want users getting a proper shell. Using this and judicious use of Unix groups, you can allow some people read-only access while others get read-write access, etc. This is probably sufficient if your needs are simple and don't change too often.</p>
<p>However, gitolite does this much better, and offers many more features.</p>
<h5 id="basic-use-case"><span class="header-section-number">1.2.2.1.1</span> basic use case</h5>
<p>Gitolite is useful in any server that is going to host multiple git repositories, each with many developers, where &quot;anyone can do anything to any repo&quot; is not a good idea. Here're two examples to illustrate.</p>
<table><tr><td>

<p>This first example has 3 repos and 3 developers with different levels of access to each repo. It's a very simple, readable, syntax, and makes it easy to answer questions like &quot;what repos can bob push to&quot; (answer: only 'bar').</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    RW+</span><span class="Constant">     </span>=   alice
<span class="Statement">    RW</span><span class="Constant">      </span>=   carol

<span class="Type">repo </span>bar
<span class="Statement">    RW+</span><span class="Constant">     </span>=   bob
<span class="Statement">    R</span><span class="Constant">       </span>=   alice

<span class="Type">repo </span>baz
<span class="Statement">    RW+</span><span class="Constant">     </span>=   carol
<span class="Statement">    R</span><span class="Constant">       </span>=   alice bob
</pre>

</td></tr><tr>

<td>

<p>This second example allows different levels of access to different branches and tags for different developers:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    RW+</span><span class="Constant">                         </span>=   alice
<span class="Statement">    RW</span><span class="Constant">  master                  </span>=   bob
<span class="Statement">    RW+</span><span class="Constant"> dev/                    </span>=   bob
<span class="Statement">    RW</span><span class="Constant">  refs/heads/tags/v[0-9]  </span>=   ashok
</pre>

</td></tr></table>

<h4 id="other-features"><span class="header-section-number">1.2.2.2</span> other features</h4>
<p>Gitolite has many more features, as you might guess from the documentation links on the right. Here's a quick sample:</p>
<ul>
<li>Very powerful rule language (decide based on branch/tag name, files/dirs touched, size of changed files, number of changed files, etc.).</li>
<li>Convenience features for writing the rules (repo groups, user groups, get user group info from LDAP, include files, macros...)</li>
<li>Highly customisable and scriptable, especially custom commands for users. Many built-in commands and options.</li>
<li>Powerful and flexible mirroring system.</li>
<li>Users can create their own repos and set access rights (if you allow them).</li>
</ul>
<h4 id="alt"><span class="header-section-number">1.2.2.3</span> alternatives to gitolite</h4>
<h5 id="unix-permissions-and-acls"><span class="header-section-number">1.2.2.3.1</span> unix permissions and ACLs</h5>
<p>If you're a masochist, you could probably do example 1 with Unix permissions and facls. But you can't do example 2 -- git is not designed to allow that!</p>
<p>Here are some other disadvantages of the Unix ACL method:</p>
<ul>
<li>Every user needs a userid and password on the server.</li>
<li>Changing access rights involves complex <code>usermod -G ...</code> mumblings (I.e., the &quot;pain&quot; mentioned above is not a one-time pain!)</li>
<li><em>Viewing</em> the current set of permissions requires running multiple commands to list directories and their permissions/ownerships, users and their group memberships, and then correlating all these manually.</li>
<li>Auditing historical permissions or permission changes is impossible.</li>
</ul>
<h5 id="gcr"><span class="header-section-number">1.2.2.3.2</span> Gerrit Code Review</h5>
<p>The best real alternative to gitolite is Gerrit Code Review. If code review is an essential part of your workflow, you should use Gerrit.</p>
<p>Here're some high level differences between gitolite and Gerrit (as of about mid-2012 or so):</p>
<p><strong>Size</strong>: 3000+ lines of perl versus of 56,000+ lines of Java</p>
<p><strong>Architecture</strong>: Gitolite sits on top of &quot;standard&quot; git and openssh, which are assumed to already be installed. Gerrit includes its own git stack (jgit) and sshd (Apache Mina). In Java tradition, they all come bundled together.</p>
<p>(Corollary: As far as I know jgit does not support the same hooks that 'man githooks' talks about).</p>
<p>Gitolite uses a plain text config file; gerrit uses a database.</p>
<p><strong>User view</strong>: Gitolite is invisible to users except when access is denied. Gerrit is much more visible to devs because of its role in enforcing code review, approvals, and workflow.</p>
<p>On a related note, gitolite does not do anything special with signed or annotated tags, nor does it check author/committer identity. However, it is trivial to add your own code to do either (or if someone contributes it, to just &quot;enable&quot; what ships with gitolite in a disabled state).</p>
<h5 id="gitorious-gitlab-and-others"><span class="header-section-number">1.2.2.3.3</span> gitorious, gitlab, and others</h5>
<p>Anecdotally, gitorious is very hard to install. Comparison with gitolite may be useless because I believe it doesn't have branch/tag level access control. However, I can't confirm or deny this because I can't find any documentation on the website. In addition, the main website hides the source code very well, so you already have a challenge! [The only link I could find was tucked away at the bottom of the About page, in the License section].</p>
<p>Gitorious has several, much newer, competitors offering web-based management, issue tracker, wiki, and so on; try googling for gitlab, gitblit, and rhodecode. Many of them now offer branch level access control as well, to some extent or other.</p>
<p>However, they are unlikely to be as <a href="#non-core">customisable</a> as gitolite is, if you care about that sort of thing.</p>
<h3 id="how-does-it-work"><span class="header-section-number">1.2.3</span> how does it work?</h3>
<p>At a very high level, gitolite relies on <strong>sshd</strong> (or <strong>httpd</strong> if you're using the smart http mode) to authenticate the user and supply the username. Based on this, and the command given, it decides whether to allow or deny the request.</p>
<table><tr><td>

<p>Consider a push command in ssh mode. Normally (i.e., without gitolite) this would invoke 'git-receive-pack' on the server, and the flow would be somewhat like this (left side is client, right side is server):</p>
</td><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td></tr></table>

<hr />
<table><tr><td>

<p>When you install gitolite and setup the user, gitolite sets up ssh to <strong>force</strong> the gitolite-shell command to run first, instead of the command requested:</p>
<p>The 'gitolite-shell' program uses the username supplied by ssh, and the repo name in the command, to decide if the user has write access to the repo or not.</p>
<p>If he does have <em>some</em> write access, git-receive-pack is called, but that's not the end of the story. The branch/tag/file(s) he is pushing also need to be checked, and gitolite sets up the update hook on the repo to do that.</p>
</td><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td></tr></table>

<p>A more detailed explanation, with figures, is <a href="#how">here</a>.</p>
<h3 id="who-uses-it"><span class="header-section-number">1.2.4</span> who uses it?</h3>
<p>[Note that many of the users who are listed in this page may still be using v2.x, presumably because it's working fine for them and there's no compelling reason to upgrade, and I still support v2 at least for critical issues].</p>
<blockquote>
<hr />
  
If you're using gitolite and find it very useful in some way, I would love to describe your use of it or add a link to your own description of it here. Of course, you can anonymise it as much as you need to.
<hr />

</blockquote>
<p>The <strong>Fedora Project</strong> controls access to over 10,000 package management repositories accessed by over 1,000 package maintainers <a href="http://lists.fedoraproject.org/pipermail/devel-announce/2010-July/000647.html">using gitolite</a>. This is probably the largest <em>confirmed</em> gitolite installation anywhere. The whole &quot;big-config&quot; option back in v2 (in v3 this is the default!) was initially done for them (their config file was so big that without the big-config changes gitolite would just run out of memory and die!).</p>
<p>The <strong>KDE project</strong> <a href="http://community.kde.org/Sysadmin/GitKdeOrgManual">uses</a> gitolite (in combination with redmine for issue tracking and reviewboard for code review). Apart from the usual access control, the KDE folks are heavy users of the &quot;ad hoc repo creation&quot; features enabled by wildrepos and the accompanying commands. Several of the changes to the &quot;admin defined commands&quot; were also inspired by KDE's needs. See <a href="http://community.kde.org/Sysadmin/GitKdeOrgManual#Server-side_commands">section 5</a> and <a href="http://community.kde.org/Sysadmin/GitKdeOrgManual#Personal_repositories">section 6</a> of the above linked page for details.</p>
<p><strong>Prof. Hiren Patel</strong> of the University of Waterloo is responsible for the existence of the fairly popular &quot;<a href="#wild">wildrepos</a>&quot; feature. The documentation was pretty much written with his use case in mind, but of course it turns out to be useful for a lot of people, as you can see from the previous para on KDE's use of gitolite.</p>
<p>In fact, he surprised the heck out of me once by saying that if it hadn't been for this feature, he might not have used git itself -- which is a pretty serious compliment if you think about the magnitude of the git project and my little one-man show!</p>
<p>He explains his use of it <a href="http://caesr.uwaterloo.ca/wildrepos-in-gitolite/">here</a>.</p>
<p><strong>Gentoo Linux</strong> has <a href="http://archives.gentoo.org/gentoo-dev/msg_2812c9b9e768f64b46360ab17b9d0024.xml">just moved</a> their git repositories from gitosis to gitolite. There are about 200 repositories, some of them are the so called <a href="http://www.gentoo.org/proj/en/overlays/">overlays</a>, official and unofficial/user overlays, plus several developer and project repositories, used by more than 1000 people. That number will be increased in the near future, as they are going to migrate some of their CVS/SVN repositories there, plus they are offering overlays hosting for users as well.</p>
<p><strong>kernel.org</strong>, the official distribution point for the Linux kernel, is the latest (as of 2011-10) high-visibility installation. According to <a href="http://lkml.org/lkml/2011/9/23/357">this email</a> to the lkml, kernel.org decided to use gitolite for access controlling their git repos. Their <a href="http://www.kernel.org/faq/#whygitolite">FAQ entry</a> describes at a high level why they chose gitolite.</p>
<p>This move also prompted the first ever security audit of gitolite by an outside party. Gitolite did great; see <a href="http://groups.google.com/group/gitolite/browse_thread/thread/8dc5242052b16d0f">here</a> for details. [NOTE: v3 has not had such an audit yet; if you did one, please let me know what you found. If you want to do one and need clarifications on anything or general background let me know].</p>
<p>In addition, kernel.org was responsible for a serious rethink of a few rough edges in gitolite, and smoothing them out was fun (the &quot;playing with gitolite&quot; stuff, making the test suite simpler, &quot;deny&quot; rules for the entire repo).</p>
<p>The <strong>Mageia Project</strong> is <a href="http://gitweb.mageia.org/">using</a> gitolite 3 to manage its git repositories and access control. The repositories are <a href="http://gitweb.mageia.org/infrastructure/repositories/software/">defined</a> in yaml files. A tool called <a href="http://gitweb.mageia.org/software/infrastructure/mgagit/">mgagit</a> has been created and is repsonsible for the generation of the gitolite configuration from the yaml repos definitions, and the extraction of users' ssh keys from an ldap directory into the gitolite configuration.</p>
<p>Gitolite and mgagit are installed using rpm packages and <a href="http://svnweb.mageia.org/adm/puppet/deployment/mgagit/">a puppet module</a>.</p>
<hr />
<p>A general note: if you see the list of high-profile users above, you will see that gitolite benefits as much as they do; possibly more.</p>
<h3 id="license"><span class="header-section-number">1.2.5</span> license</h3>
<p>Please see the <a href="#license">license</a> section for details on the licenses for gitolite code and documentation.</p>
<blockquote>
<hr />
  <center>
<strong>NOTE</strong>: GIT is a trademark of Software Freedom Conservancy and my use of &quot;Gitolite&quot; is under license.
</center>
  <hr />

</blockquote>
<h2 id="concepts"><span class="header-section-number">1.3</span> Concepts and Terminology</h2>
<p><span class="box-r">I assume you're at least somewhat familiar with <strong>git</strong> itself. If not, the <a href="#req">&quot;what you need&quot;</a> page has a list of topics that you should be familiar with.</span></p>
<p>This page will help newcomers get used to what we're talking about elsewhere. Any time you hear a word or phrase you're not familiar with, this is the page that will help you figure it out.</p>
<p>It also contains a collection of extra background information that some of the main sections may gloss over, such as for example the section on &quot;how does gitolite-admin work?&quot;</p>
<h3 id="auth"><span class="header-section-number">1.3.1</span> authentication and authorisation</h3>
<p><span class="red"><strong>Gitolite does not do authentication. It only does authorisation.</strong></span></p>
<p>So let's loosely define these words:</p>
<blockquote>
<p><strong>Authentication</strong> is the process of verifying that you are who you claim to be. An authentication system will establish that I am the user &quot;sitaram&quot; on my work system. The one behind gmail will similarly establish that I am &quot;sitaramc&quot;. And so on...</p>
</blockquote>
<blockquote>
<p><strong>Authorisation</strong> is the process of asking what you want to do and deciding if you're allowed to do it or not.</p>
</blockquote>
<p>When you use gitolite, it's in one of two modes: ssh mode, or http mode. In ssh mode, your users will authenticate themselves to your server's &quot;sshd&quot; (ssh daemon), while in http mode they will be talking to your web server. A user who fails to authenticate himself will not make it past that step, so gitolite is not even involved.</p>
<p>If authentication succeeds, sshd or httpd will pass control to gitolite, which can then figure out whether to allow you to do whatever it is you want to whatever repo you decided to touch. That's authorisation.</p>
<h3 id="ssh-mode-and-http-mode"><span class="header-section-number">1.3.2</span> ssh mode and http mode</h3>
<p>Git allows authenticated remote access using these two mechanisms: ssh and http. Gitolite supports both.</p>
<p>Ssh mode is much easier to install and setup; most systems already have whatever you need, and -- except for creating the &quot;hosting user&quot; -- you don't need to do anything as root. However, your users have to generate an ssh keypair for themselves (using &quot;ssh-keygen&quot;) if they don't already have a keypair, and they have to send you the public key (the file ending in &quot;.pub&quot;), which you add to gitolite.</p>
<p>Http mode requires a bit more work in terms of setting things up. Once setup, however, it may be a little easier for your users. Authentication is by username + password, which, although much less secure than RSA keypairs, is conceptually easier for users.</p>
<h3 id="hu"><span class="header-section-number">1.3.3</span> hosting user</h3>
<p>When you install gitolite in ssh mode, you pick one specific user on the Unix system to be the &quot;hosting user&quot;. This is the user whose name goes into the repo URLs your users will be cloning, for example <code>ssh://git@server/repo</code>, or the simpler form <code>git@server:repo</code>.</p>
<p><span class="box-r">If you're wondering how it distinguishes between different users when they are all logging into &quot;git&quot;, the <a href="#ssh">ssh</a> page has all that and much more!</span></p>
<p><em>Usually</em>, this is &quot;git&quot;, and that is what we assume in this documentation. However, it can actually be any user on the system, and I think both the Fedora RPM and the Debian DEB use &quot;gitolite&quot;, so adjust instructions and examples accordingly. <strong>Unless otherwise stated, everything that we do &quot;on the server&quot; is done in this userid (for ssh mode installations).</strong></p>
<p>Of course you can have any number of &quot;hosting users&quot;, but that's rare.</p>
<h3 id="the-special-gitolite-admin-repo"><span class="header-section-number">1.3.4</span> the special gitolite-admin repo</h3>
<p>Gitolite manages git repos. Among them is a repo called &quot;gitolite-admin&quot;, which is a very special repository that helps you add and remove users and repos, as well as define access rules for them. <strong>Most day-to-day management of gitolite is done by cloning this repository, making changes to it, and pushing the changes back to the server.</strong></p>
<p>Specifically, it contains a directory called &quot;keydir&quot;, in which you place files with names like &quot;alice.pub&quot;, &quot;bob.pub&quot;, etc. These are the public keys of you and your users.</p>
<table><tr><td>

<p>It also contains a file called &quot;conf/gitolite.conf&quot;, in which you add access rules specifying who gets what level of access to each repo. Here's a simple example:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment"># these lines were already in the file</span>
<span class="Type">repo </span>foo
<span class="Statement">    RW+</span><span class="Constant">     </span>=   alice
<span class="Statement">    RW</span><span class="Constant">      </span>=   bob

<span class="Comment"># these lines were added just now</span>
<span class="Type">repo </span>bar
<span class="Statement">    RW+</span><span class="Constant">     </span>=   bob
<span class="Statement">    R</span><span class="Constant">       </span>=   alice
</pre>

</td></tr></table>

<p>Here's what happens when you commit the changes/additions to these files and push them to the server. Since we've already seen the ssh/sshd part of this process (in the <a href="#overview">overview</a> page), we'll start off from &quot;git-receive-pack&quot;:</p>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<ol style="list-style-type: decimal">
<li><p>The 'gitolite-admin' repo has a special 'post-update' hook, installed by gitolite, which is invoked by git-receive-pack. This is how gitolite gets in on the action.</p></li>
<li><p>Gitolite looks at the keys in keydir, and updates ssh's authorized keys file using those keys, so ssh knows who the valid users are. A ton of detail about this is in the <a href="#ssh">ssh pages</a>.</p></li>
<li><p>It then updates some internal files in <code>~/.gitolite</code></p></li>
<li><p>For new repositories (repos that do not exist in <code>~/repositories</code>, but are mentioned in <code>conf/gitolite.conf</code>), it <strong>creates</strong> the repository.</p></li>
<li><p>For each repository, it updates a special file inside the repository that contains the rules pertaining to that repository.</p></li>
</ol>
<p>And that, boys and girls, is how gitolite does its thing. That is also why you should NEVER touch any of those files yourself, unless you know what you're doing!</p>
<h2 id="req"><span class="header-section-number">1.4</span> Before you start...</h2>
<p>This page talks about what you need to make sure you have before you install gitolite. For most people, this is not a big deal, but please read through it anyway. If you want to make sure, there's a section on trying it out safely.</p>
<h3 id="your-skills"><span class="header-section-number">1.4.1</span> your skills</h3>
<ul>
<li><p>If you're installing gitolite, you're a &quot;system admin&quot;, like it or not. Since most people use the ssh mode, <strong><a href="#ssh">ssh</a></strong> is therefore a necessary skill. Please take the time to learn at least enough to get passwordless access working.</p></li>
<li><p>You also need to be somewhat familiar with git itself. You cannot administer a whole bunch of git repositories if you don't know the basics of git.</p>
<p>Please make sure you understand at least the following concepts: <em>bare versus non-bare repos, cloning a repo, making changes and committing them, pushing commits to a 'remote', the special remote called 'origin', difference between a fast-forward push and a rewind push, 'refs' (i.e., branches and tags)</em>.</p>
<p>It also helps to understand git's hooks mechanism, git-config, and so on.</p></li>
<li><p>Some familiarity with Unix and shells is probably required.</p></li>
<li><p><a href="#regex">Regular expressions</a> are a big part of gitolite in many places but familiarity is not necessary to do <em>basic</em> access control.</p></li>
</ul>
<h3 id="your-server"><span class="header-section-number">1.4.2</span> your server</h3>
<ul>
<li>Any Unix system with a posix compatible &quot;sh&quot; and a <strong>sane</strong> file system.</li>
<li>Git version 1.6.6 or later.</li>
<li>Perl 5.8.8 or later.</li>
<li>Openssh (almost any version). Optional if you're using <a href="#http">smart http</a>.</li>
<li>A dedicated Unix userid to be the hosting user, usually &quot;git&quot; but it can be any user, even your own normal one. (If you're using an RPM/DEB the install probably created one called &quot;gitolite&quot;).</li>
</ul>
<h3 id="you-and-your-users-clients"><span class="header-section-number">1.4.3</span> you and your users' clients</h3>
<ul>
<li>Openssh client.</li>
<li>Git 1.6.6 or later. Almost any git client will work, as long as it knows how to use ssh keys and send the right one along.</li>
</ul>
<h3 id="cautions-and-caveats"><span class="header-section-number">1.4.4</span> cautions and caveats</h3>
<p><strong>Please take note of the following points</strong>:</p>
<ul>
<li><p>If you're bringing existing repos into gitolite, please see <a href="#existing">this</a> first.</p></li>
<li><p>Gitolite expects all the directories and files it manages/uses to be owned by the <a href="#hu">hosting user</a> and not have strange permissions and ownerships.</p></li>
<li><p>Gitolite does NOT like it if you fiddle with <a href="#files">files and directories it cares about</a> in any way except as directed in the documentation.</p></li>
<li><p>Gitolite depends on several system-installed packages: openssh, git, perl, sh being the main ones. They should all be configured sensibly and with most of the normal defaults. (For example, if your sshd config says the authorized keys file should be placed in some directory other than the default, expect trouble).</p></li>
</ul>
<p><span class="gray">(For your entertainment, <a href="#no-way">here</a> are some requests I have refused over the years).</span></p>
<h3 id="trying"><span class="header-section-number">1.4.5</span> trying out gitolite safely</h3>
<p>If you're not sure if gitolite is right for you or your system, it's easy to take it for a trial run, in ssh mode, and play with all of its features (except mirroring). This is very safe, and does not affect anything on your system permanently.</p>
<p><font color="red"><strong>WARNING: this will clobber <a href="#clobber">these files and directories</a> in your <code>$HOME</code>. Ideally, you should use a throwaway userid</strong>.</font></p>
<p>Just create a <strong>throw-away userid</strong>, log in to it, then run these commands:</p>
<pre><code>git clone git://github.com/sitaramc/gitolite
cd gitolite
prove t/ssh*</code></pre>
<p>You will get an error that forces you to read <code>t/README</code> and set an env var before the test can proceed. This is intentional; I've had people who don't pay attention to the &quot;data loss&quot; warning, and then complain that it was not prominent enough. Forcing them to read a much smaller page appears to focus their attention better!</p>
<p>If it doesn't work, re-read this page to see if you may have missed something that gitolite requires, or ask for <a href="#contact">support</a>.</p>
<p>If it works, you get a gitolite installation with 7 gitolite users (&quot;admin&quot;, and &quot;u1&quot; through &quot;u6&quot;).</p>
<p>Don't forget that the client and the server are all on the same user on the same machine; we're <em>simulating</em> 7 gitolite users using ssh keys! (How? Maybe <code>~/.ssh/config</code> will give you a hint).</p>
<p>URLs look like <code>user:repo</code>, so for example you can clone the admin repo by <code>git clone admin:gitolite-admin</code>. Remote commands look like <code>ssh u1 info</code>.</p>
<p>So start by cloning the admin repo, and try out whatever you want!</p>
<h1 id="basics"><span class="header-section-number">2</span> basics</h1>
<h2 id="install"><span class="header-section-number">2.1</span> install and setup</h2>
<p><span class="box-r"><strong>NOTE</strong>: this page is about an ssh mode installation. There's a different page for <a href="#http">http mode</a> installation if you need that.</span></p>
<p>This page talks about installing the software and setting it up. The install step gets the code to where you want it. The setup step creates the files and directories gitolite needs, including the special gitolite-admin repo, and makes you an administrator so you can manage it remotely.</p>
<p><span class="red"><strong>NOTE</strong>: if you're looking to migrate from one of the older versions of gitolite, instructions are <a href="#migr">here</a>.</span></p>
<h3 id="qi"><span class="header-section-number">2.1.1</span> quick install+setup for experts</h3>
<p>If your Unix-fu and ssh-fu are good, just copy your ssh public key (i.e., the <code>~/.ssh/id_rsa.pub</code> file) from your workstation to the hosting user, then do something like this:</p>
<pre><code>su - git
mkdir -p ~/bin

git clone git://github.com/sitaramc/gitolite
gitolite/install -ln ~/bin          # please use absolute path here
gitolite setup -pk yourname.pub</code></pre>
<p>Please be sure to read any messages produced by these steps, especially the last one, to make sure things went OK.</p>
<p>Notes:</p>
<ol style="list-style-type: decimal">
<li>If your hosting user is not 'git', substitute accordingly.</li>
<li>Make sure <code>~/bin</code> is in <code>$PATH</code>. If it is not, add something to your shell startup files to make it so. If some other writable directory is in the path, you can use that if you like.</li>
<li>Substitute your name for &quot;yourname&quot; :-)</li>
</ol>
<h3 id="the-scenic-route"><span class="header-section-number">2.1.2</span> the scenic route</h3>
<p>Please DO read the <a href="#concepts">concepts and terminology</a> page before going further.</p>
<h4 id="a-graphical-overview"><span class="header-section-number">2.1.2.1</span> (a graphical overview)</h4>
<p>Here's a graphical overview of what files/directories are affected by each step in the install+setup process. Alice is installing gitolite, with herself as the administrator.</p>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>The files names you see there are <strong>only for information</strong>. You do <strong>not</strong> have to do anything to them yourself; in fact you should not! You only need the command for each step shown:</p>
<ol style="list-style-type: decimal">
<li>Copy the admin's pubkey to the server as &quot;alice.pub&quot;.</li>
<li>Run <code>git clone git://github.com/sitaramc/gitolite</code> or equivalent.</li>
<li>Run <code>gitolite/install -ln</code>.</li>
<li>Run <code>gitolite setup -pk alice.pub</code>.</li>
</ol>
<p>Note also that you only need ONE real user on the server. In our example it is git. In particular, you do NOT create Unix userids for your gitolite users.</p>
<h4 id="prepare-for-the-install"><span class="header-section-number">2.1.2.2</span> prepare for the install</h4>
<p>The simplest, most foolproof, way of ensuring that your gitolite install + setup will succeed is to use a brand new userid as the hosting user. If that is not possible, make sure the following do NOT exist in that user's home directory: <code>~/.gitolite.rc</code>, <code>~/.gitolite</code>, <code>~/repositories</code>, and <code>~/.ssh/authorized_keys</code>.</p>
<p><span class="red">Before you go trashing that authorized keys file, please make sure you know the password to the 'git' user, or know the root password on the machine!</span></p>
<p><span class="gray">The authorized keys file <em>can</em> exist, actually, as long as none of the keys you intend to use with gitolite are present in it. But again, if you're not an ssh guru, you should probably play safe.</span></p>
<h4 id="get-the-software"><span class="header-section-number">2.1.2.3</span> get the software</h4>
<p>Get the software using git-clone:</p>
<pre><code>git clone git://github.com/sitaramc/gitolite</code></pre>
<p>You can use this as is, or you can check out the latest tag to make sure you're running a tagged version instead of just the current 'master'.</p>
<h4 id="install"><span class="header-section-number">2.1.2.4</span> install</h4>
<p>Gitolite has one server side command: <code>gitolite</code>. You don't need to place it anywhere special; in the worst case you can run it with the full path.</p>
<p>&quot;Installation&quot; consists deciding where to put it:</p>
<ol style="list-style-type: decimal">
<li>Keep the sources anywhere and use the full path to run the <code>gitolite</code> command.</li>
<li>Keep the sources anywhere and symlink <em>just</em> the <code>gitolite</code> program to some directory on your <code>$PATH</code>.</li>
<li>Copy the sources somewhere and use that path to run the <code>gitolite</code> command.</li>
</ol>
<p>Option 2 is the best for general use, but here's the scoop on all of them:</p>
<pre><code># option 1
gitolite/install

# option 2
gitolite/install -ln
# defaults to $HOME/bin (which is assumed to exist)
#   ** or **
# or use a specific directory (please supply FULL path):
gitolite/install -ln /usr/local/bin

# option 3
# (again, please supply a FULL path)
gitolite/install -to /usr/local/gitolite/bin</code></pre>
<p>Creating a symlink doesn't need a separate program but 'install' also runs <code>git describe</code> to create a VERSION file, which can be very important if you want support :-)</p>
<h4 id="setup"><span class="header-section-number">2.1.2.5</span> setup</h4>
<p>For the first-time setup, you need to have a public key file (usually from the admin's workstation) ready. If the main gitolite admin's username is &quot;alice&quot;, this file should be named &quot;alice.pub&quot; and copied to the server.</p>
<p>Once that is done, run:</p>
<pre><code>gitolite setup -pk alice.pub</code></pre>
<p>If that completes without any warnings, you are done. If it had a warning, you probably supplied a key which already has shell access to the server. That won't work; you'll have to generate and use a different key pair for gitolite access and use <a href="#ssh-ha">host aliases</a> to distinguish between the two. While you're there, read both the <a href="#ssh">ssh</a> pages. Twice.</p>
<hr />
<p>The 'setup' command has other uses, so you will be running it at other times after the install as well:</p>
<ul>
<li><p>To setup the update hook when you move <a href="#existing">existing</a> repos to gitolite. This also applies if someone has been fiddling with the hooks on some repos and you want to put them all right quickly.</p></li>
<li><p>To replace a <a href="#lost-key">lost admin key</a>.</p></li>
<li><p>To setup gitolite for http mode (run 'gitolite setup -h' for more info).</p></li>
</ul>
<p>When in doubt, run 'gitolite setup' anyway; it doesn't do any harm, though it may take a minute or so if you have more than a few thousand repos!</p>
<h3 id="upgrading"><span class="header-section-number">2.1.3</span> upgrading</h3>
<ul>
<li>Update your clone of the gitolite source.</li>
<li>Repeat the install command you used earlier (make sure you use the same arguments as before).</li>
<li>Run <code>gitolite setup</code>.</li>
</ul>
<h3 id="moving"><span class="header-section-number">2.1.4</span> appendix 1: moving servers</h3>
<!-- XXX TODO: maybe a nice picture? -->

<p><span class="box-r">Note: This section has one or more <a href="#fr">forward references</a>.</span></p>
<p>Nothing in any of the gitolite install/setup/etc will ever touch the <em>data</em> in any repository except the gitolite-admin repo. The only thing it will normally touch is the <code>update</code> hook. So one fool-proof way of &quot;moving&quot; servers is this (XXX TODO XXX -- test this and remove the next phrase) untested but should work; feedback appreciated):</p>
<ol style="list-style-type: decimal">
<li><p>Clone the latest gitolite-admin repo from the old server to your workstation. Make sure you have an admin key that has RW+ rights to the gitolite-admin repo; you will need this later.</p></li>
<li><p>Install gitolite on the new server, using the same key for the admin as for the old server.</p></li>
<li><p>Copy the <a href="#rc">rc</a> file from the old server, overwriting this one.</p></li>
<li><p><a href="#writable">Disable</a> the old server so people won't push to it.</p></li>
<li><p>Copy all the repos over from the old server. Make sure the files end up with the right ownership and permissions; if not, chown/chmod them.</p>
<p>The gitolite-admin repo already exists on the new server (it's just a bare bones conf file). Do NOT overwrite it. (Not because it contains anything useful, but because the next step will then fail!)</p></li>
<li><p>Go to the clone you made in step 1, add a new remote (or change an existing one) to point to the new server, then <code>git push -f</code> to it.</p></li>
<li><p>Run <code>gitolite setup</code>.</p></li>
</ol>
<h2 id="basic-admin"><span class="header-section-number">2.2</span> Basic Administration</h2>
<p><span class="box-r">If you really, really, really want to manage gitolite directly on the server, i.e., without cloning the gitolite-admin repo, you can -- <a href="#server-side-admin">here's how</a>. This is likely to be of interest mainly to puppet/chef type installations.</span></p>
<p>Day-to-day management of a gitolite site is done by cloning the special 'gitolite-admin' repo, making appropriate changes to it, and pushing it back to the server. The <a href="#concepts">concepts and terminology</a> page has a section with some details on what happens after the push.</p>
<p><span class="red">In other words, do <strong>NOT</strong> add new repos or users manually on the server!</span></p>
<h3 id="clone-the-gitolite-admin-repo"><span class="header-section-number">2.2.1</span> clone the gitolite-admin repo</h3>
<p>To clone the admin repo, go to the workstation where the public key used in 'setup' came from, and run this:</p>
<pre><code>git clone git@host:gitolite-admin</code></pre>
<p>NOTE that (1) you must not include the <code>repositories/</code> part (gitolite handles that internally), and (2) you may include the &quot;.git&quot; at the end but it is optional.</p>
<p>If this step fails, be sure to look at the two pages linked from the <a href="#ssh">ssh</a> page before asking for help. (A very basic first step is to run <code>ssh git@host info</code>; <a href="#info">this</a> page tells you what to expect).</p>
<h3 id="users"><span class="header-section-number">2.2.2</span> add/remove users</h3>
<p><span class="gray">NOTE: This section only applies to ssh mode. If you've installed gitolite in http mode, adding and removing users is outside the scope of gitolite.</span></p>
<p>Strictly speaking, gitolite doesn't know where users come from. (If that surprises you, go back to the <a href="#concepts">concepts</a> page and read the section on &quot;authentication and authorisation&quot;). However, gitolite does help with ssh-based authentication, by making it easy to add and remove users from <code>~/.ssh/authorized_keys</code>.</p>
<p>To add or remove users, you have to clone the gitolite-admin repository, then add or remove ssh pubkey files from the &quot;keydir/&quot; directory in the clone. Then commit those changes and push.</p>
<p>Here's how to add users to gitolite. &quot;alice&quot; is the administrator and is adding &quot;bob&quot; and &quot;carol&quot;.</p>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>All this is done from the admin (Alice)'s workstation. The steps are:</p>
<ol style="list-style-type: decimal">
<li><p>Run <code>git clone git@server:gitolite-admin</code>.</p></li>
<li><p>Obtain pubkeys from each user; email, USB, DHL, pigeon post, owl mail, any method you like.</p>
<p>Rename each received file to the name of the user, add a &quot;.pub&quot; at the end, copy it into <code>keydir/</code> in the gitolite-admin repo you cloned.</p></li>
<li><p>Run <code>git add keydir</code>, then <code>git commit</code>, then <code>git push</code>.</p></li>
</ol>
<p>You do NOT need to add Carol or Bob as <em>real</em> (Unix) users. You do NOT add their keys directly anywhere on the server, and you most definitely do NOT fiddle with the authorized_keys file on the server directly!</p>
<p>To <strong>remove</strong> a user, <code>git rm keydir/alice.pub</code>.</p>
<p>Commit and push the changes. On receiving the push, gitolite will carry out the changes specified.</p>
<p><strong>NOTE</strong>: your users' public key is typically <code>$HOME/.ssh/id_rsa.pub</code> on her workstation. Please make sure it is in openssh's default format.</p>
<h4 id="multi-key"><span class="header-section-number">2.2.2.1</span> multiple keys per user</h4>
<p>You can put pubkeys in subdirectories within &quot;keydir/&quot;, because the user name is simply the <em>base name</em> of the public key file name. That is, 'keydir/alice.pub', 'keydir/home/alice.pub', 'keydir/laptop/alice.pub', (or even 'keydir/work/desktop/alice.pub' -- any number of subdirectory levels are OK) all resolve to user &quot;alice&quot;.</p>
<p>This is the simplest and most understandable way to allow multiple keys per user.</p>
<h4 id="old-style-multi-keys"><span class="header-section-number">2.2.2.2</span> old style multi-keys</h4>
<div style="color: gray">
<p>There is another way that involves creating key files like <code>alice@home.pub</code> and <code>alice@laptop.pub</code>, but there is a complication because gitolite also allows <em>full email addresses</em> as user names. (I.e., <code>sitaramc@gmail.com.pub</code> denotes the user called <code>sitaramc@gmail.com</code>).</p>
<p>This older method of enabling multi-keys was developed to deal with that. It will continue to work and be supported in <em>code</em>, simply because I prefer it. But I will not accept questions or doc patches for it, because it seems it is too difficult to understand for a lot of people. This table of sample pubkey filenames and the corresponding derived usernames is all you get:</p>
<ul>
<li><p>plain username, no multikey</p>
<pre><code>sitaramc.pub                            sitaramc</code></pre></li>
<li><p>plain username, with multikeys</p>
<pre><code>sitaramc@laptop.pub                     sitaramc
sitaramc@desktop.pub                    sitaramc</code></pre></li>
<li><p>email address as username, no multikey</p>
<pre><code>sitaramc@gmail.com.pub                  sitaramc@gmail.com</code></pre></li>
<li><p>email address as username, with multikeys</p>
<pre><code>sitaramc@gmail.com@laptop.pub           sitaramc@gmail.com
sitaramc@gmail.com@desktop.pub          sitaramc@gmail.com</code></pre></li>
</ul>
</div>
<h3 id="repos"><span class="header-section-number">2.2.3</span> add, remove, and rename repos</h3>
<p><strong>NOTE</strong>: this page describes how to add <strong>new</strong> repos. To bring already existing repos under gitolite's control, click <a href="#existing">here</a>.</p>
<p>To <strong>add</strong> a new repo, you have to clone the gitolite-admin repository, then edit the <a href="#conf"><code>conf/gitolite.conf</code></a> file. In that file, add the repo, along with at least one user with some permissions.</p>
<table><tr><td width="50%">

<p>You can add the new repo in its own paragraph:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>bar
<span class="Statement">    RW+</span><span class="Constant">     </span>=   alice
</pre>

</td></tr><tr>

<td>

<p>You can also add it to an existing repo line, if the new repo is intended to have the same access rules.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo bar
<span class="Statement">    RW+</span><span class="Constant">     </span>=   alice
</pre>

</td></tr></table>

<p>Commit and push the changes. Gitolite will create a bare, empty, repo on the server that is ready to be cloned and pushed to.</p>
<hr />
<table><tr><td>

<p>As you can see, the &quot;repo&quot; line can have any number of repo names or repo group names in it. However, it can only be one line; this will not work</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Type">repo </span>bar   <span class="Comment"> # WRONG; 'foo' is now forgotten</span>
<span class="Statement">    RW+</span><span class="Constant">     </span>=   alice
</pre>

</td></tr><tr>

<td>

<p>If you have too many to fit on one line comfortably, you can create and use a <a href="#groups">repo group</a>:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@myrepos</span>    =   foo
<span class="Identifier">@myrepos</span>    =   bar
    .
    .
    .
<span class="Identifier">@myrepos</span>    =   zzq

<span class="Type">repo </span><span class="Identifier">@myrepos</span>
<span class="Statement">    RW+</span><span class="Constant">     </span>=   alice
</pre>

</td></tr></table>

<h4 id="removingrenaming-a-repo"><span class="header-section-number">2.2.3.1</span> removing/renaming a repo</h4>
<p>Removing a repo is not so straightforward. You certainly must remove the appropriate lines from the <code>conf/gitolite.conf</code> file, but gitolite will not automatically delete the repo from the server. You have to log on to the server and do the dirty deed yourself :-)</p>
<p>It is best to make the change in the conf file, push it, and <em>then</em> go to the server and do what you need to.</p>
<p>Renaming a repo is also not automatic. Here's what you do (and the order is important):</p>
<ul>
<li>Go to the server and rename the repo at the Unix command line. Don't forget to retain the &quot;.git&quot; extension on the directory name.</li>
<li>Change the name in the conf/gitolite.conf file in your gitolite-admin repo clone, and add/commit/push.</li>
</ul>
<h3 id="existing"><span class="header-section-number">2.2.4</span> appendix 1: bringing existing repos into gitolite</h3>
<p><strong>WARNINGS</strong></p>
<ul>
<li><p>Gitolite <strong>will clobber</strong> any existing <code>update</code> hook in your repos when you do this. Please see either the <a href="#cookbook">cookbook</a> or the <a href="#non-core">non-core</a> page for information on how to make your existing update hook work with gitolite.</p></li>
<li><p>Gitolite <em>may clobber</em> any existing &quot;git-daemon-export-ok&quot; file in your repo; see the page on <a href="#gitweb-daemon">allowing access to gitweb and git-daemon</a> for how to enable that via gitolite.</p></li>
</ul>
<p>With that out of the way, here's how to do this:</p>
<p>First, on the server:</p>
<ul>
<li><p>Move the repos to <code>$HOME/repositories</code>.</p></li>
<li><p>Make sure that:</p>
<ul>
<li>They are all <em>bare</em> repos.</li>
<li>All the repo names end in &quot;.git&quot;.</li>
<li>All the files and directories are owned and writable by the gitolite <a href="#hu">hosting user</a> (especially true if you copied them as root).</li>
</ul></li>
<li><p>Run <code>gitolite setup</code>. <strong>If you forget this step, you can also forget about write access control!</strong></p></li>
</ul>
<p>Then, back on your workstation:</p>
<ul>
<li><p>If the repos are normal repos, <a href="#repos">add them</a> to conf/gitolite.conf in your clone of the admin repo, then commit and push the change.</p>
<p>If the repos are <a href="#wild">wildcard</a> repos that already match some repo regex in the conf file, you need to manually create the gl-creator file, like so:</p>
<pre><code>echo username &gt; ~/repositories/path/to/repo.git/gl-creator</code></pre>
<p>I haven't yet found this to be common enough to bother wrapping it in a nice interface or command.</p></li>
</ul>
<h2 id="conf"><span class="header-section-number">2.3</span> The &quot;conf&quot; file (<code>conf/gitolite.conf</code>)</h2>
<p><span class="box-r">You might recall from the <a href="#basic-admin">basic administration</a> page that this file is part of the gitolite-admin repo. You need to clone that repo, make and commit changes to this file, and push the commits back.</span></p>
<p>The <code>conf/gitolite.conf</code> file (often called just &quot;the conf file&quot; for short) is one of the two most important files in gitolite. It specifies repo names and access rules, as well as repo options of various kinds and git-config values.</p>
<p>Pretty much all day-to-day management, except <a href="#users">managing users</a>, happens from this file.</p>
<p>We'll use the following example to describe it's features. <span class="gray">(A tip of the hat to Teemu Matilainen's gitolite vim-syntax file for the colors.)</span></p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment"># sample conf/gitolite.conf file</span>

<span class="Identifier">@staff</span>              =   dilbert alice          <span class="Comment"> # groups</span>
<span class="Identifier">@projects</span>           =   foo bar

<span class="Type">repo </span><span class="Identifier">@projects</span> baz                             <span class="Comment"> # repos</span>
<span class="Statement">    RW+</span><span class="Constant">             </span>=   <span class="Identifier">@staff</span>                 <span class="Comment"> # rules</span>
<span class="Statement">    -</span><span class="Constant">       master  </span>=<span class="WarningMsg">   ashok</span>
<span class="Statement">    RW</span><span class="Constant">              </span>=   ashok
<span class="Statement">    R</span><span class="Constant">               </span>=   wally

    option deny-rules           =   1          <span class="Comment"> # options</span>
<span class="Statement">    config </span><span class="Identifier">hooks.emailprefix    </span>= '[%GL_REPO] '<span class="Comment"> # git-config</span>
</pre>

<h3 id="syntax"><span class="header-section-number">2.3.1</span> basic syntax</h3>
<p>As the example above shows, the syntax is fairly straightforward and simple.</p>
<ul>
<li>In general, everything is <strong>space separated</strong>; there are no commas, semicolons, etc., in the syntax.</li>
<li><strong>Comments</strong> are in the usual shell-ish style.</li>
<li><strong>User names</strong> and <strong>repo names</strong> are as simple as possible; they must start with an alphanumeric, but after that they can also contain <code>.</code>, <code>_</code>, or <code>-</code>. Usernames can optionally be followed by an <code>@</code> and a domainname containing at least one <code>.</code> (this allows you to use an email address as someone's username).</li>
<li><strong>Group names</strong> are like simple usernames (i.e., not email addresses) but start with an <code>@</code> sign.</li>
<li>Reponames can contain <code>/</code> characters (this allows you to put your repos in a tree-structure for convenience).</li>
<li>There are no continuation lines by default. You do not need them; the section on <a href="#groups">groups</a> will tell you how you can break up large lists of names in a group definition into multiple lines. <span class="gray">(But if you <em>must</em> have them, you can optionally enable them; look for &quot;continuation-lines&quot; in <code>~/.gitolite.rc</code>).</span></li>
</ul>
<h3 id="include"><span class="header-section-number">2.3.2</span> include files</h3>
<p>Gitolite allows you to break up the configuration into multiple files and include them in the main file for convenience. For example:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="PreProc">include </span>    <span class="Constant">&quot;foo.conf&quot;</span>
</pre>

<p>will include the contents of the file &quot;conf/foo.conf&quot;.</p>
<ul>
<li><p>You can also use a glob (<code>include &quot;*.conf&quot;</code>), or put your include files into subdirectories of &quot;conf&quot; (<code>include &quot;foo/bar.conf&quot;</code>), or both (<code>include &quot;repos/*.conf&quot;</code>).</p></li>
<li><p>Included files are always searched from the gitolite-admin repo's &quot;conf/&quot; directory, unless you supplied an absolute path. (Note: in the interests of cloning the admin-repo sanely you should avoid absolute paths!)</p></li>
<li><p>If you ended up recursing, files that have been already processed once are skipped, with a warning.</p></li>
</ul>
<p><font color="gray">Advanced users: <code>subconf</code>, a command that is very closely related to <code>include</code>, is documented <a href="#subconf">here</a>.</font></p>
<p><strong>Please note</strong> that whenever you see &quot;the <code>conf/gitolite.conf</code> file&quot; or &quot;the conf file&quot; in gitolite documentation, it means the combined text after the include processing is done.</p>
<h3 id="groups"><span class="header-section-number">2.3.3</span> group definitions</h3>
<p>You can group repos or users for convenience. The syntax is the same for both and does not distinguish; until you <em>use</em> the group name it could really be either.</p>
<table><tr><td>

<p>Here's an example:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@developers</span>     =   dilbert alice wally
</pre>

</td></tr><tr>

<td>

<p>Group definitions accumulate; this is the same as the above:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@developers</span>     =   dilbert
<span class="Identifier">@developers</span>     =   alice
<span class="Identifier">@developers</span>     =   wally
</pre>

</td></tr><tr>

<td>

<p>You can use one group in another group definition; the values will be expanded immediately (meaning later additions will not appear in the second group).</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@developers</span>     =   dilbert alice
<span class="Identifier">@interns</span>        =   ashok
<span class="Identifier">@staff</span>          =   <span class="Identifier">@interns</span> <span class="Identifier">@developers</span>
<span class="Identifier">@developers</span>     =   wally

<span class="Comment"># wally is </span><span class="Todo">NOT</span><span class="Comment"> part of @staff</span>
</pre>

</td></tr><tr>

<td>

<p>Here's a very simple but complete example of using groups:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@developers</span>     =   dilbert alice wally
<span class="Identifier">@foss-repos</span>     =   git gitolite

<span class="Type">repo </span><span class="Identifier">@foss-repos</span>
<span class="Statement">    RW+</span><span class="Constant">         </span>=   <span class="Identifier">@developers</span>
</pre>

</td></tr></table>

<h4 id="special-group-all"><span class="header-section-number">2.3.3.1</span> special group <code>@all</code></h4>
<p><code>@all</code> is a special group name that is often convenient to use if you really mean &quot;all repos&quot; or &quot;all users&quot;.</p>
<h4 id="warnings-on-undefined-groups"><span class="header-section-number">2.3.3.2</span> warnings on undefined groups</h4>
<div class="fl-r">

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    RW</span><span class="Constant">  </span>=   <span class="Identifier">@foo</span>
<span class="Identifier">@foo</span> = u1 u2
</pre>

</div>

<p>Gitolite cannot truly catch undefined groups because the conf parser is 1-pass, and you're allowed to define a group <em>after</em> it is used, like so:</p>
<p><span class="gray">(v3.5.3+)</span> However, in a simplistic attempt to help people tearing their hair out because of a typo, gitolite will warn if a group is not defined when it is used. So if you defined it later, either ignore the warning or move the definition up.</p>
<p>Note that these warnings do NOT appear if you're <a href="#ldap">getting user group info from LDAP</a>.</p>
<h4 id="ldap"><span class="header-section-number">2.3.3.3</span> getting user group info from LDAP</h4>
<p>Gitolite's groups are pretty convenient, but some organisations already have similar (or sufficient) information in their LDAP store.</p>
<p>Gitolite can tap into that information, with a little help. Write a program which, given a username, queries your LDAP store and returns a space-separated list of groups that the user is a member of. Then put the full path to this program in an <a href="#rc">rc</a> variable called <code>GROUPLIST_PGM</code>, like so:</p>
<pre><code>GROUPLIST_PGM           =&gt;  '/home/git/bin/ldap-query-groups',</code></pre>
<p>Now you can use those groupnames in access rules in gitolite, because the user is a member of those groups as well as any normal gitolite groups you may have added him to in the conf file.</p>
<p>Caution: your program must do its own logging if you want the audit trail of &quot;why/how did this user get access to this repo at this time?&quot; to resolve properly. Gitolite does not do any logging of the results of the queries because for people who don't need it that would be a huge waste.</p>
<h3 id="rules"><span class="header-section-number">2.3.4</span> access rules</h3>
<p><span class="box-r">Some of the pictures are thanks (<em>enormous</em> thanks!) to someone who contributed them but does not want to be named (go figure!). She even converted them to ditaa format when I asked; these are not as pretty as what she sent me originally but they're vim-editable in source form :-)</span></p>
<p>This section talks about how gitolite's access rules work. It's a <strong>very important</strong> section, and well worth spending some time on.</p>
<p>Gitolite's access rules are designed to be easy to use for common situations, such as some of the examples you saw earlier. However, they also pack a lot of power and flexibility.</p>
<p>Access rules decide whether a particular access is allowed or denied. An access is defined by four pieces of data: &quot;reponame, username, operation, and ref&quot;. Each rule also has four similar pieces of data, and of course there are several rules -- some people have thousands! -- in the conf file. This section will try and explain how these rules are used to decide if a given operation is to be allowed or denied.</p>
<h4 id="what-does-a-rule-look-like"><span class="header-section-number">2.3.4.1</span> what does a rule look like?</h4>
<div style="float: right; margin-left: 4px">

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo bar

<span class="Statement">    RW+</span><span class="Constant">                     </span>=   alice <span class="Identifier">@teamleads</span>
<span class="Statement">    -</span><span class="Constant">   master              </span>=<span class="WarningMsg">   dilbert @devteam</span>
<span class="Statement">    -</span><span class="Constant">   refs/tags/v[0-9]    </span>=<span class="WarningMsg">   dilbert @devteam</span>
<span class="Statement">    RW+</span><span class="Constant"> dev/                </span>=   dilbert <span class="Identifier">@devteam</span>
<span class="Statement">    RW</span><span class="Constant">                      </span>=   dilbert <span class="Identifier">@devteam</span>
<span class="Statement">    R</span><span class="Constant">                       </span>=   <span class="Identifier">@managers</span>
</pre>

</div>

<p>You've seen some simple rules so far, for example in the <a href="#basic-admin">basic administration</a> page. Here's a slightly more complex one, just for illustration.</p>
<p>A &quot;repo&quot; line names one or more repos, and is followed by one or more rule lines. All the rules from then till the next &quot;repo&quot; line apply to the repo(s) specified in the repo line -- in this example, the 'foo' and 'bar' repos.</p>
<p>Each rule line has a &quot;permission&quot; field, zero or more &quot;refex&quot;es, and one or more user or user group name after the equal sign.</p>
<p><span class="gray">The &quot;repo&quot; line can also have repo groups, as we have seen in the section on <a href="#groups">groups</a> above. Also, it can have regular expressions that match multiple repos.</span></p>
<p>Before describing the various fields more formally, here's a description of what this specific rule list is saying:</p>
<ul>
<li><p>alice and the team leads can do whatever they want (i.e., push, rewind, or delete any branch or tag).</p></li>
<li>dilbert and the dev team has these restrictions
<ol style="list-style-type: decimal">
<li>they can do anything to branches whose names start with &quot;dev/&quot;</li>
<li>they can create or fast-forward push, but not rewind or delete, any branch except master</li>
<li>they can create (but not update/delete) any tag except tags starting with &quot;v&quot; followed by a digit.</li>
</ol></li>
<li><p>managers can read the repo but they can't push anything.</p></li>
</ul>
<p>More formally, a rule line has the following fields:</p>
<h5 id="the-permission-field"><span class="header-section-number">2.3.4.1.1</span> the permission field</h5>
<p>The permission field gives the type of access this rule line permits. The most commonly used permissions are:</p>
<ul>
<li>R, to allow read operations only</li>
<li>RW, to allow fast-forward push of a branch, or create new branch/tag</li>
<li>RW+, to allow pretty much anything -- fast-forward, rewind or delete branches or tags</li>
<li><code>-</code> (the minus sign), to <strong>deny</strong> access.</li>
</ul>
<p><span class="gray">There are also other, less commonly used, <a href="#write-types">types of permissions</a>.</span></p>
<h5 id="refex"><span class="header-section-number">2.3.4.1.2</span> the &quot;refex&quot; field</h5>
<p>You cannot write rules for all possible branch and tag names (i.e., refs) that users will push. The only sensible way to do this is to use <a href="#regex">regular expressions</a> instead.</p>
<p>A refex is a word I made up to mean &quot;a regex that matches a ref&quot;.</p>
<p>In addition:</p>
<ul>
<li><p>If no refex is supplied, it defaults to <code>refs/.*</code>, for example in a rule like this:</p>
<pre><code>RW              =   alice</code></pre></li>
<li><p>A refex not starting with <code>refs/</code> <span class="gray">(or <code>VREF/</code>)</span> is assumed to start with <code>refs/heads/</code>. This means normal branches can be conveniently written like this:</p>
<pre><code>RW  master      =   alice
# becomes 'refs/heads/master' internally</code></pre>
<p>while tags will need to be fully qualified</p>
<pre><code>RW  refs/tags/v[0-9]    =   bob</code></pre></li>
<li><p>A refex is implicitly anchored at the start, but not at the end. In regular expression lingo, a <code>^</code> is assumed at the start (but no <code>$</code> at the end is assumed). So a refex of <code>master</code> will match all these refs:</p>
<pre><code>refs/heads/master
refs/heads/master1
refs/heads/master2
refs/heads/master/full</code></pre>
<p>More commonly, a refex of <code>refs/tags/v[0-9]</code> will match all versioned tags (i.e., not just <code>v1</code> but also <code>v12</code>, <code>v1.2</code>, <code>v12345</code>, etc.)</p>
<p>If you want to restrict the match to just the one specific ref, add a $ at the end, for example:</p>
<pre><code>RW  master$     =   alice</code></pre></li>
</ul>
<p><span class="gray">You can also use <a href="#vref">virtual refs</a> to perform extra checks and controls that you can't do with just the normal ref (like refs/heads/master) being pushed. The most common example is restricting pushes by dir/file name, but there are lots of other possibilities.</span></p>
<h5 id="useruser-group-list"><span class="header-section-number">2.3.4.1.3</span> user/user group list</h5>
<p>Like the repos on the repo line, you can have any number of user names and/or user group names on the rule line. (However, please note that there is no concept of regular expressions for user names).</p>
<p><strong>SECTION SUMMARY</strong>: at this point you know that each rule basically specifies a repo, user, permission, and a &quot;refex&quot;.</p>
<h4 id="rule-accumulation"><span class="header-section-number">2.3.4.2</span> rule accumulation</h4>
<table><tr><td>

<p><em>All</em> the rules for a repo need not be specified in one place. For example, you might see something like this, perhaps at the top or bottom of the conf file:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment"># managers should be able to read any repo</span>
<span class="Type">repo </span><span class="Identifier">@all</span>
<span class="Statement">    R</span><span class="Constant">   </span>=   <span class="Identifier">@managers</span>
</pre>

</td></tr><tr>

<td>

<p>or perhaps this.</p>
<p>clearly, both these constructs affect repos which may have their own rules elsewhere.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment"># anyone can clone open source repos</span>
<span class="Type">repo </span><span class="Identifier">@FOSS</span>
<span class="Statement">    R</span><span class="Constant">   </span>=   <span class="Identifier">@all</span>
</pre>

</td></tr><tr>

<td>

<p>If a bunch of projects share some naming convention, you can specify any rules that are common to all of them by specifying the set of repos that are affected as a regular expression. Notice that the regex can be defined directly in the repo line, or it can be defined in a group and the <em>group</em> used in the repo line; it's all the same to gitolite.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="Special">FOSS/..*</span>
   <span class="Comment"> # ...rules for repos under FOSS/</span>

<span class="Identifier">@secret</span>     =   <span class="Special">secret/..*</span> <span class="Special">private/..*</span>
<span class="Type">repo </span><span class="Identifier">@secret</span>
   <span class="Comment"> # ...rules for repos under secret/ and private/</span>
</pre>

</td></tr><tr>

<td>

<p>Finally, although not very common, you can certainly do things like this. Note that the &quot;other repos and rules&quot; may indirectly include repo &quot;foo&quot; (for example it there were rules for &quot;repo <span class="citation">@all</span>&quot;, or some other group that &quot;foo&quot; was a member of).</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
   <span class="Comment"> # ...some rules...</span>

<span class="Comment"># ...other repos and rules...</span>

<span class="Type">repo </span>foo
   <span class="Comment"> # ...more rules for foo...</span>
</pre>

</td></tr></table>

<p>When access is being checked for an operation against a repo, <strong>all the rules that pertain to that repo are collected, in the order they were seen in the conf file</strong>.</p>
<p>Gitolite then <strong>discards those rules that do <em>not</em> apply to the user whose access is being checked</strong>. (A rule applies to a user if the user's name appears in the rule (after the equal sign), or if he is a member of any of the group names that appear in the rule.)</p>
<h5 id="defining-user-and-repo"><span class="header-section-number">2.3.4.2.1</span> defining &quot;user&quot; and &quot;repo&quot;</h5>
<p>To be very specific, when we speak of &quot;user&quot; and &quot;repo&quot; in rules,</p>
<ul>
<li>&quot;user&quot; means &quot;user or a <a href="#groups">group</a> that he/she is a member of&quot;, and</li>
<li>&quot;repo&quot; means &quot;repo, or a group that it is a member of, or a regex that matches it, or a group that contains a regex that matches it&quot;.</li>
</ul>
<h4 id="when-does-gitolite-check-access"><span class="header-section-number">2.3.4.3</span> when does gitolite check access?</h4>
<p>When do the access checks happen and what are the four pieces of data (repo, user, operation, ref) in each case?</p>
<table><tr><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td><td>

<p>These pictures might help -- the access checks are marked in yellow on them.</p>
<p>The picture on the left is for a read (git clone, fetch, ls-remote). There is only one access check for a read operation. If access is denied, the operation aborts. Otherwise, gitolite-shell invokes git-upload-pack.</p>
<p>Notice the information available to the access check. The &quot;oper&quot; (operation) is &quot;R&quot;, indicating a read operation. The &quot;ref&quot; is listed as &quot;unknown&quot;, although we could also call it &quot;irrelevant&quot;!</p>
<p><strong>Access check #1</strong> proceeds with those 4 bits of information, and either passes or fails. If it passes, gitolite passes control to &quot;git-upload-pack&quot; and its job is done.</p>
<hr />
<p>The flow for a push operation (the picture on the right) is <em>very</em> similar upto the first access check. The &quot;oper&quot; is &quot;W&quot; now, although the &quot;ref&quot; is still unknown. <span class="gray">Even though this <em>is</em> a push, at this stage in the protocol nothing on the server knows what branch or tag or combination of them are coming down the wire, since we haven't executed git-receive-pack yet!</span></p>
<p>If it succeeds, gitolite passes control to &quot;git-receive-pack&quot;, but its job is not done yet. <em>Git</em> will eventually invoke the update hook (see 'man githooks'). Gitolite has already grabbed this hook, which receives from git the ref name being pushed, as well as enough information to compute whether this push is a &quot;fast-forward push&quot; or a &quot;rewind push&quot;. Based on this, gitolite sets the &quot;oper&quot; field to &quot;W&quot; or &quot;+&quot;, respectively.</p>
<p><strong>Access check #2</strong> proceeds with this information. The result is sent back to git-receive-pack (in the form of an exit code; again, see 'man githooks'), and the push fails or succeeds based on that.</p>
</td></tr></table>

<h4 id="c1c2"><span class="header-section-number">2.3.4.4</span> putting it all together</h4>
<p>At this point, we have the following pieces of information:</p>
<ul>
<li><p>A set of rules, each containing 4 pieces of data: repo, user, perm, refex. They are in the sequence they were found in the conf file.</p>
<p>We discard all rules that do not apply to this repo and this user, which means our set of rules have only two fields: perm, refex.</p>
<p>As a quick reminder, perm is one of R, RW, RW+, or <code>-</code>.</p></li>
<li><p>Four elements that make up the access being attempted: repo, user, oper, ref.</p>
<p>Again, as a reminder, the &quot;oper&quot; is <strong>one letter</strong>. For &quot;check #1&quot; it is either R or W, and for check #2 it can be W or +.</p></li>
</ul>
<p><span class="gray">Note on permissions and &quot;oper&quot;: there are other <a href="#write-types">types of permissions</a>, but for our discussion these are enough. The others are rare, and anyway it is easy to extrapolate to them.</span></p>
<p>With that background, here's the flow. The one on the left is for check #1 (ref is unknown) while the one on the right is for check #2 (ref is known). <strong>Note</strong> that the yellow (decision) boxes are numbered to help later discussion.</p>
<table><tr><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td></tr></table>

<p>As you can see, deny rules are ignored by check #1 -- they're not tested in any way. For check #2, if there is a deny rule whose refex matched the ref, access is denied (as you'd expect).</p>
<h5 id="an-example"><span class="header-section-number">2.3.4.4.1</span> an example</h5>
<table><tr><td>

<p>Just to be clear, let's work out an example of what happens when dilbert tries to push a branch called &quot;xyz&quot;.</p>
<p>We'll pretend the rule list looks like this.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment"># managers should be able to read any repo</span>
<span class="Type">repo </span><span class="Identifier">@all</span>
<span class="Statement">    R</span><span class="Constant">                       </span>=   <span class="Identifier">@managers</span>

<span class="Comment"># ...other rules for other repos...</span>

<span class="Type">repo </span>foo bar

<span class="Statement">    RW+</span><span class="Constant">                     </span>=   alice <span class="Identifier">@teamleads</span>
<span class="Statement">    -</span><span class="Constant">   master              </span>=<span class="WarningMsg">   dilbert @devteam</span>
<span class="Statement">    -</span><span class="Constant">   refs/tags/v[0-9]    </span>=<span class="WarningMsg">   dilbert @devteam</span>
<span class="Statement">    RW+</span><span class="Constant"> dev/                </span>=   dilbert <span class="Identifier">@devteam</span>
<span class="Statement">    RW</span><span class="Constant">                      </span>=   dilbert <span class="Identifier">@devteam</span>
<span class="Statement">    R</span><span class="Constant">                       </span>=   <span class="Identifier">@managers</span>
</pre>

</td></tr><tr>

<td>

<p>After adding a default refex and expanding the supplied ones (see the <a href="#refex">refex</a> section earlier), this is what it looks like. We've added line numbers for convenience; we'll see why later.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span id="L1" class="LineNr"> 1 </span><span class="Comment"># managers should be able to read any repo</span>
<span id="L2" class="LineNr"> 2 </span><span class="Type">repo </span><span class="Identifier">@all</span>
<span id="L3" class="LineNr"> 3 </span><span class="Statement">    R</span><span class="Constant">   refs/.*             </span>=   <span class="Identifier">@managers</span>
<span id="L4" class="LineNr"> 4 </span>
<span id="L5" class="LineNr"> 5 </span>   <span class="Comment"> # ...other rules for other repos...</span>
<span id="L6" class="LineNr"> 6 </span>
<span id="L7" class="LineNr"> 7 </span><span class="Type">repo </span>foo bar
<span id="L8" class="LineNr"> 8 </span>
<span id="L9" class="LineNr"> 9 </span><span class="Statement">    RW+</span><span class="Constant"> refs/.*             </span>=   alice <span class="Identifier">@teamleads</span>
<span id="L10" class="LineNr">10 </span><span class="Statement">    -</span><span class="Constant">   refs/heads/master   </span>=<span class="WarningMsg">   dilbert @devteam</span>
<span id="L11" class="LineNr">11 </span><span class="Statement">    -</span><span class="Constant">   refs/tags/v[0-9]    </span>=<span class="WarningMsg">   dilbert @devteam</span>
<span id="L12" class="LineNr">12 </span><span class="Statement">    RW+</span><span class="Constant"> refs/heads/dev/     </span>=   dilbert <span class="Identifier">@devteam</span>
<span id="L13" class="LineNr">13 </span><span class="Statement">    RW</span><span class="Constant">  refs/.*             </span>=   dilbert <span class="Identifier">@devteam</span>
<span id="L14" class="LineNr">14 </span><span class="Statement">    R</span><span class="Constant">   refs/.*             </span>=   <span class="Identifier">@managers</span>
</pre>

</td></tr></table>

<p>This represents a set of rules that are basically this:</p>
<pre><code>repo    user        perm    ref                 (from line)

 foo     @managers  R        refs/.\*                3
 foo     alice      RW+      refs/.\*                9
 foo     @teamleads RW+      refs/.\*                9
 foo     dilbert    -        refs/heads/master       10
 foo     @devteam   -        refs/heads/master       10
 foo     dilbert    -        refs/tags/v[0-9]        11
 foo     @devteam   -        refs/tags/v[0-9]        11
 foo     dilbert    RW+      refs/heads/dev/         12
 foo     @devteam   RW+      refs/heads/dev/         12
 foo     dilbert    RW       refs/.\*                13
 foo     @devteam   RW       refs/.\*                13
 foo     @managers  R        refs/.\*                14</code></pre>
<p>Which of these rules apply for dilbert? We'll assume he's not a team lead, as <em>that</em> would defeat the whole purpose of this example! We <em>know</em> he's not a manager, as that would defeat the whole purpose of the comic! Finally, we assume he's also not part of &quot;<span class="citation">@devteam</span>&quot;, (otherwise why would you name him separately in all those lines?).</p>
<p>So we discard all those rules, which leaves us, for repo &quot;foo&quot; and user &quot;dilbert&quot;:</p>
<pre><code>perm    ref                 (from line)

-        refs/heads/master       10
-        refs/tags/v[0-9]        11
RW+      refs/heads/dev/         12
RW       refs/.\*                13</code></pre>
<p>So what happens when dilbert tries to push a branch called &quot;xyz&quot;?</p>
<p>At check #1, the data gitolite has is that &quot;oper&quot; is &quot;W&quot; (and ref of course is unknown). Decision box #1 will skip lines 10 and 11 (deny rules are not processed during check #1). Line 12 supplies a perm of &quot;RW+&quot;, which contains &quot;W&quot; (the &quot;oper&quot;) so access is allowed.</p>
<p>At check #2, the data gitolite has is that &quot;oper&quot; is &quot;W&quot; and ref is <code>refs/heads/xyz</code>. Decision box 3 will skip the first three rules, since the ref does not match any of those refexes. Rule 13 will pass through decision box 3, then box 4 (since it is <em>not</em> a deny rule).</p>
<p>At this point we're at decision box 5. If the push were a fast-forward push, the &quot;oper&quot; would be &quot;W&quot;, and since it is contained in the perm for rule 13, access is allowed.</p>
<p>However, if he were to try a rewind-push, then the &quot;oper&quot; would be &quot;+&quot;, which is not contained in &quot;RW&quot;, so box #5 would fail, control would go back for the next rule, and since there aren't any more, access would be denied.</p>
<h5 id="tracing-the-access-control-decision"><span class="header-section-number">2.3.4.4.2</span> tracing the access control decision</h5>
<table><tr><td>

<p><span class="gray">(v3.6.1)</span> Gitolite can help you trace this logic quickly and easily. Here's one example run, with the above rules. This one tests whether dilbert can push to repo foo (check #1). Note that the syntax for specifying an unknown ref in this command is 'any'.</p>
</td><td>

<pre><code>$ gitolite access -s foo dilbert W any
legend:
    d =&gt; skipped deny rule due to ref unknown or 'any',
    r =&gt; skipped due to refex not matching,
    p =&gt; skipped due to perm (W, +, etc) not matching,
    D =&gt; explicitly denied,
    A =&gt; explicitly allowed,
    F =&gt; denied due to fallthru (no rules matched)

  d        gitolite.conf:10         -   refs/heads/master   =   dilbert @devteam
  d        gitolite.conf:11         -   refs/tags/v[0-9]    =   dilbert @devteam
  A        gitolite.conf:12         RW+ refs/heads/dev/     =   dilbert @devteam

refs/heads/dev/</code></pre>
</td></tr><tr>

<td>

<p>Now see what happens when we try check #2 (we've omitted the legend in the output, since it's always the same):</p>
</td><td>

<pre><code>$ gitolite access -s foo dilbert W xyz

  r        gitolite.conf:10         -   refs/heads/master   =   dilbert @devteam
  r        gitolite.conf:11         -   refs/tags/v[0-9]    =   dilbert @devteam
  r        gitolite.conf:12         RW+ refs/heads/dev/     =   dilbert @devteam
  A        gitolite.conf:13         RW  refs/.*             =   dilbert @devteam

refs/.*</code></pre>
</td></tr><tr>

<td>

<p>And if you try a force push:</p>
</td><td>

<pre><code>$ gitolite access -s foo dilbert + refs/heads/xyz

  r        gitolite.conf:10         -   refs/heads/master   =   dilbert @devteam
  r        gitolite.conf:11         -   refs/tags/v[0-9]    =   dilbert @devteam
  r        gitolite.conf:12         RW+ refs/heads/dev/     =   dilbert @devteam
  p        gitolite.conf:13         RW  refs/.*             =   dilbert @devteam
  F           (fallthru)

+ refs/heads/xyz foo dilbert DENIED by fallthru</code></pre>
</td></tr></table>

<p>I hope that was useful! Be sure you correlated the output of 'gitolite access -s' with the rule workflow pictures and corresponding descriptions to cement your understanding.</p>
<h4 id="deny-rules"><span class="header-section-number">2.3.4.5</span> read access respecting deny rules</h4>
<p><span class="box-r">Note: This section has one or more <a href="#fr">forward references</a>, referring to gitolite <a href="#options">options</a>, and the special users <a href="#gitweb-daemon">gitweb and daemon</a>).</span></p>
<p>Observant readers will notice that in the pictures under the section &quot;when does gitolite check access&quot;, it was clear that check #2 only happens with an actual, known, ref. Yet box #3 in the &quot;putting it all together&quot; section is checking whether the ref is unknown. Why does it bother doing that?</p>
<p>That's because there are some situations where you want even <em>read</em> access (where the ref is unknown) to use &quot;deny rules&quot;. That is, you want to say &quot;use check #2, not check #1, in gitolite-shell&quot; (i.e., the yellow boxes within the green &quot;gitolite-shell&quot; box in the &quot;when does gitolite check access&quot; section).</p>
<h5 id="example-1"><span class="header-section-number">2.3.4.5.1</span> example 1</h5>
<p>Here's an example. Here, we have lots of repos, which should all be accessible by gitweb or daemon, so we want the convenience provided by lines 6 and 7 (we don't want to put line 7 in <em>each</em> repo). However, we also have some secret repos (maybe the gitolite-admin repo and some others that we will list), which we want to prevent gitweb or daemon from seeing.</p>
<p>How do we do that?</p>
<table><tr><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span id="L1" class="LineNr"> 1 </span><span class="Identifier">@secret</span> = gitolite-admin <span class="Special">secret-repo/..*</span>
<span id="L2" class="LineNr"> 2 </span><span class="Type">repo </span><span class="Identifier">@secret</span>
<span id="L3" class="LineNr"> 3 </span><span class="Statement">    -</span><span class="Constant">   </span>=<span class="WarningMsg">   gitweb daemon</span>
<span id="L4" class="LineNr"> 4 </span>
<span id="L5" class="LineNr"> 5 </span>
<span id="L6" class="LineNr"> 6 </span><span class="Type">repo </span><span class="Identifier">@all</span>
<span id="L7" class="LineNr"> 7 </span><span class="Statement">    R</span><span class="Constant">   </span>=   gitweb daemon
<span id="L8" class="LineNr"> 8 </span>
<span id="L9" class="LineNr"> 9 </span><span class="Comment"># ...other repos and rules...</span>
<span id="L10" class="LineNr">10 </span>
</pre>

</td><td>

<p>The naive approach -- putting in a deny rule just for those repos -- doesn't work. In fact nothing else seems to work either; you'll have to replace the <code>@all</code> with an exhaustive list of <em>all repos other than the secret repos</em>.</p>
<p>That's... painful!</p>
</td></tr><tr>

<td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span id="L1" class="LineNr"> 1 </span><span class="Identifier">@secret</span> = gitolite-admin <span class="Special">secret-repo/..*</span>
<span id="L2" class="LineNr"> 2 </span><span class="Type">repo </span><span class="Identifier">@secret</span>
<span id="L3" class="LineNr"> 3 </span><span class="Statement">    -</span><span class="Constant">   </span>=<span class="WarningMsg">   gitweb daemon</span>
<span id="L4" class="LineNr"> 4 </span>    option deny-rules = 1
<span id="L5" class="LineNr"> 5 </span>
<span id="L6" class="LineNr"> 6 </span><span class="Type">repo </span><span class="Identifier">@all</span>
<span id="L7" class="LineNr"> 7 </span><span class="Statement">    R</span><span class="Constant">   </span>=   gitweb daemon
<span id="L8" class="LineNr"> 8 </span>
<span id="L9" class="LineNr"> 9 </span><span class="Comment"># ...other repos and rules...</span>
<span id="L10" class="LineNr">10 </span>
</pre>

</td><td>

<p>What you really want is for that repo to always use check #2, even when it doesn't actually have a ref to test for.</p>
<p>This is done by adding <em>one</em> line, line 4 in this example. This sets a gitolite <a href="#options">&quot;option&quot;</a> that says you want &quot;deny rules&quot; to be applicable even for read access.</p>
<p>Once you do that, all you need to do is to ensure that the first rule encountered by these two &quot;users&quot; for those repos is a deny rule, so that it can take effect first. In this example, the placement of lines 2, 3 vis-a-vis lines 6, 7 matters -- don't switch them!</p>
</td></tr></table>

<h5 id="example-2"><span class="header-section-number">2.3.4.5.2</span> example 2</h5>
<div style="float: right; margin-left: 4px">

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@open</span> = git gitolite <span class="Special">foss/..*</span> <span class="Special">[...]</span>

<span class="Type">repo </span><span class="Identifier">@all</span>
<span class="Statement">    -</span><span class="Constant">   </span>=<span class="WarningMsg">   gitweb daemon</span>
    option deny-rules = 1

<span class="Type">repo </span><span class="Identifier">@open</span>
<span class="Statement">    R</span><span class="Constant">   </span>=   gitweb daemon
    option deny-rules = 0
</pre>

</div>

<p>In this example the &quot;open&quot; repos are fewer in number, so it is the opposite situation to the above in terms of our ability to enumerate all the repos.</p>
<p>To see why this works, you need to understand that for <a href="#options">options</a> and <a href="#git-config">config</a> lines, a later setting <a href="#override_conf">overrides</a> earlier ones. So we set it to 1 for all repos, then selectively set it to 0 for some.</p>
<p>This means the &quot;deny-rules&quot; option applies to <em>all the repos except the &quot;open&quot; repos</em>, and so the first rule encountered by gitweb and daemon is a deny rule, so they are denied read access. The &quot;open&quot; repos, on the other hand, get the normal default behaviour, which is to ignore deny rules for read access, and thus they only see the &quot;R&quot; permission.</p>
<h3 id="write-types"><span class="header-section-number">2.3.5</span> appendix 1: different types of write operations</h3>
<p>Git supplies enough information to the update hook to be able to distinguish several types of writes.</p>
<p>The most common are:</p>
<ul>
<li><code>RW</code> -- create a ref or fast-forward push a ref. No rewinds or deletes.</li>
<li><code>RW+</code> -- create, fast-forward push, rewind push, or delete a ref.</li>
</ul>
<p>Sometimes you want to allow people to push, but not <em>create</em> a ref. Or rewind, but not <em>delete</em> a ref. The <code>C</code> and <code>D</code> qualifiers help here.</p>
<ul>
<li><p>When a rule specifies <code>RWC</code> or <code>RW+C</code>, then <em>rules that do NOT have the C qualifier will no longer permit <strong>creating</strong> a ref</em>.</p>
<p><font color="gray">Please do not confuse this with the standalone <code>C</code> permission that allows someone to <a href="#create">create</a> a <strong>repo</strong></font></p></li>
<li><p>When a rule specifies <code>RWD</code> or <code>RW+D</code>, then <em>rules that do NOT have the D qualifier will no longer permit <strong>deleting</strong> a ref</em>.</p></li>
</ul>
<p>Note: These two can be combined, so you can have <code>RWCD</code> and <code>RW+CD</code> as well.</p>
<p>One very rare need is to reject merge commits (a commit series that is not a straight line of commits). The <code>M</code> qualifier helps here:</p>
<ul>
<li>When a rule has <code>M</code> appended to the permissions, <em>rules that do NOT have it will reject a commit sequence that contains a merge commit</em> (i.e., they only accept a straight line series of commits).</li>
</ul>
<h4 id="permsum"><span class="header-section-number">2.3.5.1</span> summary of permissions</h4>
<p>The full set of permissions, in regex syntax, is <code>-|R|RW+?C?D?M?</code>. This expands to one of <code>-</code>, <code>R</code>, <code>RW</code>, <code>RW+</code>, <code>RWC</code>, <code>RW+C</code>, <code>RWD</code>, <code>RW+D</code>, <code>RWCD</code>, or <code>RW+CD</code>, all but the first two optionally followed by an <code>M</code>.</p>
<h2 id="rc"><span class="header-section-number">2.4</span> the &quot;rc&quot; file (<code>$HOME/.gitolite.rc</code>)</h2>
<p><strong>IMPORTANT</strong>: if you have a v3.0-v3.3 rc file it is documented <a href="#rc-33">here</a>, and it will still work. In fact internally the v3.4 rc file data gets converted to the v3.3 format. That is, you don't have to upgrade your rc file just because you upgraded gitolite; you only need to do that if you wish to use any new features. There's a simple program to help you do that (<span class="gray">v3.6.1</span> -- see contrib/utils/rc-format-v3.4).</p>
<p><span class="gray"><strong>If you're migrating from v2</strong>, there are some settings that MUST be dealt with <strong>before</strong> running <code>gitolite setup</code>; please read the <a href="#migr">migration</a> page and linked pages, and especially the one on &quot;presetting the rc file&quot;.</span></p>
<hr />
<p><span class="box-r">Note: This page has several <a href="#fr">forward references</a>!</span></p>
<p>The rc file is designed to be the only thing unique to your site for most setups. What is new is that it is easy to extend it when new needs come up, without having to touch core gitolite.</p>
<p>The rc file is perl code, but you do NOT need to know perl to edit it. Just mind the commas, use single quotes unless you know what you're doing, and make sure the brackets and braces stay matched up!</p>
<p>The rc file is well commented. Please look at the <code>~/.gitolite.rc</code> file that gets installed when you setup gitolite. You can always get a default copy for your current version by running <code>gitolite print-default-rc</code>.</p>
<p>As you can see there are 3 types of variables in it:</p>
<ul>
<li>A lot of simple variables (like <code>UMASK</code>, <code>GIT_CONFIG_KEYS</code>, etc.).</li>
<li>A hash or two (like <code>ROLES</code>).</li>
<li>And one large list of features to be enabled (<code>ENABLE</code>).</li>
</ul>
<p>This page documents only some of them; for most of them it's best to look in the actual rc file or in each of their individual documentation files around; start with <a href="#non-core">&quot;non-core&quot; gitolite</a>. If a setting is used by a command then running that command with '-h' may give you additional information.</p>
<h3 id="specific-variables"><span class="header-section-number">2.4.1</span> specific variables</h3>
<ul>
<li><p><code>$UMASK</code>, octal, default <code>0077</code></p>
<p>The default UMASK that gitolite uses gives <code>rwx------</code> permissions to all the repos and their contents. People who want to run gitweb (or cgit, redmine, etc) realise that this will not do.</p>
<p>The correct way to deal with this is to give this variable a value like <code>0027</code> (note the syntax: the leading 0 is required), and then make the user running the webserver (apache, www-data, whatever) a member of the 'git' group.</p>
<p>If you've already installed gitolite then existing files will have to be fixed up manually (for a umask or 0027, that would be <code>chmod -R g+rX</code>). This is because umask only affects permissions on newly created files, not existing ones.</p></li>
<li><p><code>$GIT_CONFIG_KEYS</code>, string, default empty</p>
<p><span class="box-r">See the <a href="#privesc">security note</a> at the end of this page for why we do this.</span></p>
<p>This setting allows the repo admin to define acceptable gitconfig keys.</p>
<p>Gitolite allows you to set git config values using the &quot;config&quot; keyword; see <a href="#git-config">here</a> for details and syntax.</p>
<p>You have 3 choices. By default <code>$GIT_CONFIG_KEYS</code> is left empty, which completely disables this feature (meaning you cannot set git configs via the repo config).</p>
<p>The second choice is to give it a space separated list of settings you consider safe. (These are actually treated as a set of <a href="#regex">regular expressions</a>, and any one of them must match).</p>
<p>For example:</p>
<pre><code>$GIT_CONFIG_KEYS = 'core\.logAllRefUpdates core\..*compression';</code></pre>
<p>Each regex should match the <em>whole</em> key (in other words, there is an implicit <code>^</code> at the start of each regex, and a <code>$</code> at the end).</p>
<p>The third choice (which you may have guessed already if you're familiar with regular expressions) is to allow anything and everything: <code>$GIT_CONFIG_KEYS = '.*';</code></p></li>
<li><p><code>ROLES</code>, hash, default keys 'READERS' and 'WRITERS'</p>
<p>This specifies the role names allowed to be used by users running the <a href="#perms">perms</a> command. The <a href="#wild">wild</a> repos doc has more info on roles.</p></li>
<li><p><code>OWNER_ROLENAME</code>, string, default undef</p>
<p>(requires v3.5 or later)</p>
<p>By default, permissions on a wild repo can only be set by the <em>creator</em> of the repo (using the <a href="#perms">perms</a> command). But some sites want to allow other people to do this as well.</p>
<p>To enable this behaviour, the server admin must first set this variable to some string, say 'OWNERS'. (He must also add 'OWNERS' to the ROLES hash described in the previous bullet).</p>
<p>The creator of the repo can then add other users to the OWNERS role using the <a href="#perms">perms</a> command.</p>
<p>The <a href="#perms">perms</a> command, the new &quot;owns&quot; command, and possibly other commands in future, will then give these users the same privileges that they give to the creator of the repo.</p>
<p>(Also see the full documentation on <a href="#roles">roles</a>).</p></li>
<li><p><code>LOCAL_CODE</code>, string</p>
<p>This is described in more detail <a href="#localcode">here</a>. Please be aware <strong>this must be a FULL path</strong>, not a relative path.</p></li>
</ul>
<h3 id="privesc"><span class="header-section-number">2.4.2</span> security note: gitolite admin and shell access</h3>
<p><span class="box-r">If you <em>must</em> revision control it, you can. Just add it to your admin repo, push the change, then replace <code>~/.gitolite.rc</code> with a symlink <code>~/.gitolite/.gitolite.rc</code>.</span></p>
<p>People sometimes ask why this file is also not revision controlled. Here's why.</p>
<p>Gitolite maintains a clear distinction between</p>
<ul>
<li>people who can push to the gitolite-admin repo, and</li>
<li>people who can get a shell or run arbitrary commands on the server.</li>
</ul>
<p>This may not matter to many (small) sites, but in large installations, the former is often a much larger set of people that you really don't want to give shell access to.</p>
<p>Therefore, gitolite tries very hard to make sure that people in the first set are not allowed to do anything that gets them into the second set.</p>
<h2 id="user"><span class="header-section-number">2.5</span> the users' view</h2>
<p><span class="box-r">Note: This page has several <a href="#fr">forward references</a>. However, I didn't want to place it too far down the list, yet at the same time it's too small to split it into two pages.</span></p>
<p>This page talks about what gitolite looks like to non-admins, and the commands and features available to them.</p>
<h3 id="accessing-gitolite"><span class="header-section-number">2.5.1</span> accessing gitolite</h3>
<p>The most common setup is based on ssh, where your admin asks you to send him your public key, and uses that to setup your access.</p>
<p>Your actual access is either a git command (like <code>git clone git@server:reponame</code>, or an ssh command (like <code>ssh git@server info</code>).</p>
<p>Note that you do <em>not</em> get a shell on the server -- the whole point of gitolite is to prevent that!</p>
<p><strong>Note to people who think gitolite requires or can only handle a specific syntax for the URL</strong>: Gitolite is designed in such a way that, unless there is an access violation, the <em>client</em> need not even <em>know</em> that something called gitolite is sitting between it and git on the server. In particular, this means <em>any</em> URL syntax listed in 'man git-clone' for ssh and/or http will work. The only things to note are:</p>
<ul>
<li>In ssh mode, you <em>must</em> use key-based authentication (i.e., passwords won't work; see the two pages linked from the <a href="#ssh">ssh</a> page for why).</li>
<li>The path of the repo is what you put into the conf file (e.g., &quot;testing&quot;, and not &quot;repositories/testing&quot; or &quot;/home/git/repositories/testing&quot; or such). A good rule of thumb is to use the exact name the <code>info</code> command (see below) shows you.</li>
<li>The &quot;.git&quot; at the end is optional for <strong>git</strong> commands (i.e., you can use &quot;testing.git&quot; instead of &quot;testing&quot; for clone, fetch, push, etc., if you like) but <strong>gitolite</strong> commands in general (see below) will not like the additional &quot;.git&quot; at the end.</li>
</ul>
<h3 id="info"><span class="header-section-number">2.5.2</span> the info command</h3>
<p>The only command that is <em>always</em> available to every user is the <code>info</code> command (run <code>ssh git@host info -h</code> for help), which tells you what version of gitolite and git are on the server, and what repositories you have access to. The list of repos is very useful if you have doubts about the spelling of some new repo that you know was setup.</p>
<h3 id="normal-and-wild-repos"><span class="header-section-number">2.5.3</span> normal and wild repos</h3>
<p>Gitolite has two kinds of repos. Normal repos are specified by their full names in the config file. &quot;Wildcard&quot; repos are specified by a regex in the config file. Try the <a href="#info"><code>info</code> command</a> and see if it shows any lines that look like regex patterns, (with a &quot;C&quot; permission).</p>
<p>If you see any, it means you are allowed to create brand new repos whose names fit that regex. Normally, you create such repos simply by cloning them or pushing to them -- gitolite automatically creates the repo on the server side. (If your site is different, your admin will tell you).</p>
<p>When you create such a repo, your &quot;ownership&quot; of it (as far as gitolite is concerned) is automatically recorded by gitolite.</p>
<h3 id="other-commands"><span class="header-section-number">2.5.4</span> other commands</h3>
<h4 id="perms"><span class="header-section-number">2.5.4.1</span> set/get additional permissions for repos you created</h4>
<p>The gitolite config may have several permissions lines for your repo, like so:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="Special">pub/</span><span class="PreProc">CREATOR</span><span class="Special">/..*</span>
<span class="Statement">    C</span><span class="Constant">       </span>=   ...some list of users allowed to create repos...
<span class="Statement">    RW+</span><span class="Constant">     </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">    RW</span><span class="Constant">      </span>=   user1 user2
<span class="Statement">    R</span><span class="Constant">       </span>=   user3
</pre>

<p>If that's all it had, you really can't do much. Any changes to access must be done by the administrator. (Note that &quot;CREATOR&quot; is a reserved word that gets expanded to your userid in some way, so the admin can literally add just the first three lines, and <em>every</em> authenticated user now has his own personal repo namespace, starting with <code>pub/&lt;username&gt;/</code>).</p>
<p>To give some flexibility to users, the admin could add rules like this:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">RW</span><span class="Constant">      </span>=   <span class="PreProc">WRITERS</span>
<span class="Statement">R</span><span class="Constant">       </span>=   <span class="PreProc">READERS</span>
</pre>

<p><span class="gray">(he could also add other <a href="#roles">roles</a> but then he needs to read the documentation).</span></p>
<p>Once he does this, you can then use the <code>perms</code> command (run <code>ssh git@host perms -h</code> for help) to set permissions for other users by specifying which users are in the list of &quot;READERS&quot;, and which in &quot;WRITERS&quot;.</p>
<p>If you think of READERS and WRITERS as &quot;roles&quot;, it will help. You can't change what access a role has, but you <em>can</em> say which users have that role.</p>
<p><strong>Note</strong>: there isn't a way for you to see the actual rule list unless you're given read access to the special 'gitolite-admin' repo. Sorry. The idea is that your admin will tell you what &quot;roles&quot; he added into rules for your repos, and what permissions those roles have.</p>
<h4 id="desc"><span class="header-section-number">2.5.4.2</span> adding a description to repos you created</h4>
<p>The <code>desc</code> command is extremely simple. Run <code>ssh git@host desc -h</code> for help.</p>
<h3 id="site-local-commands"><span class="header-section-number">2.5.5</span> &quot;site-local&quot; commands</h3>
<p>The main purpose of gitolite is to prevent you from getting a shell. But there are commands that you often need to run on the server (i.e., cannot be done by pushing something to a repo).</p>
<p>To enable this, gitolite allows the admin to setup scripts in a special directory that users can then run. Gitolite comes with a set of working scripts that your admin may install, or may use as a starting point for his own, if he chooses.</p>
<p>Think of these commands as equivalent to those in <code>COMMAND_DIR</code> in <code>man git-shell</code>.</p>
<p>You can get a list of available commands by running <code>ssh git@host help</code>.</p>
<h3 id="pers"><span class="header-section-number">2.5.6</span> &quot;personal&quot; branches</h3>
<p>&quot;personal&quot; branches are great for environments where developers need to share work but can't directly pull from each other (usually due to either a networking or authentication related reason, both common in corporate setups).</p>
<p>Personal branches exist <strong>in a namespace</strong> of their own. The syntax is</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">    RW+</span><span class="Constant"> personal/</span><span class="PreProc">USER</span><span class="Constant">/  </span>=   <span class="Identifier">@userlist</span>
</pre>

<p>where the &quot;personal&quot; can be anything you like (but cannot be empty), and the &quot;/USER/&quot; part is <strong>necessary (including both slashes)</strong>.</p>
<p>A user &quot;alice&quot; (if she's in the userlist) can then push any branches inside <code>personal/alice/</code>. Which means she can push <code>personal/alice/foo</code> and <code>personal/alice/bar</code>, but NOT <code>personal/alice</code>.</p>
<p>(Background: at runtime the &quot;USER&quot; component will be replaced by the name of the invoking user. Access is determined by the right hand side, as usual).</p>
<p>Compared to using arbitrary branch names on the same server, this:</p>
<ul>
<li>Reduces namespace pollution by corralling all these ad hoc branches into the &quot;personal/&quot; namespace.</li>
<li>Reduces branch name collision by giving each developer her own sub-hierarchy within that.</li>
<li>Removes the need to think about access control, because a user can push only to his own sub-hierarchy.</li>
</ul>
<h2 id="emergencies"><span class="header-section-number">2.6</span> help for emergencies</h2>
<blockquote>
<hr />
</blockquote>
<p><br /></p>
<blockquote>
<center>
<span class="red"><strong>&quot;Don't Panic!&quot;</strong></span>
</center>

</blockquote>
<p><br /></p>
<blockquote>
<hr />
</blockquote>
<h3 id="installsetup-issues"><span class="header-section-number">2.6.1</span> install/setup issues</h3>
<p>Most install/setup issues in ssh mode are caused by lack of ssh knowledge. Ssh is a complex beast, and can cause problems for people who are not familiar with its quirks.</p>
<p><strong>Be prepared to spend some time reading the <a href="#ssh">ssh</a> documentation that comes with gitolite</strong>.</p>
<h3 id="lost-key"><span class="header-section-number">2.6.2</span> lost admin key/access</h3>
<p>If you lost your gitolite <strong>admin</strong> key or access, here's what you do. We'll assume your username is &quot;alice&quot; (i.e., alice has RW or RW+ permissions on the gitolite-admin repo).</p>
<ul>
<li><p>Make yourself a new keypair and copy the public key to the server as 'alice.pub'.</p></li>
<li><p>Log on to the server, and run <code>gitolite setup -pk alice.pub</code>.</p></li>
</ul>
<p>That's it; the new alice.pub file replaces whatever existed in the repo before.</p>
<h3 id="bypass"><span class="header-section-number">2.6.3</span> bypassing gitolite</h3>
<p>You may have lost access because of a conf file error, in which case the above trick (which merely changes a pubkey) won't help. What you want is to make changes to the gitolite-admin repo (or perhaps just rewind) and push that. Here's how to do that:</p>
<ul>
<li><p>Log on to the server.</p></li>
<li><p>Clone the admin repo using the full path: <code>git clone     $HOME/repositories/gitolite-admin.git temp</code>.</p></li>
<li><p>Make whatever changes you want -- add/replace a key, 'git revert' or 'git reset --hard' to an older commit, etc. Anything you need to fix the problem, really.</p></li>
<li><p>Run <code>gitolite push</code> (or possibly <code>gitolite push -f</code>). Note that's 'gitolite push', not 'git push'.</p></li>
</ul>
<p><font color="red"> <strong>NOTE</strong>: gitolite does <strong>no access checking</strong> when you do this! </font></p>
<h3 id="botch"><span class="header-section-number">2.6.4</span> botched something?</h3>
<h4 id="fixing-botched-repos"><span class="header-section-number">2.6.4.1</span> fixing botched repos</h4>
<p>If you copied some repos from somewhere else, or mucked with the hooks for some reason, or deleted any gitolite-specific files, or tried any other &quot;behind the scenes&quot; stunts, the quickest, sanest, way to fix everything up is:</p>
<ul>
<li>Make sure any new repos you copied in are mentioned in the gitolite.conf in some 'repo' line and the change pushed.</li>
<li>Then run <code>gitolite setup</code> on the server.</li>
</ul>
<p>If the repo you botched is a wild repo, there's a bit more to be done. Wild repos store the creator name in a file called gl-creator, and the data managed by the <a href="#perms">perms</a> command in a file called &quot;gl-perms&quot;. If these files got deleted, you may have to manually recreate them. The format is very simple and guessable by looking at those files on any other wild repo.</p>
<h4 id="clean"><span class="header-section-number">2.6.4.2</span> cleaning out a botched install</h4>
<p>Here's a list of files and directories to deal with:</p>
<ul>
<li><p><strong>Gitolite sources</strong> -- can be found by running <code>which gitolite</code>. If it's a symlink, go to its target directory.</p></li>
<li><p><strong>Gitolite admin directory</strong> -- <code>$HOME/.gitolite</code>. Save the 'logs' directory if you want to preserve them for any reason.</p></li>
<li><p><strong>The rc file</strong> -- <code>$HOME/.gitolite.rc</code>. If you made any changes to it you can save it as some other name instead of deleting it.</p></li>
<li><p><strong>The gitolite-admin repo</strong> -- <code>$HOME/repositories/gitolite-admin.git</code>. You can clone it somewhere to save it before blowing it away if you wish.</p></li>
<li><p><strong>Git repositories</strong> -- <code>$HOME/repositories</code>. The install process will not touch any existing repos except 'gitolite-admin.git', so you do not have to blow away (or move) your work repos to fix a botched install.</p>
<p>Only when you update the conf to include those repos and push the changes will those repos be touched. And even then all that happens is that the update hook, if any, is replaced with gitolite's own hook.</p></li>
<li><p><strong>Ssh stuff</strong> -- exercise caution when doing this, but in general it should be safe to delete all lines between the &quot;gitolite start&quot; and &quot;gitolite end&quot; markers in <code>$HOME/.ssh/authorized_keys</code>.</p>
<p>Gitolite does not touch any other files in the ssh directory.</p></li>
</ul>
<h3 id="ce"><span class="header-section-number">2.6.5</span> common errors</h3>
<ul>
<li><p><code>WARNING: keydir/&lt;yourname&gt;.pub duplicates a non-gitolite key, sshd will ignore it</code></p>
<p>You used a key that is already set to give you shell access. You cannot use the same key to get shell access as well as access gitolite repos.</p>
<p>Solution: use a different keypair for gitolite. There's a wee bit more on this in the <a href="#setup">setup</a> section of the install page. Also see <a href="#ybpfail">why bypassing causes a problem</a> and both the pages linked from <a href="#ssh">ssh</a> for background.</p></li>
<li><p><code>Empty compile time value given to use lib at hooks/update line 6</code></p>
<p>(followed by <code>Can't locate Gitolite/Hooks/Update.pm in @INC</code> a couple of lines later).</p>
<p>You're bypassing gitolite. You cloned the repo using the full path (i.e., including the <code>repositories/</code> prefix), either directly on the server, or via ssh but with a key that gives you <strong>shell</strong> access.</p>
<p>Solution: same as for the previous bullet.</p>
<p>NOTE: If you really <em>must</em> do it, and this is a one-time thing, you can try <code>gitolite push</code> instead of <code>git push</code>. <strong>BUT</strong>... this defeats all gitolite access control, so if you're going to do this often, maybe you don't need gitolite!</p></li>
</ul>
<h3 id="ue"><span class="header-section-number">2.6.6</span> uncommon errors</h3>
<p>(This page intentionally left blank)</p>
<h3 id="nonstd"><span class="header-section-number">2.6.7</span> non-standard configs that'll trip you up</h3>
<ul>
<li><p>If your 'git' binary is in a non-PATH location, or you have more than one version and want a specific one to be picked up, you will have to add a line like this at the end of the rc file (outside the <code>%RC</code> hash, but before the <code>1;</code> line):</p>
<pre><code>$ENV{PATH} = &quot;/your/git/path:$ENV{PATH}&quot;;</code></pre></li>
<li><p>If you have your sshd configured to put the authorized_keys file somewhere other than the default (which is in .ssh in the <a href="#hu">hosting user</a>'s home directory).</p></li>
<li><p>Having sshd setup to not allow incoming ssh for the hosting user. Check things like 'Allowusers' setting in /etc/ssh/sshd_config etc.</p></li>
<li><p>Having the home directory in a partition that is mounted noexec.</p></li>
<li><p>Having the default shell be something like /bin/false, and/or not having the default shell be part of /etc/shells.</p></li>
</ul>
<h3 id="ngp"><span class="header-section-number">2.6.8</span> things that are not gitolite problems</h3>
<p>There are several things that appear to be gitolite problems but are not. I cannot help with most of these (although the good folks on irc or the mailing list -- see <a href="#contact">contact</a> -- might be able to; they certainly appear to have a lot more patience than I do, bless 'em!)</p>
<ul>
<li><p><strong>Client side software</strong></p>
<ul>
<li>putty/plink</li>
<li>jgit/Eclipse</li>
<li>Mac OS client <strong>or</strong> server</li>
<li>putty/plink</li>
<li>windows as a server</li>
<li>...probably some more I forgot; will update this list as I remember...</li>
<li>did I mention putty/plink?</li>
</ul></li>
<li><p><strong>Ssh</strong></p>
<p>The <em>superstar</em> of the &quot;not a gitolite problem&quot; category is actually ssh.</p>
<p>Surprised? It is so common that it has <a href="#auth">its own page</a> to tell you why it is <em>not</em> a gitolite problem, while <a href="#ssh">another one</a> tries to help you anyway!</p>
<p>Everything I know is in that latter link. Please email me about ssh ONLY if you find something wrong or missing in those pages.</p></li>
<li><p><strong>Git</strong></p>
<p>I wish I had a dollar for each time someone did a <em>first push</em> on a new repo, got an error because there were &quot;no refs in common (etc.)&quot;, and asked me why gitolite was not allowing the push.</p>
<p>Gitolite is designed to look like just another bare repo server to a client (except requiring public keys -- no passwords allowed). It is <em>completely transparent</em> when there is no authorisation failure (i.e., when the access is allowed, the remote client has no way of knowing gitolite was even installed!)</p>
<p>Even &quot;on disk&quot;, apart from reserving the <code>update</code> hook for itself, gitolite does nothing to your bare repos unless you tell it to (for example, adding 'gitweb.owner' and such to the config file).</p>
<p>BEFORE you think gitolite is the problem, try the same thing with a normal bare repo. In most cases you can play with it just by doing something like this:</p>
<pre><code>mkdir /tmp/throwaway
cd    /tmp/throwaway
git clone --mirror &lt;some repo you have a URL for&gt; bare.git
git clone bare.git worktree
cd worktree
&lt;...try stuff&gt;</code></pre></li>
</ul>
<h2 id="ips"><span class="header-section-number">2.7</span> idiot-proof setup for gitolite</h2>
<p>If I gave you this link to read, it most likely means either:</p>
<ul>
<li>(most common reason) You got really confused by <a href="#ssh">ssh</a>.</li>
<li>(a bit less common) You got confused by how to administer users and repos using gitolite.</li>
</ul>
<p>Don't take the title personally. The &quot;idiot&quot; in the title is indeed a real person who once bugged me so much I wrote this for him. However, I have since realised that this is also useful for (a) people for whom English is not the first language and (b) people who really should not be doing technical work at this level, but are forced to do it by circumstances.</p>
<h3 id="pre-requisites-etc"><span class="header-section-number">2.7.1</span> pre-requisites, etc</h3>
<p>These are the pre-requisites:</p>
<ul>
<li>Any Linux machine on which git has already been installed.</li>
<li>Probably any BSD or legacy system like Solaris will also work, but I have not tested them.
<ul>
<li>I do not consider Apple devices to be Unix enough; it should work, but please do not ask me for help if it does not.</li>
</ul></li>
</ul>
<p>This page has several restrictions and constraints that seem unnecessary to people who <strong>do</strong> understand ssh. That's the whole point -- I'm compensating for lack of ssh knowledge by removing things that trip people up.</p>
<p>If even this page does not help you install gitolite, I probably cannot help you. Either you did not follow the instructions carefully <font color="gray">(maybe some task has to be run on your workstation, but you ran it on the server, or you ran something as root when it should be as the hosting user, etc.)</font>, or your environment is far too different from standard Unix, or you have some other problem. In any case, it is not something I can help with. Sorry.</p>
<h3 id="assumptions"><span class="header-section-number">2.7.2</span> assumptions</h3>
<ul>
<li><p>Your name is Ron. Substitute accordingly in the instructions below.</p></li>
<li><p>You have a workstation.</p></li>
<li><p>You have a server called <code>server</code>.</p></li>
<li><p>You have root access on this server.</p></li>
</ul>
<h3 id="installation-tasks"><span class="header-section-number">2.7.3</span> installation tasks</h3>
<ol style="list-style-type: decimal">
<li><p>Create a new userid on the server, say <code>git</code>. This will be the <strong>hosting user</strong>. (&quot;hosting user&quot; means when you're done installing, your users will use URLs like <code>git@server:reponame</code> or <code>ssh://git@server/reponame</code>).</p>
<p><strong>Make sure this is a NEW userid</strong>.</p>
<p>If the name you want already exists, then:</p>
<ul>
<li>Log in as root.</li>
<li>If you have any data on that user's HOME directory save it somewhere else.</li>
<li>Delete the userid.</li>
<li>Completely wipe out (erase) the home directory of the user (since on most systems merely deleting the user does not remove the home directory).</li>
<li>Re-create the userid again.</li>
</ul></li>
<li><p>If you don't already have one, make yourself an ssh keypair <strong>on your workstation</strong>.</p>
<p>Do NOT add this public key to the authorised keys file on the newly created hosting user!</p>
<p>Your ONLY access to the new (<code>git</code>) userid should be by logging onto the server as root, then running <code>su - git</code>.</p></li>
<li><p>Now copy the pubkey from your workstation (<code>~/.ssh/id_rsa.pub</code>) to the server as <code>/tmp/ron.pub</code>. (Your name is Ron, remember?)</p></li>
<li><p>Log on to the server as root.</p></li>
<li><p>Switch to the <code>git</code> user:</p>
<pre><code>su - git</code></pre></li>
<li><p>Clone the gitolite source code</p>
<pre><code>git clone git://github.com/sitaramc/gitolite</code></pre></li>
<li><p>Install it</p>
<pre><code>cd $HOME
mkdir -p bin
gitolite/install -to $HOME/bin</code></pre></li>
<li><p>Set it up</p>
<pre><code>cd $HOME
$HOME/bin/gitolite setup -pk /tmp/ron.pub</code></pre></li>
<li><p>Now go to your workstation and type in</p>
<pre><code>git ls-remote git@server:gitolite-admin</code></pre>
<p>This should return something like</p>
<pre><code>9dd8aab60bac5e54ccf887a87b4f3d35c96b05e4    HEAD
9dd8aab60bac5e54ccf887a87b4f3d35c96b05e4    refs/heads/master</code></pre>
<p>(do I have to mention that your SHAs will be different?)</p></li>
</ol>
<h3 id="administration-tasks"><span class="header-section-number">2.7.4</span> administration tasks</h3>
<p>Most day-to-day administration is done by making changes to a clone of the gitolite-admin repo and pushing. (There are some things that are done by editing <code>$HOME/.gitolite.rc</code> on the server, but those are too advanced for this tutorial so we will ignore that).</p>
<ol style="list-style-type: decimal">
<li><p>To start administering gitolite, clone the gitolite-admin repo:</p>
<pre><code>git clone git@server:gitolite-admin</code></pre></li>
<li><p>Now go to the new directory this creates, and look around:</p>
<pre><code>cd gitolite-admin
ls -A</code></pre>
<p>which gives you</p>
<pre><code>conf/  .git/  keydir/</code></pre>
<p>Ignoring the &quot;.git&quot; and exploring further:</p>
<pre><code>ls -A conf keydir</code></pre>
<p>which says:</p>
<pre><code>conf:
gitolite.conf

keydir:
ron.pub</code></pre></li>
<li><p>Let's say you want to add your colleague Alice. She has sent you her ssh public key by email (the file is called <code>id_rsa.pub</code>). Save this file as /tmp/alice.pub, then do this:</p>
<pre><code># still in your gitolite-admin clone, from the previous step
cp /tmp/alice.pub keydir
git add keydir
git commit -m 'new user alice'
git push</code></pre></li>
<li><p>Well, that might not be sufficient. There aren't any new repos for alice to play with, yet. So here's what you do: edit &quot;conf/gitolite.conf&quot; and add something like to the end:</p>
<pre><code>repo foo
    RW+     =   alice
    R       =   ron</code></pre>
<p>Save the file, then <code>git add conf; git commit -m 'new repo foo'; git push</code>.</p>
<p>This will automatically the brand new repo called &quot;foo&quot; on the server, and alice will be able to clone from it, or push anything to it.</p></li>
</ol>
<h2 id="cookbook"><span class="header-section-number">2.8</span> gitolite cookbook</h2>
<p><span class="box-r">Note: This page has several <a href="#fr">forward references</a>. Skip it, or maybe skim through it, on a first reading. It's more of a &quot;look at it when I have a specific need&quot; page anyway.</span></p>
<p>Documentation is meant to be as complete as possible, which means it attempts to cover all situations and scenarios. That makes it harder to read.</p>
<p>However, if you make some assumptions, remove the rationale, justification, exceptions and special cases, etc., and generally just say <em>what</em> is to be done rather than explain <em>why</em>, many tasks can be described very easily.</p>
<p>Or, if the main documentation already does that, a cookbook may help you find it faster, simply because it's organised differently.</p>
<p>Maybe this will help. If you run into problems, please check the main documentation before asking for help.</p>
<h3 id="cb-admin"><span class="header-section-number">2.8.1</span> administration</h3>
<h4 id="separating-key-admin-from-repo-admin"><span class="header-section-number">2.8.1.1</span> separating &quot;key admin&quot; from &quot;repo admin&quot;</h4>
<p>In gitolite, the person who controls the keys is the most critical in terms of security -- because he can always add his own key in your name :-)</p>
<table><tr><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>gitolite-admin
<span class="Statement">    RW+</span><span class="Constant"> </span>= key-manager repo-manager

<span class="Statement">    RW+</span><span class="Constant"> VREF/NAME/                    </span>= key-manager
<span class="Statement">    -</span><span class="Constant">   VREF/NAME/keydir/             </span>=<span class="WarningMsg"> @all</span>
<span class="Statement">    -</span><span class="Constant">   VREF/NAME/conf/gitolite.conf  </span>=<span class="WarningMsg"> @all</span>

<span class="PreProc">include </span><span class="Constant">&quot;actual.conf&quot;</span>
</pre>

</td><td>

<p>Traditionally, the same person also administers repos and permissions. But sometimes you want to separate them.</p>
<p>To separate those roles, put the following in conf/gitolite.conf, and let the repo-manager manage everything through &quot;actual.conf&quot;:</p>
</td></tr></table>

<h3 id="cb-access"><span class="header-section-number">2.8.2</span> access</h3>
<h4 id="looking-up-repo-access-from-external-tools"><span class="header-section-number">2.8.2.1</span> looking up repo access from external tools</h4>
<p>There are two supported interfaces for this, one in perl and one in shell. Other languages should probably use the shell mode. (The shell mode has a very convenient &quot;batch&quot; mode if you need to check many repos at once).</p>
<p><strong>Perl interface</strong>: A good intro to this, including a link to code, using gitweb as an example can be found by looking for 'repo-specific authorisation in gitweb' in the page on <a href="#gitweb-daemon">allowing access to gitweb and git-daemon</a>. Some notes:</p>
<ul>
<li>be sure to read the comments in the code to learn exactly how to adapt it to your needs</li>
<li>in place of the <code>can_read</code> function in that code, you can of course use <code>can_write</code>. In fact, reading the comments in &quot;Easy.pm&quot; (look for it in the source) shows you several other interesting tests you can make, like <code>is_admin</code>, <code>in_group</code>, and <code>owns</code>.</li>
</ul>
<p><strong>Shell interface</strong>: If you want to do this from shell, it's even easier. The same &quot;Easy.pm&quot; source contains comments that show shell equivalents for each of the functions it exports, but here's a sample:</p>
<pre><code>if gitolite access -q reponame username W
then
    ...</code></pre>
<p>You can even test for access to specific branches:</p>
<pre><code>if gitolite access -q reponame username W master
then
    ...</code></pre>
<p><span class="gray">If your gitolite is older than v3.6, you must use the full ref name; just 'master' won't do.</span></p>
<h4 id="allowing-access-by-other-programs"><span class="header-section-number">2.8.2.2</span> allowing access by other programs</h4>
<p>Giving external tools (like apache) access to gitolite repositories involves making sure that the unix owner/group and permissions settings allow this. This is all described in the UMASK section in the page on the <a href="#rc">rc file</a>, because that's the only setting that gitolite controls; every thing else is pure Unix.</p>
<h3 id="cb-commands"><span class="header-section-number">2.8.3</span> commands</h3>
<h4 id="adding-your-own-commands"><span class="header-section-number">2.8.3.1</span> adding your own commands</h4>
<p>To add a command, say <code>foo</code>, do this:</p>
<ol style="list-style-type: decimal">
<li><p>add this line in the rc file, within the <code>%RC</code> block, if it's not already present, or uncomment it if it's already present and commented out:</p>
<pre><code>LOCAL_CODE =&gt; &quot;$ENV{HOME}/local&quot;,</code></pre></li>
<li><p>copy the program <code>foo</code> into <code>$HOME/local/commands</code>. (Don't forget the <code>chmod +x</code>!)</p></li>
</ol>
<h4 id="making-commands-available-to-remote-users"><span class="header-section-number">2.8.3.2</span> making commands available to remote users</h4>
<p>Once you do the above, <code>foo</code> is available as <code>gitolite foo</code>. To make it available to remote users (as <code>ssh git@host foo</code>), add the line:</p>
<pre><code>`foo`,</code></pre>
<p>(including the comma at the end) to the ENABLE list in the rc file.</p>
<h3 id="cb-hooks"><span class="header-section-number">2.8.4</span> hooks</h3>
<p>The main documentation for this feature starts <a href="#hooks">here</a>.</p>
<h4 id="adding-your-own-update-hooks"><span class="header-section-number">2.8.4.1</span> adding your own update hooks</h4>
<p>You have some update hooks (for example crlf checking) that you want to include in gitolite. Assuming the hook itself is tested and works as a normal <strong>git</strong> update hook does (i.e., conforms to what <code>man githooks</code> says an update hook should do), here's how to do this:</p>
<ol style="list-style-type: decimal">
<li><p>add this line in the rc file, within the <code>%RC</code> block, if it's not already present, or uncomment it if it's already present and commented out:</p>
<pre><code>LOCAL_CODE =&gt; &quot;$ENV{HOME}/local&quot;,</code></pre></li>
<li><p>copy your update hook to a subdirectory called VREF under this directory, giving it a suitable name (let's say &quot;crlf&quot;):</p>
<pre><code># log on to server
cd $HOME
mkdir -p local/VREF
cp your-crlf-update-hook local/VREF/crlf
chmod +x local/VREF/crlf</code></pre></li>
<li><p>in your gitolite-admin clone, edit conf/gitolite.conf and add lines like this:</p>
<pre><code>    -   VREF/crlf       =   @all</code></pre>
<p>to each repo that should have that &quot;update&quot; hook.</p>
Alternatively, you can simply add this at the end of the gitolite.conf file:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span><span class="Identifier">@all</span>
<span class="Statement">        -</span><span class="Constant">   VREF/crlf       </span>=<span class="WarningMsg">   @all</span>
</pre>

<p>Either way, add/commit/push the change to the gitolite-admin repo.</p></li>
</ol>
<h4 id="adding-other-non-update-hooks"><span class="header-section-number">2.8.4.2</span> adding other (non-update) hooks</h4>
<p>Say you want other hooks, like a post-receive hook. Here's how:</p>
<ol style="list-style-type: decimal">
<li><p>add this line in the rc file, within the <code>%RC</code> block, if it's not already present, or uncomment it if it's already present and commented out:</p>
<pre><code>LOCAL_CODE =&gt; &quot;$ENV{HOME}/local&quot;,</code></pre></li>
<li><p>put your hooks into that directory, in a sub-sub-directory called &quot;hooks/common&quot;:</p>
<pre><code># log on to server
cd $HOME
mkdir -p local/hooks/common
cp your-post-receive-hook local/hooks/common/post-receive
chmod +x local/hooks/common/post-receive</code></pre></li>
<li><p>run <code>gitolite setup</code> to have the hooks propagate to existing repos (repos created after this will get them anyway).</p></li>
</ol>
<h4 id="variation-maintain-these-hooks-in-the-gitolite-admin-repo"><span class="header-section-number">2.8.4.3</span> variation: maintain these hooks in the gitolite-admin repo</h4>
<p>If you want to maintain these update hooks (VREFs) or non-update hooks (post-update, pre-receive, post-receive) in the gitolite-admin repo, instead of having to log on to the server and make changes, the procedure is almost the same except for the following differences:</p>
<ol style="list-style-type: decimal">
<li><p>add this line in the rc file, within the <code>%RC</code> block, if it's not already present, or uncomment it if it's already present and commented out:</p>
<pre><code>LOCAL_CODE =&gt; &quot;$rc{GL_ADMIN_BASE}/local&quot;,</code></pre>
<p>Notice &quot;local&quot; is <em>not</em> in $HOME like in the previous examples!</p></li>
<li><p>the hooks/scripts are to be added inside your gitolite-admin clone, not on the server. That is, whereever the above two sections say &quot;cd $HOME&quot;, you should read it as &quot;cd /path/to/your/gitolite-admin-clone&quot;.</p></li>
<li><p>add/commit/push as usual.</p></li>
</ol>
<p>For update hooks, you will of course need to add VREF rule lines to appropriate repos in the conf file. For non-update hooks, you <strong>don't</strong> need to run 'gitolite setup' on the server; the push takes care of that.</p>
<h4 id="v3.6-variation-repo-specific-hooks"><span class="header-section-number">2.8.4.4</span> <span class="gray">(v3.6+)</span> variation: repo-specific hooks</h4>
<p>Until now, the non-update hooks you specified apply to all repos. Here's how to apply them only to certain repos:</p>
<ol style="list-style-type: decimal">
<li><p>add this line in the rc file, within the <code>%RC</code> block, if it's not already present, or uncomment it if it's already present and commented out:</p>
<pre><code>LOCAL_CODE =&gt; &quot;$rc{GL_ADMIN_BASE}/local&quot;,</code></pre></li>
<li><p>put your hooks into your gitolite-admin clone, as follows:</p>
<pre><code># on your workstation
cd /path/to/your/gitolite-admin-clone
mkdir -p local/hooks/repo-specific</code></pre>
<p>Now add your hooks to that directory, but instead of using the git &quot;standard&quot; names (pre-receive, post-receive, post-update), you use descriptive names (e.g. &quot;deploy&quot;, &quot;RSS-post&quot;, etc).</p></li>
<li><p>add them to the repos you want them to be active in, in your conf file. For example:</p>
<pre><code>repo foo
    option hook.post-update     =   jenkins
repo bar @baz
    option hook.post-update     =   deploy RSS-post</code></pre></li>
<li><p>add, commit, and push the admin repo.</p></li>
</ol>
<h3 id="cb-vrefs"><span class="header-section-number">2.8.5</span> VREFs</h3>
<h4 id="adding-your-own-vrefs"><span class="header-section-number">2.8.5.1</span> adding your own VREFs</h4>
<p>Adding VREFs is the same as adding the update hook, so please see the section on &quot;adding your own update hooks&quot; above.</p>
<h4 id="example-vrefs"><span class="header-section-number">2.8.5.2</span> example VREFs</h4>
<p>However, <em>writing</em> a proper VREF is not the same as writing a normal git &quot;update hook&quot;. A proper VREF does more than just take 3 arguments, do something, and exit with a non-zero exit code for failure.</p>
<p>A VREF is called with at least 4 more arguments after the 3 that git itself defines for an update hook, plus usually at least one or two more. It also returns a lot more meaningful results via STDOUT.</p>
<p>Here are some examples. I also advise you to keep a browser tab open to the doc on <a href="#vref-args">VREF arguments</a> as you look at these.</p>
<h5 id="example-1-restricting-by-day-of-week"><span class="header-section-number">2.8.5.2.1</span> example 1: restricting by day of week</h5>
<p>Here's the conf extract to say &quot;junior devs can only push on weekdays&quot;:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    -</span><span class="Constant">   VREF/DAY/Sat    </span>=<span class="WarningMsg">   @junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/DAY/Sun    </span>=<span class="WarningMsg">   @junior-devs</span>
</pre>

<p>The code for this VREF is ridiculously simple:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment">#!/bin/bash</span>
echo VREF/DAY/`date +%a`
</pre>

<p>On encountering the VREF rules (i.e., when a junior dev tries to access this repo), gitolite calls the &quot;DAY&quot; VREF-maker. The code within the VREF maker simply echoes something like &quot;VREF/DAY/Mon&quot;, where the last part is whatever the actual day of the week happens to be.</p>
<p>This output is then treated as a virtual ref and matched against the rules. On a Monday to Friday, nothing happens, because the VREFs generated do not match any deny rules (or indeed any rules at all). On weekends, they do match, and the access is denied.</p>
<h5 id="example-2-restricting-by-source-ip-address"><span class="header-section-number">2.8.5.2.2</span> example 2: restricting by source IP address</h5>
<p>This one restricts junior developers to access this repo only from a specific network block. The conf file here is slightly different. We know that the VREF-maker will return with <em>some</em> network address (as you'll see in the code later), so we set it up so that the correct network block is allowed and anything else is disallowed:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    RW+</span><span class="Constant"> VREF/FROM/192.168.48.0/23   </span>=   <span class="Identifier">@junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/FROM                   </span>=<span class="WarningMsg">   @junior-devs</span>
</pre>

<p>The code is not that complex. We take the user's actual IP address (this is available as the first word in <code>$SSH_CONNECTION</code> for ssh users, and for smart-http users, gitolite fakes it and creates that variable!). We then treat the &quot;23&quot; in the VREF rule, which appears to the code as <code>$9</code>, as the number of bits in the network address, then compute the network address for the users IP with that number of bits.</p>
<p>This network address is then sent back. (The <code>$9</code> is added back at the end, but this is only to enable it to match the VREF rule).</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment">#!/bin/bash</span>

<span class="Comment"># exit if no arguments were supplied to the VREF.  This covers the</span>
<span class="Comment"># second VREF rule in the conf above</span>
[ -n <span class="Constant">&quot;$8&quot;</span> ] || exit 0

from=${SSH_CONNECTION%% *}

eval `ipcalc -n $from/$9`      <span class="Comment"> # sets env var &quot;NETWORK&quot;</span>

echo VREF/FROM/$NETWORK/$9
</pre>

<p>For a source IP of 192.168.49.97, this runs <code>ipcalc -n 192.168.49.97/23</code>, which gives the network address 192.168.48.0. The echo then just sends back VREF/FROM/192.168.48.0/23. This VREF matches the RW+ line.</p>
<p>But if the IP is, say, 192.168.45.67, running <code>ipcalc -n 192.168.45.67/23</code> gives you 192.168.44.0. The echo then send back VREF/FROM/192.18.44.0/23, which won't match the RW+ line, but will match the next one and thus deny access.</p>
<p>(One thing that may not be obvious in this specific example is that you have to be careful when constructing the VREF rule. For any VREF/FROM/A/B, the result of running <code>ipcalc -n A/B</code> must be A, otherwise this won't work. That is, the bits of the network address after the network bits must be zero).</p>
<h3 id="cb-move"><span class="header-section-number">2.8.6</span> moving stuff around</h3>
<h4 id="moving-a-gitolite-install-from-one-machine-to-another"><span class="header-section-number">2.8.6.1</span> moving a gitolite install from one machine to another</h4>
<p>See <a href="#moving">moving servers</a>.</p>
<h1 id="advanced"><span class="header-section-number">3</span> advanced</h1>
<h2 id="git-config"><span class="header-section-number">3.1</span> specifying &quot;git-config&quot; keys and values</h2>
<p><span class="gray">(Original version thanks to teemu dot matilainen at iki dot fi.)</span></p>
<blockquote>
<hr />
</blockquote>
<blockquote>
<p><strong>Note</strong>: this won't work unless the rc file has the right settings; please see <code>$GIT_CONFIG_KEYS</code> in the <a href="#rc">rc file doc</a>.</p>
</blockquote>
<blockquote>
<hr />
</blockquote>
<h3 id="basic-syntax"><span class="header-section-number">3.1.1</span> basic syntax</h3>
<p>The syntax is simple:</p>
<pre><code>config sectionname.keyname = value</code></pre>
<p>For example:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>gitolite
<span class="Statement">    config </span><span class="Identifier">hooks.mailinglist </span>= gitolite-commits@example.tld
<span class="Statement">    config </span><span class="Identifier">hooks.emailprefix </span>= <span class="Constant">&quot;[gitolite] &quot;</span>
<span class="Statement">    config </span><span class="Identifier">foo.bar </span>= <span class="Constant">&quot;&quot;</span>
</pre>

<p>This does either a plain &quot;git config section.key value&quot; (for the first 2 examples above) or &quot;git config --unset-all section.key&quot; (for the last example). Other forms of the <code>git config</code> command (<code>--add</code>, the <code>value_regex</code>, etc) are not supported.</p>
<h4 id="an-important-warning-about-deleting-a-config-line"><span class="header-section-number">3.1.1.1</span> <span class="red">an important warning about <strong>deleting</strong> a config line</span></h4>
<blockquote>
<hr />
</blockquote>
<blockquote>
<p><strong>WARNING</strong>: simply deleting the config line from the <code>conf/gitolite.conf</code> file will <em>not</em> delete the variable from <code>repo.git/config</code>. You have to use the syntax in the last example to make gitolite execute a <code>--unset-all</code> operation on the given key.</p>
</blockquote>
<blockquote>
<hr />
</blockquote>
<h3 id="substituting-the-repo-name-and-the-creator-name"><span class="header-section-number">3.1.2</span> substituting the repo name and the creator name</h3>
<p>You can also use the special values <code>%GL_REPO</code> and <code>%GL_CREATOR</code> in the string. The former is available to all repos, while the latter is only available to <a href="#wild">wild</a> repos.</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo bar baz
<span class="Statement">    config </span><span class="Identifier">hooks.mailinglist </span>= %GL_REPO-commits@example.tld
<span class="Statement">    config </span><span class="Identifier">hooks.emailprefix </span>= <span class="Constant">&quot;[%GL_REPO] &quot;</span>
</pre>

<h3 id="override_conf"><span class="header-section-number">3.1.3</span> overriding config values</h3>
<p>You can repeat the 'config' line as many times as you like, and the <em>last</em> occurrence will be the one in effect. This allows you to override settings just for one project, as in this example:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="Identifier">@all</span>
<span class="Statement">    config </span><span class="Identifier">hooks.mailinglist </span>= %GL_REPO-commits@example.tld
<span class="Statement">    config </span><span class="Identifier">hooks.emailprefix </span>= <span class="Constant">&quot;[%GL_REPO] &quot;</span>

<span class="Comment"># ... later ...</span>

<span class="Type">repo </span>customer-project
   <span class="Comment"> # different mailing list</span>
<span class="Statement">    config </span><span class="Identifier">hooks.mailinglist </span>= announce@customer.tld
</pre>

<p>The &quot;delete config variable&quot; syntax can also be used, if you wish:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>secret    <span class="Comment"> # no emails for this one please</span>
<span class="Statement">    config </span><span class="Identifier">hooks.mailinglist </span>= <span class="Constant">&quot;&quot;</span>
<span class="Statement">    config </span><span class="Identifier">hooks.emailprefix </span>= <span class="Constant">&quot;&quot;</span>
</pre>

<p>As you can see, the general idea is to place the most generic ones (<code>repo @all</code>, or repo regex like <code>repo foo.*</code>) first, and place more specific ones later to override the generic settings.</p>
<h3 id="unsafe-patt"><span class="header-section-number">3.1.4</span> compensating for UNSAFE_PATT</h3>
<p>An important feature in gitolite is that you can share the admin load with more people, <strong>without</strong> having to give all of them shell access on the server. Thus there are some restrictions designed to prevent someone who can push the gitolite-admin repo, from somehow managing to run arbitrary commands on the server.</p>
<p>This section is about one of these restrictions.</p>
<p>Gitolite, by default, does not allow the following characters in the value of a config variable: <code>` ~ # $ &amp; ( ) | ; &lt; &gt;</code>. This is due to unspecified paranoia; see <a href="https://groups.google.com/d/topic/gitolite/9WNsA-Axmg4/discussion">this discussion</a> for some context. This restriction is enforced by a regex called <code>UNSAFE_PATT</code>, whose default value is <code>[`~#\$\&amp;()|;&lt;&gt;]</code>.</p>
<p>But let's say you need to do this, which fails due to the semicolon.</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">config </span><span class="Identifier">hooks.showrev </span>= <span class="Constant">&quot;git show -C %s; echo&quot;</span>
</pre>

<p>There are two ways to fix this.</p>
<p><strong>If all your admins already have shell access</strong>, you can override this by placing a modified version in the rc file. For our example, you'd just put the following line at the <strong>very end</strong> of your rc file, just before the <code>1;</code> line (notice there is no semicolon in the regex here):</p>
<pre><code>$UNSAFE_PATT          = qr([`~#\$\&amp;()|&lt;&gt;]);</code></pre>
<p>Similarly, you can remove other characters from that regex (to allow those characters in your config values).</p>
<p><strong>If all your admins do not have shell access</strong>, you need a more fine-grained method:</p>
<ul>
<li><p>In the rc file, add the following within the '%RC' hash (for example, just after the UMASK line would do fine):</p>
<pre><code>SAFE_CONFIG =&gt; {
    SHOWREV         =&gt;  &quot;git show -C %s; echo&quot;
},</code></pre></li>
<li><p>In your gitolite.conf file, add this instead of the line we saw earlier:</p></li>
</ul>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">    config </span><span class="Identifier">hooks.showrev </span>= %SHOWREV
</pre>

<p>This mechanism allows you to add any number of <strong>specific</strong> violations to the <code>UNSAFE_PATT</code> rule instead of denaturing the regex itself and potentially allowing something that could be (ab)used by a repo admin to obtain shell access at some later point in time.</p>
<p>A similar problem arises with email addresses, which contain the <code>&lt;</code> and <code>&gt;</code> characters. Here's how to deal with that easily:</p>
<ul>
<li><p>In the rc file:</p>
<pre><code>SAFE_CONFIG =&gt; {
    LT              =&gt;  '&lt;',
    GT              =&gt;  '&gt;',
},</code></pre></li>
<li><p>In the gitolite.conf file:</p></li>
</ul>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">    config </span><span class="Identifier">hooks.mailinglist </span>= <span class="Constant">&quot;Sitaram Chamarty %LTsitaramc@gmail.com%GT&quot;</span>
</pre>

<p>Admittedly, that looks a wee bit ugly, but it gets the job done without having to remove angle brackets from UNSAFE_PATT.</p>
<h2 id="options"><span class="header-section-number">3.2</span> gitolite options</h2>
<p>Some gitolite features are enabled, or gitolite's behaviour changed, by setting &quot;options&quot;.</p>
<p>A line like 'option foo = 1' is really just syntactic sugar for 'config gitolite-options.foo = 1', so everything in the <a href="#git-config">git-config</a> page also applies here (especially the bit about <a href="#override_conf">overriding config values</a>).</p>
<p><strong>However</strong>, these values are <strong>not</strong> written into git's own <code>config</code> file, so git (or other programs running <code>git config</code>) will not see them. You can only query them using <code>gitolite git-config</code>, where they will appear in full in the output.</p>
<p>Options are set by repo. The syntax is very simple:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
option  foo.bar     =   baz
</pre>

<p>Of course this is useless if some other part of gitolite, or some external command, is not querying for the option key 'foo.bar'!</p>
<p>Options are therefore documented in the section/page they belong in, not here. Here are some examples, although this list is not exhaustive:</p>
<ul>
<li><p>Ask gitolite to honor <a href="#deny-rules">deny rules</a> during the pre-git check also.</p></li>
<li><p><a href="#mirroring">Mirroring</a> related options -- tell gitolite who is the master server, and who are the slaves, for each repo.</p></li>
<li><p>The optional post-compile trigger 'update-gitweb-daemon-from-options' allows you to use options instead of special usernames gitweb and daemon to determine access for those tools.</p></li>
<li><p>You can set <a href="#rsev">repo-specific environment variables</a> for triggers and hooks to test, which is very useful.</p></li>
</ul>
<p>Here's how to disable an option from a single repo if it was enabled earlier in a group (which you might guess from reading the <a href="#git-config">git-config</a> page):</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@g</span> = r1 r2 r3

<span class="Type">repo </span><span class="Identifier">@g</span>
    option gitweb = 1

<span class="Comment"># but repo r2 should not be accessible by gitweb</span>
<span class="Type">repo </span>r2
    option gitweb = <span class="Constant">&quot;&quot;</span>
</pre>

<h2 id="wild"><span class="header-section-number">3.3</span> &quot;wild&quot; repos (user created repos)</h2>
<p>The wildrepos feature allows you to specify access control rules using regular expression patterns, so you can have many actual repos being served by a single set of rules in the config file. The <a href="#regex">regex</a> can also include the word <code>CREATOR</code> in it, allowing you to parametrise the name of the user creating the repo.</p>
<h3 id="quick-introexample"><span class="header-section-number">3.3.1</span> quick intro/example</h3>
<p>If you're curious about the feature but you aren't sure if you want to read the whole page, here's a very simple example.</p>
<table><tr><td>

<div class="figure">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABuCAIAAADtf8s6AAAAA3NCSVQICAjb4U/gAAAVmElEQVR4nO2dd1yURxrHn3d7X8qy9A7SBAEBsaDYyxk1irGAitGLLZaoFxONymlMvERzl1zUaDQSe84k5sQaIzbsoAQFBGlK79vZ/t4fgFnKrpSFXXLz/ewfu7Pv+8zzvu+8M/O+85tnABAIBAKBQCAQCETfhGTNWf5daKl0hLI+IinByoliaocQfRJCy58M5vLvfWbXl0z0SOEPzLsf7rF/OZNhGs96BYxIt3YPm7r+SLqo9sZyvy7fRUSrsCWH7hZLtDgur3h0Ys1QG1KX7JCsBy3/7u4LoQrHFZXpJ9dG8clddcmcwJxjfG8ctXVvPhiyh92JS57DLU3qVE9iM/ZAlqA65+aJb0/nFnejYLHDPkrJT9k+0Z3LsPCYtONeZda/R1p1wY5l1K60gisfjnbl0NiuE3fcr8reM8q6iz6ZEQRqzJGg3SNpQUv8suqjMpN8zpz2/vzHgDWBBJfZQTkpTgFUAADd7wAEz5leyYVRGjxaWj7w+2Vsi6YqkOA+zeNC9lCZZoTkZcieeUwWBgAAGHXGT+G3/mY5bmNggTQaxwf/OIOKGbJjFDCX2RdyUlYFUFt9fwXFb/mN/NcXrNfaAQAAZujGBwW/LvAgdtMOK3xrWuGv8w3YMWd0rx+XHsGV3yPxdsZrtw9J/bCU41ErTC3CeVz9F9nG4qMtls/WpnKpNz1nVFotcn3LmwAANH/7A3v40j1PvCxvD1ghHPixz9qBRAAAXF2SpfVc6bHFsy7W+xaN+eDt80pcvx098CckFuEtEfy20NM8rgDLZ/R4XmlyRqWmG0aITIfI2FVvsdNO3S3tjh3TodsVYJLtNCp6uIXqdOGZbKVfgSyjVC6JxDQGjkytFQF5yFjLyNya2/dK3ggrAQAAzGUoz7usfMZhUZkU4Hzp7oW8deMYu1PFUsCltVo6QfHPrWV3y3AAUBiyo4+qS/FuWHy3jrtnwJi+8/ccW6H4Zua+dGlXjRA9F15O+240V5S2Z9FbJ58rjOlg76FTLxApRJIaZzlitc9VciLZPxB7VoA78vCSWv0lq164+a3cX1j8vSmDhRVhP2yycqEBAIFtS7INc0+VRON4NK4Z/J83GXxPcuNDAK4FQYEwuxrvgJ2+Bclm2IYfL2zi7J85a/dDIf76HfSgyT88xprB95912umTpH0xzn2z+65TsDRKjYZM0MoIdr40n/EOqwcRRM4WE1jSR2U4rgWMiJEIAEBgWhN1DhUXZdfsmJ/ezzrFY3oFYZH3rklUDLSicnXZ3fwBjOsY1vTxWFRX3byPVq1Va1v50a4dfXS2KWz0n0oiAACZac3q6qUyYIdkO+bjX47NeL5u3JwvH9a/pvV6vT+ahursSwf/fRUbMjWwK08Bpke3JyNRlpEpDddqNauDUzaRzl4jb/uG/3J/RYYE5AIFOFlEepG43tZLFrOsmm9HeoDj2Xv+y8LINAIuqpCXi3GNBgDwl7ercx3t/zaXxaMT7SMcEh8E/2O4oaupx44+qi7Fu2EtsRhzOF//LnJBOThFR3pxud6TlywOtcL1F1qD6LND9Zq3d/+0nPXT150pknfdDtlj3pn856eWhtvSSVSbkGkLxlqUpb0Udc1Xc4Iy4Zvgk3G0tkUA47BWnh4kxaOlef13bQ96ctM5iA4AACTykDX+jyuH43i0un7QpZ0896YmjODyF/dzz4ap8GhldfjpDyztmx64CAGrQvKT7fu1ykOvHeOAcYJXns6V4rg078yu7Ref3Fzf6L/FsM+fqltWfRU/T3PorB2yz9LrwhZWNNn/MvSWRp8/GMNr+s7zWdUKHMfV9bm/7nqrH7OL94B5wRzgfOlJUMIkuiWd6BjG33nc520/Yz73I/5vIThNcEt6NkylHV6V0f/vU+l/jhsGgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQPxf4R4B178C/DjgR+B4aHetuQ6GJ1sgrO/NUGyilf8UR7hxCPDjgB+HqyOha1FH9OE9EgTHAT8O+CFY7tjRvQbFwNFwo/rRI7Dgm8/h6mSwIQOZAsxuzphnwM7t8H0YNJohMiKWTb1bvFGLb65Jn/5uBJ0IAFT+qpSNOJ6A4wk4vkWQH793oR2X0Co9AccTcGH8Ep9mfzD2G98uKy1e8H5w41Qjxpj9q1psjCfg+JpD45gAABTOhIQ5WbWbcc3GwusT5/pSMAP5GvAfGgvWF/BX++6dFoOQ7SH5iw4VLLtA+GERLJsDRybCx8tgfk961V3IdpD8Bazs8O1iGK8R8HQjBDbOOiO6zJpRWLX40zesLNjccdversh7c7oTAaj8VSnv3VlnSwcg0JghC6flVf/1o4EU3fS2EJz8Ei9PfW/7nAubHJi6f7SzF8lvWVxZSezaoSyWFX/edytrHo8ZZgF689XrPwCYWcECIgyIhKt7QfwprPABWps5Ny3vE4zhcnpWvGhi/+n9hj6aswCPj3sYYsMBACD7uYdfmDZLvGCBbNbkw748KwwAiP5+E8Xxc++Eh/8wba5qQWx2tH84BQMAwCgD+w25GROrjo+Xz56WFOribrD+IcOKLaDcDSNt4avPmprCHV4AAHQ+/GMD1B8BPBHSlkEku2kPfelNx8GB1ePh9nnIVAIAkLij33ZT/3L9i6Q6gVj4667LX2ZRB7i0iO+ilUsfn3+aImL2dzAccobgPCzA9UXWzz8UaEf4BLANbkvnTZ5vV3n4xre3JZK6qpOfpKTy/eIGtog31n6+rfw3gKUHHNkB8uOgPQTXYsHN8CRvGmz5uKkxbfxkz4cuBqnSwItaEJdBqhhKqkDeJqJAy4KFq2RPZBq2Tf9d3tp/XT5FP3IyOqNWDMCzD/0xKiBY9PuI/5wem6l8IyL6n85MEuBqDa4FyiAXys/Xzo7PEDi5DdzrZ80CzMll0E9DvGxLU3xOnIp+Kh8aFHXU34rZOu8/UMGebUB9H25WwjvrAYsFbD5sygOgwNJ3IEYCY1aB1Qa4aAuJM8EG05/ejF8kjBLAP7OgcSY/hxPqhr28X1ff+K+o9NMpp7beaWhxHuisQTGhIyjVybkGpzKTuCNi2Hlnyl/mFyVrXd8MNNiB43LDnbT5qUIxAACoq2se11L8fJi6Jbf9fFv5rxcyxMRA0DPwXQR2nwFlGGzoZ3B7OWz7CLBYwGKB/wncLodDt0BgOAt9YDA4DB6dhtUPYUIAtL0ZW7XsGlWNWgsE9a2M9KN1CrlWI9VocaCFuDv5E8TnnxU9apDdKXiWrGBN8OY7NF1JzeO8Z+eEktuFBekqop8j341Ij/BwcMVFSQXl+Up5WnFhhooc6uLg3enuJoUH0/hw+AKkCaC+Eg5cApov+DP0pjcdkgWsGw1XzkOOqimFROLQQC7WqNvJgz541zIZnqCRrTv3tvrr+WcTc9S66Y09obpLQW4EAACKh/tMh7ozj6R4Q93VZO2wGbaG5jtTyCySVqJoLh1qtVgONA6JZCjf9vzXiwq+/QyCj0KRHKpewG914MJ63S4AAMB0gv0LIf0EfFkIXYxegsPFk7AtBzKuwLIUaFuxtrnYWhxAJUkRKnQyJFowKADUxeNmL25OUjA4fBKIAAA0AplSDqBVycVaoJBpLBKZTyWBVlqj0gKASq2QaIFKobM7PaeaSgc2QIms6adMCkoysMl60xsJGgaRFTAl549TplLVy8DFgkQGaHOtGu6uPzR6L/5OUuzC9MeJN8RK3fTdlS2qNSB5jg0aPthtckVI4288tyb4kxfXatt3H1cqRWoil9HcCyCRuXRoEKjUQNCfb3v+6wWDwCj4cgqE84FFBAC4+KraZsK/EmC1AwBAbToEfw6vIkORLeEfywAuwYZHbU+H0Wj3YuMamVb3qDT1MiWAaM+lk1hiYuOHlvR7apNXRA6dTAOgkGkcAihVcolaVSlXA4FkQyYAAIVEZRGgQSkTdDqCmEIGQgDn5qqIyQayEoRKvekAQLKGDcMh6Tzk61RPIuGD51q3YTxe42kncWMOxn0Xa/VHJ6uh+vstv6vnjF4e1jawng5064kxtAtv7iZgCRiWgHEPflLnPHug/iZeKHxYTPCKtOACAADZxjrEUpHxTPpHGWqbb7v+64PqAF/NgoqL4L8UyO/Azpc6/0lhzd+aWj2eTqnC6LD6HQh9CkuTocsRvDpCh2oReXphcaaWM9XXdQCV7OEa+WTurKuB1s0dV2KIZ78xbGakq8cAsia7rKpI03C/oLQI407xdOxHoUe6eYaQlXcLSvM6XbCUNfBTOcRPghAOWNrC0gkgeQpZDXrTASB8FAQVw778FnY0ouRvcuWTRm2eZWPNYUcuG//5eEh7LNYJaYYL7j/Yep6+fGdokP5YvgzffjMdhEnp0qabTlT76z1s6GwHW31hCBpqzyWWWcWNWBLFZlnazNwwNKj4ydE03UqwTb7t+q8PEhlYAIUVUKOF4VEwlgdcSzAUFIEMsxdAvAjifoSq13TfdKDDpzuhfA106nm0Y81TTfnjmbcys63CUufE5gx1KHv+YMWzWnHTn+qcGvLK8dOvB1u8LEpdkV0rAbys+EHMneeVjkOy58761Y90Oe3aghxBg8Es2kUFhw7BTxy4sRfqdsKIlzD/J6jF9aZTbGFDBJw8By9alWFtxaUrMauLfHcsrhS+d2EJ7I375UBWy2ZAI7my8+YdryE7YnlUgFZ9LBx//9wM64Cp/g7Fuallry5JQ/bFMmJUYKS9vmupzkk8u+Br1YL/vieuWbzdPXflvDsPxS030c1Xr/96kJbC7jRY+iHIvoYlAB9dAv9YOBYB+twh8+CvYRAwDPITm54KpX+HAWYYcJ3Qr98EYfzcq94c474GRrSHeb3Heh0oSBGiR0AFq0/BhQO7enCsULkLRnKNaheBQCAQCETvQHN23Hh6SrksHlfNzU4KmexqHstJdBe02JNpYfM23YnD6yd+NIJpPzTwWl28OCUotGPDW2YNWuzJtFiPiszF44tPuDhgABh94v7JuTcj53j1mUoLLfbUcXrzdQPR1t/SHjSl6RIBDoA3XFxyrt/weyc7P9SjD7NevKmz9PHFnnrzlTlG4xJJoFVI29WvGAGzXbyps/wJFnvqzRpLK6vXqIBA5xD/3D3JbvLnWOypVwtW5dPaEi3ReSDHigAAxKD3xhcUjtsx3GjTaHq6KUSLPXWcXh3SqU99fuCa0m58wJLRTJ6/+4Y19i5y4Y1nRqukO714U2dBiz2ZLWRb2zVHJ5dI43FNbN6V8Fk+5L60pgpa7AmBQCAQCAQCgUAgEAhzgxEceF8Wj+ONn3lVWWN3z+Gy+Y6HC+PrLnu6v3qnZm2/73m84Kp35+dO9zh9L2rN/wONBUt809ePirHcXb7ImIfLJm8earPuTpw8LTi8WT+DuXpcqInP2+/Aa/zNttn2OO7lMSdbkzneTB+MWmMqTFW+cUlh5fnbUqCzBvI1uS+VFB7bunmqKN2KxWOqKjJlYoMmep8+F7XGhJiqYGEsT7vp0SwQCq4/l5VnNii5DAdXuy8y51ed9QiwZVmTlUV5is6O9fT0WGGfi1pjQkzQi2FFRWbJIwFA/eLF+2/e3/dUbuMrFdJYwUNdh3sTbCxdhw8gWygbMsvVbrFjHx1zbBrSCB5TEQugrNsWdXHrg/aDWfS0bOa1UWt2AQBek/Zk5/yLiTlqoOqmAwDUX/45dFJGkbYpas2+R1K8QXE1Wfv1DFvLOy/q9WTbGLWmqp2oNZr28zUHTFCwJLfuRcZJ1lwbs5iqfZEvVwCISoWVGv6wvzjZCQVldJvZozUUUX1Olaro8RWr4wBsm203x8dnXg+PK6nsfXd16FtRa0yLaZpCbWXF3oPVMkeX99+25gBIKwRlDbSQ0UzhuZxvn5DCRrKJFYKyzvewerop7ENRa0yOqfpY6qensi9XEAcu6T/FnaARSHNqADD5o/+WXUwWK0jQUC6okHTaaE/LZvpQ1BqTY7K3HqrC0q9OCTV2zh+ssLGUyDLLVVBXf/mJOO9WTTHgVTlS4augLuLqLSHHXEzdDgL0mag1xj1oBAKBQCAQCAQCgUAgzJrOymZM6WtbmOMPr8xN9OLrJoVEPShcsCjArmOymU33P7BjGJDH6JPZ6JfHkG1d1514p1S6Fce3il4sOrjEwbJvBhToHp2VzZjU2TaQg9Ytyr8a6qUzCsYbOyUr840xDgblK1T+qpT37n9g1/rNZVt5jD6ZjV55DHPs/ndLr0aNcqaQqfSA2Mm/P49bEWAe08zNWjZjIt/0oKrKFaosLW0YJP93F9bkTxnLw9h2XFJdVbnOGEFPy1da2CdRnb1I5dfzHxQrVYqGzOPnBngf25PZc6tNdAazls101mgPjxVKyquFNCsbFsM3jFKHW4S5MHkeVMWLuhodR3tavtLCvlr84L81TmunHdoaPCaQzTAr7ag5y2Y6fev1sGxGWlFdjnu4utu42gh+SiYG+llkeJCEmRIJgPHkK+3JbPTbf/r1f4blhKxaHnFo3RRbSdnxjy9tOFBSYw7CGROUcsmte/1dfztYACSSrmyGoSObYVNEspwqczg/uuAicbaI5B/k5Kl+ee03qVWUnb89VOVIpQAADXfX72Mw9q65Kiq93h35SsPd9fsYjaoHLMFqQkaRVie9rX2tMu/y/VVTD7hafRa6tiz04xm7J3V+MayeAMlmOoFUklVPCBzoRM4rz8golXi5RrAV2WU6DWFPy1cM2FfLs35++O0Tgn8gq12JfW+DZDOdQCN/+Ry8x3IFd+sqy6ty6S5RvIasCt26qaflKy3sEx19Dqa/e2atmyuHSKTQvMcFxfqo0x+JzeKhpy/IZswHZXmmgmatSH0mw0X1D0oIlmpBcavQaLrylcb3T/LlXw7lRny6VNr0HsswbWU2HH32SaV5W9Y9bpj95pO6zWrF+w+/csnc+vMHVyRdj9WGQCAQCAQCgUAgEAhE36N92UzfibpqnKgyuttvri9cfPxDb3cG1sY+ks10nPZlM2HmofPoAMaKKtO8PZNG9xwRcSRrw7MDPg4kJJsxBjqymV5eMsE4GCWqjFbekH/jweqlj1WTIqd0bK0qJJt5DbqyGaMtINCLizQZMapMfU5husIiyqNDQ3xINqOfNrIZo43l9cYiTT0QVUalqlcR3OmElvZ17OjL15xlM2YRbaYvYYyoMq2G1ykUG4qmVqrRb0d/vo2ymcv3V5Fo/jGjju+dsbvku4VnxaYfZzUL2Yyx6LWm0JhRZTDrAM8B5LqbeR1QnCLZzGtpIZsxltEeX6TpFcaJKoMRKY6DQj//KhBPun+hsCNuItnMa9GVzZjKh+7Qnagydljj9lL1xvykQbxfkqauz6toKldINoNAIBAIBAKBQCB6lf8B31TbUi9/8lEAAAAASUVORK5CYII=" title="Figure 1" />
</div>
</td><td>

<p>This is what the admin added to the conf file.</p>
<p>User 'u1' then runs <code>git clone git@host:foo/u1/bar</code>, creating the repo. Notice the repo name matches the regex, if you substitute the user's name for the word CREATOR.</p>
</td></tr><tr>

<td>

<div class="figure">
<img src="data:image/png;base64,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" title="Figure 2" />
</div>
</td><td>

<p>This is the effective rule list for 'foo/u1/bar' immediately after the user creates it. The parts that are not dimmed out can be changed by the creator (user 'u1') using the <a href="#perms">perms</a> command to add 'u2' as a writer and 'u3' and 'u5' as readers:</p>
</td></tr><tr>

<td>

<div class="figure">
<img src="data:image/png;base64,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" title="Figure 3" />
</div>
</td><td>

<p>This is the effective rule list that applies to the repo.</p>
<p>Note that both these &quot;effective rule lists&quot; were created without touching the actual conf file or any admin intervention.</p>
</td></tr></table>

<p>And that's it for our quick intro example. The rest of this page will explain all this in much more detail.</p>
<h3 id="declaring-wild-repos-in-the-conf-file"><span class="header-section-number">3.3.2</span> declaring wild repos in the conf file</h3>
<table><tr><td>

<p>Here's a slightly more detailed example, starting with what the admin puts in the conf file.</p>
<p>Note the &quot;C&quot; permission. This is a standalone &quot;C&quot;, which gives the named users the right to <em>create a repo</em>. <span class="gray">This is not to be confused with the &quot;RWC&quot; permission or its variants described <a href="#write-types">elsewhere</a>, which are about creating <em>branches</em>, not <em>repos</em>.</span></p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">

<span class="Identifier">@prof</span>       =   u1
<span class="Identifier">@TAs</span>        =   u2 u3
<span class="Identifier">@students</span>   =   u4 u5 u6

<span class="Type">repo </span>   <span class="Special">assignments/</span><span class="PreProc">CREATOR</span><span class="Special">/a[0-9][0-9]</span>
<span class="Statement">    C</span><span class="Constant">   </span>=   <span class="Identifier">@students</span>
<span class="Statement">    RW+</span><span class="Constant"> </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">    RW</span><span class="Constant">  </span>=   <span class="PreProc">WRITERS</span> <span class="Identifier">@TAs</span>
<span class="Statement">    R</span><span class="Constant">   </span>=   <span class="PreProc">READERS</span> <span class="Identifier">@prof</span>
</pre>

</td></tr></table>

<h3 id="create"><span class="header-section-number">3.3.3</span> (<strong>user</strong>) creating a specific repo</h3>
<p>For now, ignore the special usernames READERS and WRITERS, and just create a new repo, as user &quot;u4&quot; (a student):</p>
<pre><code>$ git clone git@server:assignments/u4/a12
Initialized empty Git repository in /home/git/repositories/assignments/u4/a12.git/
warning: You appear to have cloned an empty repository.</code></pre>
<h3 id="a-slightly-different-example"><span class="header-section-number">3.3.4</span> a slightly different example</h3>
<table><tr><td>

<p>Here's how the same example would look if you did not want the CREATOR's name to be part of the actual repo name.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>   <span class="Special">assignments/a[0-9][0-9]</span>
<span class="Statement">    C</span><span class="Constant">   </span>=   <span class="Identifier">@students</span>
<span class="Statement">    RW+</span><span class="Constant"> </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">    RW</span><span class="Constant">  </span>=   <span class="PreProc">WRITERS</span> <span class="Identifier">@TAs</span>
<span class="Statement">    R</span><span class="Constant">   </span>=   <span class="PreProc">READERS</span> <span class="Identifier">@prof</span>
</pre>

</td></tr></table>

<p>We haven't changed anything except the repo name regex. This means that the first student that creates, say, <code>assignments/a12</code> becomes the owner. Mistakes (such as claiming a12 instead of a13) need to be rectified by an admin logging on to the back end, though it's not too difficult.</p>
<p>You could also repace the C line like this:</p>
<pre><code>    C   =   @TAs</code></pre>
<p>and have a TA create the repos in advance.</p>
<h3 id="repo-regex-patterns"><span class="header-section-number">3.3.5</span> repo regex patterns</h3>
<h4 id="regex-pattern-versus-normal-repo"><span class="header-section-number">3.3.5.1</span> regex pattern versus normal repo</h4>
<p>Due to projects like <code>gtk+</code>, the <code>+</code> character is now considered a valid character for an <em>ordinary</em> repo. Therefore, a regex like <code>foo/.+</code> does not look like a <a href="#regex">regex</a> to gitolite. Use <code>foo/..*</code> if you want that.</p>
<p>Also, <code>..*</code> by itself is not considered a valid repo regex. Try <code>[a-zA-Z0-9].*</code>. <code>CREATOR/..*</code> will also work.</p>
<h4 id="line-anchored-regexes"><span class="header-section-number">3.3.5.2</span> line-anchored regexes</h4>
<p>A regex like</p>
<pre><code>repo assignments/S[0-9]+/A[0-9]+</code></pre>
<p>would match <code>assignments/S02/A37</code>. It will not match <code>assignments/S02/ABC</code>, or <code>assignments/S02/a37</code>, obviously.</p>
<p>But you may be surprised to find that it does not match even <code>assignments/S02/A37/B99</code>. This is because internally, gitolite <em>line-anchors</em> the given regex; so that regex actually becomes <code>^assignments/S[0-9]+/A[0-9]+$</code> -- notice the line beginning and ending metacharacters.</p>
<blockquote>
<hr />
</blockquote>
<blockquote>
<p><em>Side-note: contrast with refexes</em></p>
</blockquote>
<blockquote>
<p>Just for interest, note that this is in contrast to the <a href="#refex">refexes</a> for the normal &quot;branch&quot; permissions. Refexes are only anchored at the start; a regex like <code>refs/heads/master</code> actually can match <code>refs/heads/master01/bar</code> as well, even if no one will actually push such a branch! You can anchor both sides if you really care, by using <code>master$</code> instead of <code>master</code>, but that is <em>not</em> the default for refexes.</p>
</blockquote>
<blockquote>
<hr />
</blockquote>
<h3 id="roles"><span class="header-section-number">3.3.6</span> roles</h3>
<p>The words READERS and WRITERS are called &quot;role&quot; names. The access rules in the conf file decide what permissions these roles have, but they don't say what users are in each of these roles.</p>
<p>That needs to be done by the creator of the repo, using the <code>perms</code> command. You can run <code>ssh git@host perms -h</code> for detailed help, but in brief, that command lets you give and take away roles to users. <a href="#perms">This</a> has some more detail.</p>
<h4 id="adding-other-roles"><span class="header-section-number">3.3.6.1</span> adding other roles</h4>
<table><tr><td>

<p>If you want to have more than just the 2 default roles, say something like:</p>
<p>You can add the new names to the ROLES hash in the <a href="#rc">rc file</a>; see comments in that file for how to do that. Be sure to run the 2 commands mentioned there after you have added the roles.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="Special">foo/..*</span>
<span class="Statement">  C</span><span class="Constant">                 </span>=   u1
<span class="Statement">  RW</span><span class="Constant">    refs/tags/  </span>=   TESTERS
<span class="Statement">  -</span><span class="Constant">     refs/tags/  </span>=<span class="WarningMsg">   @all</span>
<span class="Statement">  RW+</span><span class="Constant">               </span>=   <span class="PreProc">WRITERS</span>
<span class="Statement">  RW</span><span class="Constant">                </span>=   INTERNS
<span class="Statement">  R</span><span class="Constant">                 </span>=   <span class="PreProc">READERS</span>
<span class="Statement">  RW+D</span><span class="Constant">              </span>=   MANAGERS
</pre>

</td></tr></table>

<h5 id="rolenamewarn"><span class="header-section-number">3.3.6.1.1</span> <font color="red"><strong>IMPORTANT WARNING ABOUT THIS FEATURE</strong></font></h5>
<p>Please make sure that none of the role names conflict with any of the user names or group names in the system. For example, if you have a user called &quot;foo&quot; or a group called &quot;<span class="citation">@foo</span>&quot;, make sure you do not include &quot;foo&quot; as a valid role in the ROLES hash.</p>
<p>You can keep things sane by using UPPERCASE names for roles, while keeping all your user and group names lowercase; then you don't have to worry about this problem.</p>
<h4 id="setting-default-roles"><span class="header-section-number">3.3.6.2</span> setting default roles</h4>
<p>You can setup some default role assignments as soon as a new wild repo is created.</p>
<p>Here's how:</p>
<ul>
<li><p>Enable the 'set-default-roles' feature in the rc file by uncommenting it if it is already present or adding it to the ENABLE list if it is not.</p></li>
<li><p>Supply a set of default role assignments for a wild repo regex by adding lines like this to the repo config para:</p>
<pre><code>option default.roles-1  =   READERS @all
option default.roles-2  =   WRITERS @senior-devs</code></pre></li>
</ul>
<p>This will then behave as if the <a href="#perms">perms</a> command was used immediately after the repo was created to add those two role assignments.</p>
<p>If you want to simulate the old (pre v3.5) <code>DEFAULT_ROLE_PERMS</code> rc file variable, just add them under a <code>repo @all</code> line. (Remember that this only affects newly created wild repos, despite the '<span class="citation">@all</span>' name).</p>
<h4 id="specifying-owners"><span class="header-section-number">3.3.6.3</span> specifying owners</h4>
<p>See the section on <code>OWNER_ROLENAME</code> in the <a href="#rc">rc file page</a>.</p>
<h3 id="listing-wild-repos"><span class="header-section-number">3.3.7</span> listing wild repos</h3>
<p>In order to see what repositories were created from a wildcard, use the 'info' command. Try <code>ssh git@host info -h</code> to get help on the info command.</p>
<h3 id="deleting-a-wild-repo"><span class="header-section-number">3.3.8</span> deleting a wild repo</h3>
<p>Run the whimsically named &quot;D&quot; command -- try <code>ssh git@host D -h</code> for more info on how to delete a wild repo. (Yes the command is &quot;D&quot;; it's meant to be a counterpart to the &quot;C&quot; permission that allowed you to create the repo in the first place). Of course this only works if your admin has enabled the command (gitolite ships with the command disabled for remote use).</p>
<h3 id="appendix-1-owner-and-creator"><span class="header-section-number">3.3.9</span> appendix 1: owner and creator</h3>
<p>A wild repo is created by one specific user. This user is usually called the <strong>creator</strong> of the repo: his username is placed in a file called gl-creator in the (bare) repo directory, any permissions given in the gitolite.conf file to &quot;CREATOR&quot; will be applicable to this user, he is the only person who can give permissions to other users (by running the 'perms' command), etc.</p>
<p>But, as I said in <a href="https://groups.google.com/d/msg/gitolite/nFbnQuO0ztM/tXiVs5ah2bcJ">this mail</a>:</p>
<pre><code>Until about a year ago, Gitolite only knew the concept of a &quot;creator&quot;, and
there was only one.

But then people started seeing the need for more than one &quot;owner&quot;, because
wild repos may be *created* by one person, but they often needed to be
*administered* by one of several people.

So now, even though large parts of the documentation probably conflate
&quot;creator&quot; and &quot;owner&quot;, you can see wild.html ([wild]) and rc.html ([rc])
to actually understand how this larger group become the &quot;owner&quot;.</code></pre>
<h2 id="vref"><span class="header-section-number">3.4</span> virtual refs</h2>
<p><strong>IMPORTANT</strong>: fallthru is success in VREFs, unlike the normal refs. That won't make sense until you read further, but I had to put it up here for folks who stop reading halfway!</p>
<hr />
<p>VREFs are a mechanism to add additional constraints to a push.</p>
<h3 id="quick-introexample-1"><span class="header-section-number">3.4.1</span> quick intro/example</h3>
<table><tr><td>

<p>Here's an example to start you off.</p>
<p>To disallow junior developers from changing more than five files, or from touching the Makefile, you can do this:</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    RW+</span><span class="Constant">                     </span>=   <span class="Identifier">@all-devs</span>

<span class="Statement">    -</span><span class="Constant">   VREF/COUNT/5        </span>=<span class="WarningMsg">   @junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/NAME/Makefile  </span>=<span class="WarningMsg">   @junior-devs</span>
</pre>

</td></tr></table>

<table><tr><td>

<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</td><td>

<p>Here's a pictorial representation of what happens, at a very high level, based on the <code>VREF/COUNT/5</code> rule in the rule list above.</p>
<ol style="list-style-type: decimal">
<li><p>To start with, git-receive-pack calls the update hook with what we will call a &quot;real&quot; ref, something like &quot;refs/heads/master&quot;, or &quot;refs/tags/v1.0&quot; -- in general, something that starts with &quot;refs/&quot;.</p>
<p>This ref is sent through &quot;<a href="#c1c2">check #2</a>&quot; (please click to refresh your memory if needed).</p>
<p>Any rules that specify a <a href="#refex">refex</a> starting with &quot;VREF/&quot; clearly won't match and are ignored in this check.</p></li>
<li><p>Assuming that check did not fail, the gitolite code in the update hook then starts looking at each &quot;VREF&quot; rule in the rule list that applies to that repo accessed by that user. For each one, it runs the actual VREF program whose name is given in the word after &quot;VREF/&quot;. (The rest of the words, if any, along with all sorts of other information, are supplied as <a href="#vref-args">arguments</a>).</p></li>
<li><p>The STDOUT of the called program is captured and any line that starts with the characters &quot;VREF/&quot; is taken as a &quot;<strong>virtual</strong>&quot; ref, and is run through the same &quot;<a href="#c1c2">check #2</a>&quot;. <span class="red"><strong>The only difference is that, unlike for a regular ref, fallthru does not result in failure, but success.</strong></span></p></li>
</ol>
</td></tr></table>

<h3 id="basic-use-and-understanding"><span class="header-section-number">3.4.2</span> basic use and understanding</h3>
<p>Normally, rules deal with branches and tags (which git collectively calls &quot;refs&quot;). The &quot;ref&quot; is a property of the push which gitolite checks against the set of rules.</p>
<p>&quot;Virtual refs&quot; are other properties of a push that gitolite can be told to check, in addition to the normal ref. For example, &quot;this push has more than 5 changed files&quot; could be one property. Or &quot;this push changed the file called Makefile&quot; could be another. These properties are represented as &quot;virtual refs&quot; that start with &quot;VREF/&quot;. (Recall that &quot;normal&quot; refs start with &quot;refs/&quot;).</p>
<p>The simplest way to use them is as <em>additional</em> &quot;deny&quot; rules to fail a push that might otherwise have passed. This is what the example at the top shows.</p>
<p>It helps to separate VREF rules from normal rules, since no access rule can match both a normal ref and a virtual ref. Here's a good way to structure your rules:</p>
<ul>
<li><p>Put your normal ref rules first. These apply to the branch name or tag name that git itself knows about and sends to gitolite's update hook.</p>
<p>Fallthru is failure here, which means the ref being pushed <strong>must</strong> match some rule in this set for the push to succeed.</p></li>
<li><p>Put your VREF rules next. These apply to the virtual refs you want to use as additional checks for the push.</p>
<p>Fallthru is success here, which means the (virtual) ref must be <strong>explicitly denied</strong> in order for the push to fail.</p></li>
</ul>
<h3 id="advanced-use"><span class="header-section-number">3.4.3</span> advanced use</h3>
<p>More complex uses are possible, but may be harder to understand. You may want to experiment with the rules to solidify your understanding as you read this.</p>
<h4 id="differences-from-normal-refs"><span class="header-section-number">3.4.3.1</span> differences from normal refs</h4>
<p>We know where normal refs (like &quot;refs/heads/master&quot; or &quot;refs/tags/v1.0&quot;) come from -- they are supplied by git itself when it calls the update hook.</p>
<p>Virtual refs have two differences with normal refs:</p>
<ul>
<li>Gitolite has to generate them somehow.</li>
<li>Fallthru is success, not failure.</li>
</ul>
<p>Here's some more detail on how it works.</p>
<ul>
<li><p>First, the normal (&quot;real&quot;) ref is checked.</p>
<p>As you already know, the push dies if the ref hits a deny rule <strong>or</strong> it falls through without hitting an allow rule.</p></li>
<li><p>Next, virtual refs are generated and checked one by one.</p>
<p>We'll talk about the generaton later, but for the check, a virtual ref kills the push <em>only</em> if it meets an explicit deny rule (&quot;-&quot;); fallthru does <em>not</em> cause failure. Other than that, the checking is done the same way as for a normal ref, viz., as described in the flow for <a href="#c1c2">check #2</a>.</p></li>
</ul>
<h4 id="generating-virtual-refs"><span class="header-section-number">3.4.3.2</span> generating virtual refs</h4>
<p>Gitolite uses the VREF rules themselves to help it generate the virtual refs.</p>
<p>Specifically, it looks at each rule that contains a VREF (there are 2 in the above example) and calls a VREF-maker for each of them.</p>
<p>We'll take the COUNT example rule above.</p>
<p>When gitolite sees that rule, it calls the &quot;COUNT&quot; VREF-maker. Specifically, this is the <code>VREF/COUNT</code> program (See <a href="#non-core">here</a> for actual locations on disk).</p>
<p>Gitolite passes it the string &quot;5&quot; as an argument (actually, as the <em>eighth</em> argument; details later).</p>
<p>The program (which can be written in any language) is expected to do one of two things:</p>
<ul>
<li><p>If the condition is satisfied (i.e., there <em>are</em> more than 5 files in this push), it should print <code>VREF/COUNT/5</code> to STDOUT.</p>
<p>You can see that when this virtual ref is processed through the rules, it will encounter the &quot;deny&quot; rule, and thus kill the push.</p></li>
<li><p>Otherwise it should print nothing. That is, there is no virtual ref to run through &quot;<a href="#c1c2">check #2</a>&quot;, so nothing happens.</p></li>
</ul>
<p>It should exit with an exit code of zero in either case.</p>
<p>If it exits with a non-zero, the push dies regardless of what is printed (see &quot;mimicking a plain old update hook&quot; for why this is useful).</p>
<h3 id="more-details-and-nuances"><span class="header-section-number">3.4.4</span> more details and nuances</h3>
<h4 id="mimicking-a-plain-old-update-hook"><span class="header-section-number">3.4.4.1</span> mimicking a plain old update hook</h4>
<p>If the VREF maker exists with a non-zero exit code, then regardless of what it prints or does not, the push dies.</p>
<p>This is just like a plain 'update' hook. Since the first 3 arguments (see later) are also the same that a plain 'update' hook receives, you can actually use any existing update hook as a VREF-maker.</p>
<p>To repurpose an existing update hook as a VREF-maker, just copy it to the VREF directory (again, see <a href="#non-core">here</a> for actual locations on disk). Then add this rule to your repos:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo   <span class="Comment"> # or maybe even 'repo @all'</span>
<span class="Statement">    -</span><span class="Constant">   VREF/my-update-hook     </span>=<span class="WarningMsg">   @all</span>
</pre>

<p>That's it.</p>
<h4 id="what-if-the-vref-maker-prints-a-different-virtual-ref"><span class="header-section-number">3.4.4.2</span> what if the VREF-maker prints a different virtual ref?</h4>
<p>Unless you know what you're upto, don't do that.</p>
<p>But it's allowed and the behaviour is defined. The VREF-maker for the NAME VREF is a good example. It ignores the arguments and just makes VREFs out of the name of every file that was changed in the push.</p>
<table><tr><td>

<p>Here's another example. Consider the problem of not allowing pushes at specific times. Let's say repo 'foo' cannot be pushed between 4 and 7pm, and repo 'bar' can only be pushed before 9am. And of course all this only applies to the junior developers, the poor guys!</p>
<p>In this example, we write the &quot;Hour&quot; VREF-maker to <em>ignore the argument passed</em> and just print <code>VREF/Hour/NN</code> where NN can be between 00 to 23 inclusive and of course represents the current hour.</p>
<p>If foo is pushed at 6:30pm, the VREF-maker prints VREF/Hour/18, which satisfies the third rule and is rejected.</p>
<p>If bar is pushed at, say, 7:20am, the vref printed is VREF/Hour/07, which does not match any of the rules. And fallthru is success so it passes.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">    RW+</span><span class="Constant">                         </span>=   <span class="Identifier">@all</span>

<span class="Statement">    -</span><span class="Constant">   VREF/Hour/16            </span>=<span class="WarningMsg">   @junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/Hour/17            </span>=<span class="WarningMsg">   @junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/Hour/18            </span>=<span class="WarningMsg">   @junior-devs</span>

<span class="Type">repo </span>bar
<span class="Statement">    RW+</span><span class="Constant">                         </span>=   <span class="Identifier">@all</span>

<span class="Statement">    -</span><span class="Constant">   VREF/Hour/09            </span>=<span class="WarningMsg">   @junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/Hour/1[0-9]        </span>=<span class="WarningMsg">   @junior-devs</span>
<span class="Statement">    -</span><span class="Constant">   VREF/Hour/2[0-9]        </span>=<span class="WarningMsg">   @junior-devs</span>
</pre>

</td></tr></table>

<h4 id="vref-fallthru"><span class="header-section-number">3.4.4.3</span> why is fallthru considered success with VREFs</h4>
<p>Virtual refs are <strong>best used</strong> (1) as <strong>additional</strong> &quot;deny&quot; rules, performing extra checks that core gitolite cannot. You usually want such extra checks only for some people.</p>
<p>When fallthru is success, you can simply <em>ignore</em> all the other users (for whom such additional checks are not needed).</p>
<p>If fallthru were to be considered 'failure', you'd be forced to add a &quot;success rule&quot; like this for <em>every</em> virtual ref you used in this repo, in each case listing every user who was not already mentioned in the context of that vref:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">RW+</span><span class="Constant"> VREF/VREFNAME   </span>=   <span class="Identifier">@userlist</span>  <span class="Comment"> # uggh! what a pain!</span>
</pre>

<p>Worse, since every virtual ref involves calling an external program, many of these calls may be wasted.</p>
<p><font color="gray">(1) &quot;best used as...&quot; does not mean &quot;only used as...&quot;. For example it's perfectly easy to turn this around if, instead of having a list of people who <em>do</em> need extra checks, all you have is the complementary list:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">RW+</span><span class="Constant"> VREF/NAME/Makefile      </span>=   <span class="Identifier">@senior-devs</span>
<span class="Statement">-</span><span class="Constant">   VREF/NAME/Makefile      </span>=<span class="WarningMsg">   @all</span>
</pre>

<p></font></p>
<h4 id="what-if-the-vref-maker-prints-something-thats-not-even-a-virtual-ref"><span class="header-section-number">3.4.4.4</span> what if the VREF-maker prints something that's not even a virtual ref?</h4>
<p>The VREF-maker can print anything it wants to STDOUT. Lines not starting with <code>VREF/</code> are printed as is (so your VREF-maker can do mostly-normal printing to STDOUT). This is especially useful if you've turned an existing update hook into a VREF-maker, and it prints stuff meant for the user, but you don't want to touch the code.</p>
<p>For lines starting with <code>VREF/</code>, the first word in each such line will be treated as a virtual ref, while the rest, if any, is a message to be added to the standard &quot;...DENIED...&quot; message that gitolite will print if that refex matches and the rule is a deny rule.</p>
<h4 id="in-what-order-are-vref-makers-called"><span class="header-section-number">3.4.4.5</span> in what order are VREF-makers called?</h4>
<p>VREF-makers are called in the sequence in which they appear in the conf file.</p>
<p>There are some optimisations to prevent calling the same VREF-maker with the same arguments more than once, and the VREF-maker code for the NAME VREF (which is special) is called only once regardless of how many times it appears but these details should not concern anyone but a developer.</p>
<h4 id="vref-args"><span class="header-section-number">3.4.4.6</span> what arguments are passed to the vref-maker?</h4>
<ul>
<li><p>Arguments <strong>1, 2, 3</strong>: the 'ref', 'oldsha', and 'newsha' that git passed to the update hook (see 'man githooks').</p>
<p>This, combined with the fact that non-zero exits are detected, mean that you can simply use an existing update.secondary as a VREF-maker as-is, no changes needed.</p></li>
<li><p>Arguments <strong>4 and 5</strong>: the 'oldtree' and 'newtree' SHAs. These are the same as the oldsha and newsha values, except if one of them is all-0. (indicating a ref creation or deletion). In that case the corresponding 'tree' SHA is set (by gitolite, as a courtesy) to the special SHA <code>4b825dc642cb6eb9a060e54bf8d69288fbee4904</code>, which is the hash of an empty tree.</p>
<p>(None of these shenanigans would have been needed if <code>git diff $oldsha $newsha</code> would not error out when passed an all-0 SHA.)</p></li>
<li><p>Argument <strong>6</strong>: the attempted access flag. Typically <code>W</code> or <code>+</code>, but could also be <code>C</code>, <code>D</code>, or any of these 4 followed by <code>M</code>. If you have to ask what they mean, you haven't read enough gitolite documentation to be able to make virtual refs work.</p></li>
<li><p>Argument <strong>7</strong>: is the entire refex; say <code>VREF/COUNT/3/NEWFILES</code>.</p></li>
<li><p>Arguments <strong>8 onward</strong>: are the split out (by <code>/</code>) portions of the refex, excluding the first two components. In our example they would be <code>3</code> followed by <code>NEWFILES</code>.</p></li>
</ul>
<p>Yes, argument 7 is redundant if you have 8 and 9. It's meant to make it easy to write vref-maker scripts in any language. See script examples in source.</p>
<h3 id="vref-makers-shipped-with-gitolite"><span class="header-section-number">3.4.5</span> VREF-makers shipped with gitolite</h3>
<h4 id="NAME"><span class="header-section-number">3.4.5.1</span> restricting pushes by dir/file name</h4>
<p>The &quot;NAME&quot; VREF allows you to restrict pushes by the names of dirs and files changed. (Side note: the NAME VREF is the only one directly implemented within the update hook, so you won't find it in the VREF directory).</p>
<p>Here's an example. Say you don't want junior developers pushing changes to the Makefile, because it's quite complex:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">        RW+</span><span class="Constant">                             </span>=   <span class="Identifier">@senior_devs</span>
<span class="Statement">        RW</span><span class="Constant">                              </span>=   <span class="Identifier">@junior_devs</span>

<span class="Statement">        -</span><span class="Constant">   VREF/NAME/Makefile          </span>=<span class="WarningMsg">   @junior_devs</span>
</pre>

<p>When a senior dev pushes, the VREF is not invoked at all. But when a junior dev pushes, the VREF is invoked, and it returns a list of files changed <strong>as virtual refs</strong>, looking like this:</p>
<pre><code>VREF/NAME/file-1
VREF/NAME/dir-2/file-3
...etc...</code></pre>
<p>Each of these refs is matched against the access rules. If one of them happens to be the Makefile, then the ref returned (VREF/NAME/Makefile) will match the deny rule and kill the push.</p>
<p>Another way to use this is when you know what is allowed instead of what is not allowed. Let's say the QA person is only allowed to touch a file called CHANGELOG and any files in a directory called ReleaseNotes:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
<span class="Statement">        RW+</span><span class="Constant">                             </span>=   <span class="Identifier">@senior_devs</span>
<span class="Statement">        RW</span><span class="Constant">                              </span>=   <span class="Identifier">@junior_devs</span>
<span class="Statement">        RW+</span><span class="Constant">                             </span>=   QA-guy

<span class="Statement">        RW+</span><span class="Constant"> VREF/NAME/CHANGELOG         </span>=   QA-guy
<span class="Statement">        RW+</span><span class="Constant"> VREF/NAME/ReleaseNotes/     </span>=   QA-guy
<span class="Statement">        -</span><span class="Constant">   VREF/NAME/                  </span>=<span class="WarningMsg">   QA-guy</span>
</pre>

<h4 id="COUNT"><span class="header-section-number">3.4.5.2</span> number of changed or new files</h4>
<p>The COUNT VREF is used like this:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">-</span><span class="Constant">   VREF/COUNT/9                    </span>=<span class="WarningMsg">   @junior-developers</span>
</pre>

<p>In response, if anyone in the user list pushes a commit series that changes more than 9 files, a virtual ref of &quot;VREF/COUNT/9&quot; is returned. Gitolite uses that as a &quot;ref&quot; to match against all the rules, hits the same rule that invoked it, and denies the request.</p>
<p>If the user did not push more than 9 files, the VREF code returns nothing, and nothing happens.</p>
<p>COUNT can take one more argument:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">-</span><span class="Constant">   VREF/COUNT/9/NEWFILES           </span>=<span class="WarningMsg">   @junior-developers</span>
</pre>

<p>This is the same as before, but have to be more than 9 <em>new</em> files not just changed files.</p>
<h4 id="advanced-filetype-detection"><span class="header-section-number">3.4.5.3</span> advanced filetype detection</h4>
<p>Note: this is more for illustration than use; it's rather specific to one of the projects I manage but the idea is the important thing.</p>
<p>Sometimes a file has a standard extension (that cannot be 'gitignore'd), but it is actually automatically generated. Here's one way to catch it:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement"> -</span><span class="Constant">   VREF/FILETYPE/AUTOGENERATED     </span>=<span class="WarningMsg">   @all</span>
</pre>

<p>You can look at <code>src/VREF/FILETYPE</code> to see how it handles the 'AUTOGENERATED' option. You could also have a more generic option, like perhaps BINARY, and handle that in the FILETYPE vref too.</p>
<h4 id="checking-author-email"><span class="header-section-number">3.4.5.4</span> checking author email</h4>
<p>Some people want to ensure that &quot;you can only push your own commits&quot;.</p>
<p>If you force it on everyone, this is a very silly idea (see &quot;Philosophical Notes&quot; section of <code>src/VREF/EMAIL-CHECK</code>).</p>
<p>But there may be value in enforcing it just for the junior developers.</p>
<p>The neat thing is that the existing <code>contrib/update.email-check</code> was just copied to <code>src/VREF/EMAIL-CHECK</code> and it works, because VREFs get the same first 3 arguments and those are all that it cares about. (Note: you have to change one subroutine in that script if you want to use it)</p>
<h4 id="votes"><span class="header-section-number">3.4.5.5</span> voting on commits</h4>
<p>Although gitolite can't/won't do the whole &quot;code review + workflow enforcement&quot; thing that Gerrit Code Review does, a basic implementation of voting on a commit is surprisingly easy. See src/VREF/VOTES for details (and note that the actual <em>code</em> is just 2-3 lines; the rest is inline documentation).</p>
<h3 id="other-ideas----code-welcome"><span class="header-section-number">3.4.6</span> other ideas -- code welcome!</h3>
<h4 id="no-non-merge-first-parents"><span class="header-section-number">3.4.6.1</span> &quot;no non-merge first-parents&quot;</h4>
<p>Shruggar on #gitolite wanted this. Possible code to implement it would be something like this (untested)</p>
<pre><code>[ -z &quot;$(git rev-list --first-parent --no-merges $2..$3)&quot; ]</code></pre>
<p>This can be implemented using <code>src/VREF/MERGE-CHECK</code> as a model. That script does what the 'M' qualifier does in access rules (see last part of <a href="#write-types">this</a>), although the syntax to be used in conf/gitolite will be quite different.</p>
<h4 id="other-ideas-for-vrefs"><span class="header-section-number">3.4.6.2</span> other ideas for VREFs</h4>
<p>Here are some more ideas:</p>
<ul>
<li>Number of commits (<code>git rev-list --count $old $new</code>).</li>
<li>Number of binary files in commit (currently I only know to count occurrences of <code>Bin</code> in the output of <code>git diff --stat</code>.</li>
<li>Number of <em>new</em> binary files (count <code>Bin 0 -&gt;</code> in <code>git diff --stat</code> output).</li>
<li>Time of day/day of week (see example snippet somewhere above).</li>
<li>IP address.</li>
<li>Phase of the moon.</li>
</ul>
<p>Note that pretty much anything that involves <code>$oldsha..$newsha</code> will have to deal with the issue that when you push a new tag or branch, the &quot;old&quot; part is all 0's, and unless you consider <code>--all</code> existing branches and tags it becomes meaningless in terms of &quot;number of new files&quot; etc.</p>
<h2 id="deleg"><span class="header-section-number">3.5</span> delegating access control responsibilities</h2>
<p>Delegation allows you to divide up a large conf file into smaller groups of repos (called <strong>subconf</strong>s) and hand over responsibility to manage them to <strong>sub-admin</strong>s. Gitolite can prevent one sub-admin from being able to set access rules for any other sub-admin's repos.</p>
<p>Delegation is achieved by combining two gitolite features: <a href="#subconf">subconf</a> and the <a href="#NAME">NAME VREF</a>.</p>
<h3 id="example"><span class="header-section-number">3.5.1</span> example</h3>
<p>Here's a sample conf that does delegation:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@webbrowsers</span>        = firefox lynx <span class="Special">browsers/..*</span>
<span class="Identifier">@webservers</span>         = apache nginx <span class="Special">servers/..*</span>
<span class="Identifier">@malwares</span>           = conficker storm <span class="Special">ms/..*</span>
   <span class="Comment"> # side note: if anyone objects, we claim ms stands for &quot;metasploit&quot; ;-)</span>

<span class="Comment"># the admin repo access probably had these 2 lines to start with:</span>
<span class="Type">repo </span>gitolite-admin
<span class="Statement">    RW+</span><span class="Constant">                                     </span>= sitaram
<span class="Comment"># now add these lines to the config for the admin repo</span>
<span class="Statement">    RW</span><span class="Constant">                                      </span>= alice bob mallory
<span class="Statement">    RW</span><span class="Constant">  VREF/NAME/conf/subs/webbrowsers     </span>= alice
<span class="Statement">    RW</span><span class="Constant">  VREF/NAME/conf/subs/webservers      </span>= bob
<span class="Statement">    RW</span><span class="Constant">  VREF/NAME/conf/subs/malwares        </span>= mallory
<span class="Statement">    -</span><span class="Constant">   VREF/NAME/                          </span>=<span class="WarningMsg"> alice bob mallory</span>

<span class="Comment"># pull in these files using the &quot;subconf&quot; command</span>
<span class="PreProc">subconf </span><span class="Constant">&quot;subs/*.conf&quot;</span>
</pre>

<p>If you've read the <a href="#vref">VREF</a> part, or at least understood how <a href="#NAME">NAME VREF</a>s work, it should be clear that, in terms of changes to the gitolite-admin repo:</p>
<ul>
<li>The user sitaram has no restrictins of any kind</li>
<li>Users alice, bob, and mallory can only touch files within their assigned areas within conf/subs. If they try to change any other file (keydir, conf/gitolite.conf, or something in one of the other sub-admin's areas), then the last rule kicks in and the push gets rejected.</li>
</ul>
<p>Now all we need is to see what this &quot;subconf&quot; thing is all about.</p>
<h3 id="subconf"><span class="header-section-number">3.5.2</span> the subconf command</h3>
<p>Subconf is exactly like the include command in syntax:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="PreProc">subconf </span><span class="Constant">&quot;foo.conf&quot;</span>
</pre>

<p>but while reading the included file (as well as anything included from it), gitolite sets the &quot;current subconf name&quot; to &quot;foo&quot;.</p>
<p>A &quot;subconf&quot; imposes some restrictions on what repos can be managed.</p>
<p>For example, while the subconf name is &quot;foo&quot;, as in the above example, gitolite will only process &quot;repo&quot; lines for:</p>
<ul>
<li>A repo called &quot;foo&quot;.</li>
<li>A group called &quot;<span class="citation">@foo</span>&quot;, as long as the group is defined in the main conf file (i.e., <em>outside</em> &quot;foo.conf&quot;).</li>
<li>A member of a group called &quot;<span class="citation">@foo</span>&quot; (again, defined outside).</li>
<li>A repo that matches a member of a group called &quot;<span class="citation">@foo</span>&quot; if that member is a regular expression.</li>
</ul>
<p>Here's an example. If the main conf file contains</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@foo</span>    =   aa bb <span class="Special">cc/..*</span>
</pre>

<p>then the subconf can only accept repo statements that refer to 'foo', '<span class="citation">@foo</span>', 'aa', 'bb', or any repo whose name starts with 'cc/'.</p>
<p><strong>Note</strong>: the subconf name &quot;master&quot; is special; it is the default subconf in effect for the main conf file and has no restrictions.</p>
<h4 id="how-the-subconf-name-is-derived"><span class="header-section-number">3.5.2.1</span> how the &quot;subconf name&quot; is derived</h4>
<p>For subconf lines that look just like include statements, i.e.,</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="PreProc">subconf </span><span class="Constant">&quot;foo/bar.conf&quot;</span>
<span class="PreProc">subconf </span><span class="Constant">&quot;frob/*.conf&quot;</span>
   <span class="Comment"> # assume frob has files aa.conf, bb.conf</span>
</pre>

<p>the subconf name as each file is being processed is the base name of the file. This means it would be &quot;bar&quot; for the first line, &quot;aa&quot; when processing &quot;frob/aa.conf&quot;, and &quot;bb&quot; when processing &quot;frob/bb.conf&quot;.</p>
<p>A variation of subconf exists that can explicitly state the subconf name:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="PreProc">subconf </span>foo <span class="Constant">&quot;frob/*.conf&quot;</span>
</pre>

<p>In this variation, regardless of what file in &quot;frob/&quot; is being read, the subconf name in effect is &quot;foo&quot;.</p>
<h3 id="security-notes"><span class="header-section-number">3.5.3</span> security notes</h3>
<h4 id="group-names"><span class="header-section-number">3.5.3.1</span> group names</h4>
<p>You can use &quot;<span class="citation">@group</span>&quot;s defined in the main config file but do not attempt to redefine or extend them in your own subconf file. If you must extend a group (say <code>@foo</code>) defined in the main config file, do this:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Identifier">@myfoo</span>  =   <span class="Identifier">@foo</span>
<span class="Comment"># now do whatever you want with @myfoo</span>
</pre>

<p>Group names you define in your subconf will not clash even if the exact same name is used in another subconf file, so you need not worry about that.</p>
<h4 id="delegating-pubkeys"><span class="header-section-number">3.5.3.2</span> delegating pubkeys</h4>
<p>Short answer: not gonna happen.</p>
<p>The delegation feature is meant only for access control rules, not pubkeys. Adding/removing pubkeys is a much more significant event than changing branch level permissions for people already on staff, and only the main admin should be allowed to do it.</p>
<p>Gitolite's &quot;userids&quot; all live in the same namespace. This is unlikely to change, so please don't ask -- it gets real complicated to do otherwise. Allowing sub-admins to add users means username collisions, which also means security problems (admin-A creates a pubkey for Admin-B, thus gaining access to all of Admin-B's stuff).</p>
<p>If you feel the need to delegate even that, please just go the whole hog and give them separate gitolite instances (i.e., running on different servers, or at least under different gitolite hosting users on the same server)!</p>
<h2 id="gitweb-daemon"><span class="header-section-number">3.6</span> allowing access to gitweb and git-daemon</h2>
<blockquote>
<hr />
</blockquote>
<blockquote>
<p><strong>Note</strong>: The old gitolite (v1.x, v2.x) used to tie itself into knots dealing with gitweb and daemon. One of the goals of v3 was to get out of that game, which your author does not play anyway. This means statements like &quot;...special user called 'gitweb'...&quot; really apply to the <a href="#non-core">non-core</a> programs that gitolite ships with, not to &quot;core&quot; gitolite, and any or all of this functionality can be disabled by commenting out certain lines in the <a href="#rc">rc</a> file.</p>
</blockquote>
<blockquote>
<hr />
</blockquote>
<blockquote>
<p>Also, <strong>note</strong> that gitolite does <strong>not</strong> install or configure gitweb/git-daemon -- that is a one-time setup you must do separately.</p>
</blockquote>
<blockquote>
<hr />
</blockquote>
<h3 id="gitweb"><span class="header-section-number">3.6.1</span> gitweb</h3>
<p>The following repos are deemed to be readable by gitweb:</p>
<ul>
<li>Any repos readable by the special user <code>gitweb</code>.</li>
<li><p>Any repos containing one or more of the following types of lines: (actually, any config variable starting with <code>gitweb.</code>).</p>
<pre><code>config gitweb.owner         =   owner name
config gitweb.description   =   some description
config gitweb.category      =   some category</code></pre>
<p>Side note: the following shorter forms are available as <a href="#sugar">syntactic sugar</a> for the above longer forms:</p>
<pre><code>owner       =   owner name
desc        =   some description
category    =   some category</code></pre></li>
</ul>
<p>The list of gitweb-readable repos is written to a file whose name is given by the <a href="#rc">rc</a> file variable <code>GITWEB_PROJECTS_LIST</code>. The default value of this variable, if it is not specified or empty, is <code>$HOME/projects.list</code>.</p>
<p>In addition, each of the config variables described above is written to the repo to which it pertains, so that gitweb can use them.</p>
<h4 id="umask"><span class="header-section-number">3.6.1.1</span> changing the UMASK</h4>
<p>Gitweb (or cgit, redmine, etc.) typically runs under a different userid, and the default permissions that gitolite sets make them unreadable.</p>
<p>See the section on the <code>UMASK</code> variable in the page for the <a href="#rc">rc file</a>.</p>
<h4 id="repo-specific-authorisation-in-gitweb"><span class="header-section-number">3.6.1.2</span> repo-specific authorisation in gitweb</h4>
<p>Gitweb has a feature whereby it will call a (perl) function that you supply, passing it the full path to the repo being accessed. If the remote user is authenticated, the username will be available, so your function can take those two pieces of information and return true or false to allow or deny the repository access.</p>
<p>If you want to use gitolite's access rules in making this determination, you will first have to ensure that the HTTP username (i.e., the username known to apache/gitweb) is the same as the gitolite username. If you're using gitolite's <a href="#http">http</a> mode, this is probably already true, but if you're using the more widely used ssh mode, you'll have to make sure they match.</p>
<p>You then need to add <a href="gitweb.conf.html">this code</a> to your gitweb.conf.</p>
<h3 id="git-daemon"><span class="header-section-number">3.6.2</span> git-daemon</h3>
<p>Any repo readable by the special user <code>daemon</code> is deemed to be readable by git-daemon. For each of these repos, an empty file called <code>git-daemon-export-ok</code> is created in the repository (i.e., the <code>repo.git</code> directory inside <code>$HOME/repositories</code>).</p>
<h3 id="tips"><span class="header-section-number">3.6.3</span> tips</h3>
<p>Setting descriptions en-masse usually does not make sense, but you can certainly do things like</p>
<pre><code>repo @all
    R       =   gitweb daemon</code></pre>
<p>assuming you have other means of setting 'gitweb.description' and 'gitweb.owner'.</p>
<p>Also see <a href="#deny-rules">this</a> for a twist on that.</p>
<h2 id="mirroring"><span class="header-section-number">3.7</span> mirroring using gitolite</h2>
<p><font color="red"><strong>WARNING</strong> v2 gitolite mirroring users please note: <strong>there are <a href="#g2i-mirroring">significant changes</a></strong> in syntax and usage compared to v2. If you're not the kind who reads documentation before doing serious system admin things, well... good luck!</font></p>
<h3 id="quick-intro"><span class="header-section-number">3.7.1</span> quick intro</h3>
<p>Mirroring is simple: you have one &quot;master&quot; server and one or more &quot;slave&quot; servers. The slaves get updates only from the master; to the rest of the world they are at best read-only.</p>
<p>In the following pictures, each box (A, B, C, ...) is a repo. The master server for a repo is colored red, slaves are green. The <strong>user</strong> pushes to the repo on the master server (red), and the master server -- once the user's push succeeds -- then does a <code>git push --mirror</code> to the slaves. The arrows show this mirror push.</p>
<p>The first picture shows what gitolite mirroring used to be like a long time ago (before v2.1, actually). There is exactly one master server; all the rest are slaves. Each slave mirrors <strong>all</strong> the repos that the master carries, no more and no less.</p>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>This is simple to understand and manage, and might actually be fine for many small sites. The mirrors are more &quot;hot standby&quot; than anything else.</p>
<p>But when you have 4000+ developers on 500 repos using 25 servers in 9 cities, that single server tends to become a wee bit stressed. Especially when you realise that many projects have highly localised development teams. For example, if most developers for a project are in city X, with perhaps a few in city Y, then having the master server in city Z is... suboptimal :-)</p>
<p>And so, for about 3 years now, gitolite could do this:</p>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>You can easily see the differences in this scenario, but here's a more complete description of what gitolite can do:</p>
<ul>
<li><p>Different masters and sets of slaves for different repos.</p>
<p>This lets you do things like:</p>
<ul>
<li>Use the server closest to <em>most</em> of its developers as the master for that repo.</li>
<li>Mirror a repo to only some of the servers.</li>
<li>Have repos that are purely local to a server (not mirrored at all).</li>
<li>Push to a slave on demand or via cron (helps deal with bandwidth or connectivity constraints).</li>
</ul>
<p>All this is possible whether or not the gitolite-admin repo is mirrored -- that is, all servers have the <em>exact same</em> gitolite-admin repo or not.</p></li>
<li><p>Pushes to a slave can be transparently forwarded to the real master.</p>
<p>Your developers need not worry about where a repo's master is -- they just write to their local mirror for <em>all</em> repos, even if their local mirror is only a slave for some.</p></li>
</ul>
<h3 id="caveats"><span class="header-section-number">3.7.2</span> caveats</h3>
<ul>
<li><p>Mirroring by itself will never <em>create</em> a repo on a slave; it has to exist and be prepared to receive updates from the master.</p>
<p>The simplest way to ensure your repos exist on the slaves also is to mirror the special gitolite-admin repo as well, and this is what most sites do.</p></li>
<li><p>There is limited support for auto-creating wild card repos and sending 'perms' info across, with the following caveats at present. (Some of this text won't make sense unless you know what those features are).</p>
<ul>
<li><p><em>WARNING: it does NOT make sense to mirror wild repos in setups where the authentication data is not the same (i.e., where &quot;alice&quot; on the master and &quot;alice&quot; on a slave maybe totally different people)</em>.</p></li>
<li><p>This has only been minimally tested. For example, complex setups or asymmetric configs on master and slave, etc. have NOT been tested.</p></li>
<li><p>Permission changes will only propagate on the next 'git push'. Of course, if you know the name of the slave server, you can run</p>
<pre><code>ssh git@host mirror push slave-server-name repo-name</code></pre></li>
<li><p>Using 'perms' on a slave is allowed but will neither propagate nor persist. They will be overwritten by whatever perms the master has (even if it is an empty set) on the next 'git push'.</p></li>
<li><p>As with lots of extra features in gitolite, smart http support is not on my radar. Don't ask.</p></li>
</ul>
<p>Please test it out and let me know if something surprising happens. Be aware that I have been known to claim bugs are features if I don't have time to fix them immediately :-)</p></li>
<li><p>Mirroring is only for git repos. Ancillary files like gl-creator and gl-perms in the repo directory are not mirrored; you must do that separately. Files in the admin directory (like log files) are also not mirrored.</p></li>
<li><p>If you ever do a <a href="#bypass">bypass push</a>, mirroring will not work. Mirroring checks also will not work -- for example, you can push to a slave, which is not usually a good idea. So don't bypass gitolite if the repo is mirrored!</p></li>
<li><p>From v3.5.3 on, gitolite uses an asynchronous push to the slaves, so that the main push returns immediately, without waiting for the slave pushes to complete. Keep this in mind if you're writing scripts that do a push, and then read one of the slaves immediately -- you will need to add a few seconds of sleep in your script.</p></li>
</ul>
<h3 id="setting-up-mirroring"><span class="header-section-number">3.7.3</span> setting up mirroring</h3>
<p>This is in two parts: the initial setup and the rc file, followed by the conf file settings and syntax.</p>
<h4 id="the-initial-setup-and-the-rc-filerc"><span class="header-section-number">3.7.3.1</span> the initial setup and the <a href="#rc">rc file</a></h4>
<p>On <strong>each</strong> server:</p>
<ul>
<li><p>Install gitolite normally. Make clones of the server's 'gitolite-admin' repo on your workstation so you can admin them all from one place.</p></li>
<li><p>Give the server a short, simple, &quot;hostname&quot; and set the HOSTNAME in the rc file (i.e., <code>~/.gitolite.rc</code> on the server) to this name, for example 'mars'. <em>Note: this has nothing to do with the hostname of the server in networking or DNS terms, or in OS terms. This is internal to gitolite</em>.</p></li>
<li><p>Run ssh-keygen if needed and get an ssh key pair for the server. Copy the public key to a common area and name it after the host, but with 'server-' prefixed. For example, the pubkey for server 'mars' must be stored as 'server-mars.pub'.</p></li>
<li><p>Copy all keys to all the admin repo clones on your workstation and and add them as usual. This is an <code>O(N^2)</code> operation ;-)</p>
<p>You may have guessed that the prefix 'server-' is special, and distinguishes a human user from a mirroring peer.</p></li>
<li><p>Create &quot;host&quot; aliases to refer to all other machines. See <a href="#ssh-ha">here</a> for what/how.</p>
<p>The host alias for a host (in all other machines' <code>~/.ssh/config</code> files) MUST be the same as the <code>HOSTNAME</code> in the referred host's <code>~/.gitolite.rc</code>. Gitolite mirroring <strong>requires</strong> this consistency in naming; things will NOT work otherwise.</p>
<p>Normally you should be able to build one common file and append it to all the servers' <code>~/.ssh/config</code> files.</p></li>
<li><p>The following <strong>MUST</strong> work for <strong>each pair</strong> of servers that must talk to each other:</p>
<pre><code># on server mars
ssh phobos info
# the response MUST start with &quot;hello, server-mars...&quot;</code></pre>
<p>Note the exact syntax used; variations like &quot;ssh git@phobos.example.com info&quot; are NOT sufficient. That is why you need the ssh host aliases.</p>
<p>Check this command from <em>everywhere to everywhere else</em>, and make sure you get expected results. <strong>Do NOT proceed otherwise.</strong></p></li>
<li>Setup the gitolite.conf file on all the servers. If the slaves are to be exact copies of the master, you need to do the complete configuration only on the master; the slaves can have just this because on the first push to the master it will update all the slaves anyway:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span>gitolite-admin
<span class="Statement">        RW+</span><span class="Constant">     </span>=   some-local-admin

    option mirror.master    =   mars
    option mirror.slaves    =   phobos
</pre>
</li>
<li><p>When that is all done and tested, <strong>enable mirroring</strong> by going through the rc file and uncommenting all the lines mentioning <code>Mirroring</code>.</p></li>
<li><p>If you wish to allow your users to run the mirror command remotely (usually <em>not</em> required), you need to enable it just like any other command that is not enabled by default; see <a href="#commands">gitolite commands</a> for how.</p></li>
</ul>
<h4 id="conf-file-settings-and-syntax"><span class="header-section-number">3.7.3.2</span> conf file settings and syntax</h4>
<p>Mirroring is defined by the following <a href="#options">options</a>. You can have different settings for different repos, and of course some repos may not have any mirror options at all -- they are then purely local.</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
    ...access rules...

    option mirror.master        =   mars
    option mirror.slaves        =   phobos deimos
    option mirror.redirectOK    =   all
</pre>

<p>The first line is easy, since a repo can have only one master.</p>
<p>The second is a space separated list of hosts that are all slaves. You can have several slave lists, as long as the config key starts with 'mirror.slaves' and is unique. For example.</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
    option mirror.slaves-1   =   phobos deimos
    option mirror.slaves-2   =   io europa
    option mirror.slaves-3   =   ganymede callisto
</pre>

<p>Do not repeat a key; then only the last line for that key will be effective.</p>
<h5 id="v3.6-preventing-automatic-sync"><span class="header-section-number">3.7.3.2.1</span> <span class="gray">(v3.6+)</span> preventing automatic sync</h5>
<p>Sometimes you don't want a repo to be mirrored automatically (as soon as someone pushes to the master) to all the slaves. For whatever reasons, you have some slaves for whom you would like to trigger the sync later (and you don't mind the fact that those slaves is out of sync until then).</p>
<p>To make that happen, use option lines like this instead of those shown above:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
    option mirror.slaves.nosync-1   =   phobos deimos
</pre>

<p>Except for the addition of a <code>.nosync</code> just after <code>slaves</code>, all the other rules are the same as before.</p>
<h3 id="v3.6.1-mirroring-failures"><span class="header-section-number">3.7.4</span> <span class="gray">(v3.6.1+)</span> mirroring failures</h3>
<p>Since mirror pushes happen asynchronously (i.e, the user who originally pushed does not have to wait for the mirrors to be synced), any mirror push failures are not immediately visible to a human being, although you will find them if you look in gitolite's log files.</p>
<p><span class="box-r">Note: since only a successful push can clear the error status, it follows that if a mirror push failed due to an invalid hostname, that status file will need to be manually deleted from the server. Look in the bare repo directory on the server, for one or more files whose names start with 'gl-slave' and delete the appropriate one.</span></p>
<p>Therefore, when the output of the mirror push to some slave contains the word &quot;fatal&quot;, gitolite saves the output. This saved output is printed to STDERR when any user attempts to clone/fetch/push the repo on the master server for that repo. The hope is that someone will alert an admin to look at the problem. This will continue to happen until the error condition is cleared (i.e., a successful mirror push happens to that specific slave).</p>
<p>If you don't want these unexpected reports confusing users (or programs!), simply create a new rc variable called HUSH_MIRROR_STATUS and set it to 1. <span class="gray">(If you're not sure where in the rc file this should go, I suggest putting it right after the HOSTNAME variable).</span></p>
<p>You can see the mirror status of any repo using the 'mirror status' command; the command line help for the mirror command ('gitolite mirror -h' or 'ssh git@host mirror -h') has details.</p>
<h3 id="sync"><span class="header-section-number">3.7.5</span> manually synchronising a slave repo</h3>
<p>You can use the <code>gitolite mirror push</code> command on a master to manually synchronise any of its slaves. Try it with <code>-h</code> to get usage info.</p>
<p>Tip: if you want to do this to all the slaves, try this:</p>
<pre><code>for s in `gitolite git-config -r reponame mirror.slave | cut -f3`
do
    gitolite mirror push $s reponame
done</code></pre>
<p>This command can also be run remotely; run <code>ssh git@host mirror -h</code> for details.</p>
<h3 id="redirected-pushes"><span class="header-section-number">3.7.6</span> redirected pushes</h3>
<p><strong>Please read carefully; there are security implications if you enable this for mirrors NOT under your control</strong>.</p>
<p>Normally, a master, (and <em>only</em> a master), pushes to a slave, and the slaves are &quot;read-only&quot; to the users. Gitolite allows a <em>slave</em> to receive pushes from a user and transparently redirect them to the <em>master</em>.</p>
<p>This simplifies things for users in complex setups, letting them use their local mirror for both fetch and push access to all repos.</p>
<p>The syntax for enabling this is one of these:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
option mirror.redirectOK    =   all
option mirror.redirectOK    =   phobos deimos
</pre>

<p>The first syntax trusts all valid slaves to redirect user pushes, while the second one trusts only some slaves.</p>
<p><strong>IMPORTANT NOTES</strong></p>
<ul>
<li><p>This only works for ssh-based setups; you cannot use this feature in http mode.</p></li>
<li><p><strong>Authentication</strong> happens on the slave, but <strong>authorisation</strong> is on the master. The master is trusting the slave to authenticate the user correctly, <em>and</em> use the same authentication data (i.e., user alice on the slave should be guaranteed to be the same as user alice on the master).</p></li>
<li><p>The part of the authorisation that happens before passing control to git-receive-pack (see the <a href="#rules">access rules</a> page) will happen on the slave as well.</p></li>
<li><p>You cannot redirect gitolite commands (like perms, etc).</p></li>
</ul>
<h3 id="HOSTNAME"><span class="header-section-number">3.7.7</span> appendix A: HOSTNAME substitution</h3>
<p>Wherever gitolite sees the word <code>%HOSTNAME</code>, it will replace it with the HOSTNAME supplied in the rc file, if one was supplied. This lets you maintain configurations for all servers in one repo, yet have them act differently on different servers, by saying something like:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="PreProc">subconf </span><span class="Constant">&quot;%HOSTNAME/*.conf&quot;</span>
</pre>

<p>You can use it in other places also, for example:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">RW+</span><span class="Constant">     VREF/NAME/subs/%HOSTNAME/       </span>=   <span class="Identifier">@</span><span class="Error">%</span><span class="Identifier">HOSTNAME-admins</span>
</pre>

<p>(you still have to define <span class="citation">@mars-admins</span>, <span class="citation">@phobos-admins</span>, etc., but the actual VREF is now one line instead of one for each server!)</p>
<h3 id="appendix-b-efficiency-versus-paranoia"><span class="header-section-number">3.7.8</span> appendix B: efficiency versus paranoia</h3>
<p>If you're paranoid enough to use mirrors, you should be paranoid enough to set this on each server, despite the possible CPU overhead:</p>
<pre><code>git config --global receive.fsckObjects true</code></pre>
<h3 id="appendix-c-moving-the-admin-repo-to-a-different-master"><span class="header-section-number">3.7.9</span> appendix C: moving the admin repo to a different master</h3>
<p>Moving only some repos (other than the gitolite-admin repo) to a different master is easy. Just make the change in the gitolite.conf file, add, commit, and push.</p>
<p>Even for the gitolite-admin repo, if the current master is ok, it's the same thing; just make the change and push <em>to the current master</em>. Subsequent pushes will go to the new master, of course.</p>
<p>But if the current master is already dead, there's a bit of a catch-22. You can't push to the master because it is dead, and you can't push to any slave because they won't accept updates from anywhere but the server they think is the master.</p>
<p>Here's how to resolve this:</p>
<ol style="list-style-type: decimal">
<li><p>On <em>each</em> slave:</p>
<ul>
<li><p>Edit <code>~/.gitolite/conf/gitolite.conf</code> to change the master and slave options for the gitolite-admin repo.</p></li>
<li><p>Run <code>gitolite setup</code>.</p></li>
</ul></li>
<li><p>Now clone the admin repo from the <em>new</em> master to your workstation, change the options for the rest of the repos (if needed), then add/commit/push.</p></li>
</ol>
<p>And that should be all you need to do.</p>
<h2 id="http"><span class="header-section-number">3.8</span> how to setup gitolite to use smart http mode</h2>
<p><strong>Note</strong>: &quot;smart http&quot; refers to the feature that came with git 1.6.6, late 2009 or so. The base documentation for this is <code>man git-http-backend</code>. Do <strong>NOT</strong> read <code>Documentation/howto/setup-git-server-over-http.txt</code> and think that is the same or even relevant -- that is from 2006 and is quite different (and arguably obsolete).</p>
<h3 id="warnings-and-important-notes"><span class="header-section-number">3.8.1</span> WARNINGS and important notes</h3>
<ul>
<li><p>Please read <a href="#auth">authentication versus authorisation</a> first, and make sure you understand what is gitolite's responsibility and what isn't.</p></li>
<li><p>I have tested this only on stock Fedora (whatever is the current version); YDMV.</p></li>
</ul>
<h3 id="assumptions-1"><span class="header-section-number">3.8.2</span> assumptions:</h3>
<ul>
<li>Apache 2.x and git installed.</li>
<li>Httpd runs under the &quot;apache&quot; userid; adjust instructions below if not.</li>
<li>Similarly for &quot;/var/www&quot; and other file names/locations.</li>
</ul>
<h3 id="instructions"><span class="header-section-number">3.8.3</span> instructions</h3>
<p><span class="box-r">Note that the <code>GIT_PROJECT_ROOT</code> variable (see &quot;man git-http-backend&quot;) is no longer optional. Make sure you set it to some place outside apache's <code>DOCUMENT_ROOT</code>.</span></p>
<p>In place of detailed instructions, there is a script called <code>t/smart-http.root-setup</code>. <strong>Do NOT run this script as is -- it is actually meant for my testing setup and deletes stuff</strong>. However, it does provide an excellent (and working!) narration of what you need to do to install gitolite in smart http mode.</p>
<p>Make a copy of the script, go through it carefully, (possibly removing lines that delete files etc.), change values per your system, and only then run it.</p>
<h3 id="making-repositories-available-to-both-ssh-and-http-mode-clients"><span class="header-section-number">3.8.4</span> Making repositories available to both ssh and http mode clients</h3>
<p>This section has been contributed by Thomas Hager (duke at sigsegv dot at), and is available <a href="#ssh-and-http">here</a>.</p>
<h3 id="usage"><span class="header-section-number">3.8.5</span> usage</h3>
<h4 id="client-side"><span class="header-section-number">3.8.5.1</span> client side</h4>
<p>Git URLs look like <code>http://user:password@server/git/reponame.git</code>.</p>
<p>The custom commands, like &quot;info&quot;, &quot;expand&quot; should be handled as follows. The command name will come just after the <code>/git/</code>, followed by a <code>?</code>, followed by the arguments, with <code>+</code> representing a space. Here are some examples:</p>
<pre><code># ssh git@server info
curl http://user:password@server/git/info
# ssh git@server info repopatt
curl http://user:password@server/git/info?repopatt
# ssh git@server info repopatt user1 user2
curl http://user:password@server/git/info?repopatt+user1+user2</code></pre>
<p>With a few nice shell aliases, you won't even notice the horrible convolutions here ;-) See t/smart-http for a couple of useful ones.</p>
<h4 id="server-side"><span class="header-section-number">3.8.5.2</span> server side</h4>
<p>The 'gitolite' command (for example, 'gitolite compile', 'gitolite query-rc', and so on) <em>can</em> be run on the server, but it's not straightforward. Assuming you installed exactly as given in this page, you should</p>
<ul>
<li>get a shell by using, say, <code>su -s /bin/bash - apache</code></li>
<li>run <code>export HOME=$HOME/gitolite-home</code></li>
<li>run <code>export PATH=$PATH:$HOME/bin</code></li>
</ul>
<p>and <em>then</em> you can run <code>gitolite &lt;subcommand&gt;</code></p>
<h2 id="cache"><span class="header-section-number">3.9</span> gitolite and the (redis) cache</h2>
<p>(requires v3.6.1)</p>
<p>Gitolite can optionally use the Redis in-memory key-value database for a little speed boost for really large sites.</p>
<p>If you look in the <a href="#perf">gitolite performance</a> page, you will see, right at the bottom, that pretty much the only thing in gitolite that <em>may</em> be slow is the <a href="#info">info</a> command. The cache feature fixes that problem :-)</p>
<p>Using Redis as the backend database is actually a bit of overkill; technically this could just as well have been done using a DBM file or SQlite or something like that, but since this is only a <em>cache</em>, an in-memory database works out better. However, Redis does have one real advantage: cache <a href="#timeout">timeout</a>s!</p>
<p>Support for this feature is limited to verifiable gitolite bugs, if you find any; I can't help you with redis itself.</p>
<h3 id="how"><span class="header-section-number">3.9.1</span> how</h3>
<p>To use this feature, just install Redis, then the perl driver &quot;Redis.pm&quot;. Install or upgrade Gitolite to the latest master, then uncomment (or add, if it doesn't exist) the following line in the rc file:</p>
<pre><code>CACHE       =&gt;  'Redis',</code></pre>
<p>If you're <em>adding</em> it, please add it within the %RC hash, but outside the ENABLE list. (If in doubt, add it just after the UMASK entry).</p>
<p>Then perform some gitolite operation (anything that requires any form of access checking). Redis should start automatically and the right things should happen; see below if it does not.</p>
<h3 id="troubleshooting"><span class="header-section-number">3.9.2</span> troubleshooting</h3>
<p>If you ever kill the redis-server be sure to also remove the socket file <code>~/.redis-gitolite.sock</code>. Conversely if you ever remove the sock file be sure to kill the process also. Otherwise you get weird behaviour, including possible hangs. (If things don't seem to work, the first thing to do is to kill all 'redis-server's on that userid and remove <code>~/.redis-gitolite.*</code>, then try again.)</p>
<p><strong>Note</strong>: To the best of my knowledge, this cannot result in wrong data being passed to gitolite, causing a security breach. If anyone has time I'd appreciate a review of the code.</p>
<h3 id="details"><span class="header-section-number">3.9.3</span> details</h3>
<h4 id="what-is-cached"><span class="header-section-number">3.9.3.1</span> what is cached</h4>
<p>At present, gitolite caches only one specific function: the &quot;access()&quot; function. This is available from the shell as the 'gitolite access ...' command, as well as from perl via the &quot;Easy.pm&quot; interface; see <a href="#dev-notes">dev-notes</a> for more. It is easily the &quot;workhorse&quot; of gitolite.</p>
<p>The cache is flushed completely when the gitolite.conf file is &quot;compiled&quot;. You might see some things running a bit slower -- at least until things settle down.</p>
<p>Finally, if you run 'perms', the cache entries <em>for that specific repo</em> are also flushed.</p>
<h4 id="timeout"><span class="header-section-number">3.9.3.2</span> how long is it cached</h4>
<p>Redis has a timeout feature that can delete entries after a certain period of time has elapsed since they were created or updated. Gitolite sets a timeout of 90000 seconds (just over a day) normally. However, if you're using the GROUPLIST_PGM feature (see <a href="#ldap">here</a> for details), then this timeout becomes 900 seconds (only 15 minutes). This is because a user's group membership, and thus her access rights, can change without gitolite being aware of the change.</p>
<p>If you're not using the GROUPLIST_PGM feature, you don't have to do anything. But if you are using it, then a cache timeout of 15 minutes may be too much or too little for you -- I cannot judge that. You can tell gitolite what timeout you want for your setup, by adding (or uncommenting) an RC variable called CACHE_TTL; its value is the number of seconds for the timeout.</p>
<h2 id="namespaces"><span class="header-section-number">3.10</span> namespace support in gitolite</h2>
<p><em>This feature is only available in the 'namespaces' branch until enough people test it and tell me it works fine</em>.</p>
<p><strong>AVOID NASTY SURPRISES!</strong> Please read the entire page before attempting to use or install this. Most non-core features of gitolite do not work with namespaces, and, worse, many of them will <em>fail silently</em>. There are also security issues you need to be aware of.</p>
<h3 id="background-1"><span class="header-section-number">3.10.1</span> background</h3>
<p>In many projects, developers need to push their work to some central place for others to fetch. Namespaces allow you to give each developer what looks like her own repo or set of repos, while combining all these logical repos into one physical repo on the server. This saves a lot of disk space if they all share a lot of common history.</p>
<p>The logical repos look like normal repos to a git <em>client</em>; all the magic is on the server side. (But see the &quot;WARNINGS&quot; section).</p>
<h3 id="terminology"><span class="header-section-number">3.10.2</span> terminology</h3>
<p>There is one repo that is special, and several others that depend upon it or use it. Depending on context, we use one of the following names:</p>
<ul>
<li>Storage context: backing repo/real repo, and logical repos</li>
<li><a href="http://git-scm.com/book/en/Distributed-Git-Distributed-Workflows#Integration-Manager-Workflow">Workflow</a> context: blessed repo and developer repos</li>
</ul>
<p><font color="gray">In addition, in the gitolite context you could say that the blessed repo is a normal (not &quot;wild&quot;) repo and the logical repos are <a href="#wild">wild</a> repos, since that is the most convenient way to set this up. However, it is not mandatory -- you can have a wild repo as a backing repo, and/or a normal repo as a logical repo if you wish.</font></p>
<h3 id="setup"><span class="header-section-number">3.10.3</span> setup</h3>
<p>First, add the following lines to the rc file, as indicated:</p>
<pre><code># add this line as the *last* item in the PRE_GIT trigger list.  In
# particular, it should be *after* the Mirroring::pre_git line if you're
# using mirroring.
'Namespaces::pre_git',

# add this line as the *first* item in the POST_GIT trigger list.  In
# particular, it should be *before* the Mirroring::post_git line if you're
# using mirroring.
'Namespaces::post_git',</code></pre>
<p>Then use the following example conf below as a guide and roll your own. This example is from a mail to the gitolite list by Javier Domingo (&quot;Mirroring forks&quot;, 13-11-2012), modified slightly.</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Comment"># backing repos, normal (non-wild), serving as blessed repos</span>
<span class="Type">repo </span>   linux git gitolite <span class="Special">[...other</span> <span class="Special">projects...]</span>
<span class="Statement">    RW+</span><span class="Constant">     </span>=   integration-manager
<span class="Statement">    R</span><span class="Constant">       </span>=   <span class="Identifier">@all</span>

<span class="Comment"># logical repos, wild, created by devs as needed</span>
<span class="Type">repo </span>   <span class="PreProc">CREATOR</span>/[a-zA-Z0-9].*
<span class="Statement">    C</span><span class="Constant">       </span>=   <span class="Identifier">@all</span>
<span class="Statement">    RW+</span><span class="Constant">     </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">    R</span><span class="Constant">       </span>=   <span class="PreProc">READERS</span> <span class="Identifier">@all</span>
    option namespace.pattern = %/* is @1 in @2
</pre>

<h3 id="use"><span class="header-section-number">3.10.4</span> use</h3>
<p>A developer doesn't have to do anything differently. She will still run, e.g., <code>git clone git@host:alice/linux</code> to auto-create and clone a <a href="#wild">wild</a> repo for herself, then add a remote to the &quot;backing&quot; repo, fetch it, start working, and eventually push her work to alice/linux.</p>
<p>However, she might notice some differences. To begin with, her first push of an enormous code base, to what she thought was an empty repo on the server, might go surprisingly fast :)</p>
<p>Secondly, a lot of <em>gitolite</em> commands (and other features) won't work. See the &quot;WARNINGS&quot; section below for more.</p>
<h3 id="details-1"><span class="header-section-number">3.10.5</span> details</h3>
<p>The option line above has 3 parts separated by the words &quot;is&quot; and &quot;in&quot;:</p>
<pre><code>&lt;pattern&gt; is &lt;namespace&gt; in &lt;backing repo&gt;</code></pre>
<p>When a user attempts to access a logical repo (say &quot;alice/linux&quot;), the namespace pattern for that repo is applied to the repo name as follows:</p>
<ul>
<li>a percent sign matches a single component in the repo name</li>
<li>an asterisk matches one or more components</li>
</ul>
<p>Once the matching is done, each &quot;at-digit&quot; combination is replaced by the corresponding matched segment to derive the namespace and the backing repo name.</p>
<p>Some examples may help:</p>
<ul>
<li>Here's a simple one that separate the first component from the rest:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
    option namespace.pattern = %/* is @1 in @2
</pre>

<p>A reponame of 'alice/linux' gives you a namespace of 'alice' and a backing reponame of 'linux'. Similarly, 'alice/linux/2.2' gives you 'alice' and 'linux/2.2' (which means a repo of that name has to exist!); notice how the asterisk grabs up all the remaining components in the repo name.</p></li>
<li>This one separates the first, the second, and all the rest, but combines them in a different order:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
    option namespace.pattern = %/%/* is @1/@3 in @2
</pre>

<p>A reponame of 'alice/linux/2.2' gives you 'alice/2.2' and 'linux', while a reponame of 'alice/linux/2.2/smp' gives you 'alice/2.2/smp' and 'linux'.</p></li>
<li>Here's another example on the same lines:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
    option namespace.pattern = %/%/%/* is @3/@2/@4 in @1
</pre>

<p>A reponame of 'linux/kernel/torvalds/linux-2.6' gives you a namespace of 'torvalds/kernel/linux-2.6' and a backing repo name of 'linux'.</p></li>
<li><p>Here's an interesting example, given in full to explain better. The basic problem is that one of our backing repos is not a simple name (like 'git' or 'linux'); it is 'sitaramc/gitolite'.</p>
In addition, any developer-owned repo that has 3 or more components is not a fork of anything at all, and should not be subject to namespace processing (i.e., it's just a normal repo)
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
   <span class="Comment"> # backing repos</span>
<span class="Type">    repo </span>sitaramc/gitolite linux git
    ...access rules for backing repos...
   <span class="Comment"> # logical repos</span>
<span class="Type">    repo </span><span class="PreProc">CREATOR</span>/..*
<span class="Statement">        C</span><span class="Constant">   </span>=   <span class="Identifier">@team</span>
<span class="Statement">        RW+</span><span class="Constant"> </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">        R</span><span class="Constant">   </span>=   <span class="Identifier">@all</span>
    option namespace.pattern-1 = %/gitolite is @1 in sitaramc/gitolite
    option namespace.pattern-2 = %/% is @1 in @2
    option namespace.pattern-3 = %/%/* is none in @1/@2/@3
</pre>

<p>Firstly, this shows how to specify more than one namespace pattern. Each pattern is tried in <em>lexically</em> sorted order until a match is found. (Warning: &quot;lexically sorted&quot; means 'namespace.pattern-10' sorts before 'namespace.pattern-2'!)</p>
<p>Secondly, the example shows that you can hardcode anything, like we did for the backing reponame in pattern 1.</p>
<p>Thirdly, it shows how you can specify a pattern that disables namespacing, like the last pattern. When the backing repo name ends up being exactly the same as the original repo name, gitolite notices this and treats it as a real repo, not as a logical repo. (If this confuses you, ignore it and use some other pattern, say <code>CREATOR/personal/..*</code> for developers personal repos, and don't give them namespace pattern options).</p>
<p>Here are some example results from this setup:</p>
<pre><code>alice/gitolite              -&gt;  alice, sitaramc/gitolite (pattern 1)
alice/linux                 -&gt;  alice, linux (pattern 2)
alice/linux/2.2             -&gt;  (namespace processing disabled)
alice/personal/foo          -&gt;  (namespace processing disabled)</code></pre></li>
<li>Here's an example with some errors:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
    option namespace.pattern-1 = %/gitolite is @1 in sitaramc/gitolite
    option namespace.pattern-2 = %/% is @1 in @2
    option namespace.pattern-3 = %/%/* is @1/@3 in @2
</pre>

<p>If you try 'alice/gitolite/foo' in this setup, it will only match the 3rd pattern. The backing repo name will be 'gitolite', which probably doesn't exist, and git will complain.</p>
<p>Also, without rule 3, trying a repo with more than 2 components won't work. Gitolite will complain that no namespace options matched. This would indicate a discrepancy between the <code>repo [...]</code> line governing those options and the options themselves; you need to fine tune one or the others to fix things.</p></li>
</ul>
<h3 id="warnings"><span class="header-section-number">3.10.6</span> WARNINGS</h3>
<h4 id="security"><span class="header-section-number">3.10.6.1</span> SECURITY</h4>
<p><strong>First and most important</strong>, please read 'man gitnamespaces' for important security information about namespaces.</p>
<p>Secondly, please note that gitolite's access control decisions are made based on the repo name that the user supplies, even if that is only a logical repo. E.g., in a sequence like this:</p>
<pre><code>git clone git@server:alice/linux                        # 1
cd alice
git remote add backing git@server:linux
git fetch backing                                       # 2
git checkout master
git push origin master                                  # 3</code></pre>
<p>Lines 1 and 3 use the access list for the logical repo (&quot;alice/linux&quot;) to allow or reject a push, while line 2, which is directly contacting the &quot;backing&quot; repo, use that repo's access rules.</p>
<p>In particular, Alice does <strong>not</strong> need write access to the backing repo for the push to succeed!</p>
<h4 id="gitolite-functionality"><span class="header-section-number">3.10.6.2</span> gitolite functionality</h4>
<p>Most things you're used to in gitolite won't work with logical repos. From the client point of view, <strong>the only features guaranteed to work on logical repos are</strong>:</p>
<ul>
<li>normal git operations (clone, fetch, push)</li>
<li>creating a new <a href="#wild">wild</a> repo</li>
<li>the <a href="#perms">perms</a> command (except the &quot;-c&quot; flag)</li>
</ul>
<p>From a server/admin point of view, <strong>the following will not work for logical repos, and may even fail silently!</strong>:</p>
<ul>
<li>smart-http mode</li>
<li>the 'config' line in gitolite.conf</li>
<li>any 'option's affecting a physical repo, like RepoUmask</li>
<li>anything that expects to be recorded somewhere in the bare repo directory.</li>
<li>...and anything else not explicitly listed as &quot;working&quot; in this doc ;-)</li>
</ul>
<h4 id="gitolite-functionality----mirroring"><span class="header-section-number">3.10.6.3</span> gitolite functionality -- mirroring</h4>
<p>Mirroring works, but <strong>all the logical repos and the backing repo should have the same mirroring setup</strong>. I.e., which server is the master, who are the slaves, are redirects allowed, if so from where, etc., etc., etc., should all have the same values for all of them. I cannot over-emphasise the importance of this for proper mirroring.</p>
<h3 id="other-notes"><span class="header-section-number">3.10.7</span> other notes</h3>
<p>The &quot;backing repo&quot; needs to exist. If it is itself a <a href="#wild">wild</a> repo, it must be auto-created <em>before</em> a logical repo that hangs off of it is accessed.</p>
<p>The logical repo must also be mentioned in the gitolite.conf file in some way, as you saw in the example. Access control decisions are made based on this one, not the backing repo.</p>
<p>One <em>quirk</em> is that, if the logical repo is a wild repo, then an actual repo with that name <em>is</em> created on disk. Gitolite needs a place to keep its repo-specific permissions so it has to do that. You will find, however, that the objects directory is pretty much empty, even after a lot of activity.</p>
<h2 id="locking"><span class="header-section-number">3.11</span> locking binary files</h2>
<p>Locking is useful to make sure that binary files (office docs, images, ...) don't get into a merge state. (<font color="gray">If you think it's not a big deal, you have never manually merged independent changes to an ODT or something!</font>)</p>
<p><strong>When git is used in a truly distributed fashion, locking is impossible.</strong> However, in most corporate setups, there is a single central server acting as the canonical source of truth and collaboration point for all developers. In this situation it should be possible to at least prevent commits from being pushed that contains changes to files locked by someone else.</p>
<p>The two &quot;lock&quot; programs (one a command that a user uses, and one a VREF that the admin adds to a repo's access rules) together attempt to achieve this.</p>
<p>Of course, locking by itself is not quite enough. You may still get into merge situations if you make changes in branches. For best results you should actually keep all the binary files in their own branch, separate from the ones containing source code.</p>
<hr />
<h3 id="problem-description"><span class="header-section-number">3.11.1</span> problem description</h3>
<p>Our users are alice, bob, and carol. Our repo is foo. It has some &quot;odt&quot; files in the &quot;doc/&quot; directory. We want to make sure these odt files never get into a &quot;merge&quot; situation.</p>
<h3 id="adminsetup"><span class="header-section-number">3.11.2</span> admin/setup</h3>
<p>First, someone with shell access to the server must add 'lock' to the ENABLE list in the rc file.</p>
<p>Next, the gitolite.conf file should have something like this:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>foo
    ...other rules...
<span class="Statement">    -</span><span class="Constant">   VREF/lock      </span>=<span class="WarningMsg">   @all</span>
</pre>

<p>However, see below for the difference between &quot;RW&quot; and &quot;RW+&quot; from the point of view of this feature and adjust permissions accordingly.</p>
<h3 id="user-view"><span class="header-section-number">3.11.3</span> user view</h3>
<p>Here's a summary:</p>
<ul>
<li>Any user with &quot;W&quot; permissions to any branch in the repo can &quot;lock&quot; any file. Once locked, no other user can push changes to that file, <em>in any branch</em>, until it is unlocked.</li>
<li>Any user with &quot;+&quot; permissions to any branch in the repo can &quot;break&quot; a lock held by someone else if needed.</li>
</ul>
<p>For best results, everyone on the team should:</p>
<ul>
<li>Switch to the branch containing the binary files when wanting to make a change.</li>
<li>Run 'git pull' or eqvt, then lock the binary file(s) before editing them.</li>
<li>Finish the editing task as quickly as possible, then commit, push, and unlock the file(s) so others are not needlessly blocked.</li>
<li>Understand that breaking a lock require additional, (out of band) communication. It is upto the team's policies what that entails.</li>
</ul>
<h3 id="detailed-example"><span class="header-section-number">3.11.4</span> detailed example</h3>
<p>Alice declares her intent to work on &quot;d1.odt&quot;:</p>
<pre><code>$ git pull
$ ssh git@host lock -l foo doc/d1.odt</code></pre>
<p>Similarly Bob starts on &quot;d2.odt&quot;</p>
<pre><code>$ git pull
$ ssh git@host lock -l foo doc/d2.odt</code></pre>
<p>Carol makes some changes to d2.odt (<strong>without attempting to lock the file or checking to see if it is already locked</strong>) and pushes:</p>
<pre><code>$ ooffice doc/d2.odt
$ git add doc/d2.odt
$ git commit -m 'added footnotes to d2 in klingon'
$ git push
&lt;...normal push progress output...&gt;
remote: FATAL: W VREF/lock testing carol DENIED by VREF/lock
remote: 'doc/d2.odt' locked by 'bob'
remote: error: hook declined to update refs/heads/master
To u2:testing
 ! [remote rejected] master -&gt; master (hook declined)
error: failed to push some refs to 'carol:foo'</code></pre>
<p>Carol backs out her changes, but saves them away for a &quot;manual merge&quot; later.</p>
<pre><code>git reset HEAD^
git stash save 'klingon changes to d2.odt saved for possible manual merge later'</code></pre>
<p>Note that this still represents wasted work in some sense, because Carol would have to somehow re-apply the same changes to the new version of d2.odt after pulling it down. <strong>This is because she did not lock the file before making changes on her local repo. Educating users in doing this is important if this scheme is to help you.</strong></p>
<p>She now decides to work on &quot;d1.odt&quot;. However, she has learned her lesson and decides to follow the protocol described above:</p>
<pre><code>$ git pull
$ ssh git@host lock -l foo doc/d1.odt
FATAL: 'doc/d1.odt' locked by 'alice' since Sun May 27 17:59:59 2012</code></pre>
<p>Oh damn; can't work on that either.</p>
<p>Carol now decides to see what else there may be. Instead of checking each file to see if she can lock it, she starts with a list of what is already locked:</p>
<pre><code>$ ssh git@host lock -ls foo

# locks held:

alice   doc/d1.odt      (Sun May 27 17:59:59 2012)
bob     doc/d2.odt      (Sun May 27 18:00:06 2012)

# locks broken:</code></pre>
<p>Aha, looks like only d1 and d2 are locked. She picks d3.odt to work on. This time, she starts by locking it:</p>
<pre><code>$ ssh git@host lock -l foo doc/d3.odt
$ ooffice doc/d3.odt
&lt;...etc...&gt;</code></pre>
<p>Meanwhile, in a parallel universe where d3.odt doesn't exist, and Alice has gone on vacation while keeping d1.odt locked, Carol breaks the lock. Carol can do this because she has RW+ permissions for the repository itself.</p>
<p>However, protocol in this team requires that she get email approval from the team lead before doing this and that Alice be in CC in those emails, so she does that first, and <em>then</em> she breaks the lock:</p>
<pre><code>$ git pull
$ ssh git@host lock --break foo doc/d1.odt</code></pre>
<p>She then locks d1.odt for herself:</p>
<pre><code>$ ssh git@host lock -l foo doc/d1.odt</code></pre>
<p>When Alice comes back, she can tell who broke her lock and when:</p>
<pre><code>$ ssh git@host lock -ls foo

# locks held:

carol   doc/d1.odt      (Sun May 27 18:17:29 2012)
bob     doc/d2.odt      (Sun May 27 18:00:06 2012)

# locks broken:

carol   doc/d1.odt      (Sun May 27 18:17:03 2012)      (locked by alice at Sun May 27 17:59:59 2012)</code></pre>
<h2 id="package"><span class="header-section-number">3.12</span> packaging gitolite</h2>
<p>Gitolite has broad similarities to git in terms of packaging requirements.</p>
<ul>
<li><p>Git has 150 executables to marshal and put somewhere. Gitolite has the directories <code>commands</code>, <code>lib</code>, <code>syntactic-sugar</code>, <code>triggers</code>, and <code>VREF</code>.</p>
<p>It doesn't matter what this directory is. As an example, Fedora keeps git's 150 executables in /usr/libexec/git-core, so /usr/libexec/gitolite may be a good choice; it's upto you.</p>
<p><em>The rest of this section will assume you chose /usr/libexec/gitolite as the location, and that this location contains the 5 directories named above</em>.</p></li>
<li><p>Git has the <code>GIT_EXEC_PATH</code> env var to point to this directory. Gitolite has <code>GL_BINDIR</code>. However, in git, the &quot;make&quot; process embeds a suitable default into the binary, making the env var optional.</p></li>
</ul>
<p>With that said, here's one way to package gitolite:</p>
<ul>
<li><p>Put the executable <code>gitolite</code> somewhere in PATH. Put the executable <code>gitolite-shell</code> in /usr/libexec/gitolite (along with those 5 directories).</p>
<p>Change the 2 assignments to <code>$ENV{GL_BINDIR}</code>, one in 'gitolite', one in 'gitolite-shell', to &quot;/usr/libexec/gitolite&quot; from <code>$FindBin::RealBin</code>. This is equivalent to &quot;make&quot; embedding the exec-path into the executable.</p>
<p><strong>OR</strong></p>
<p>Put both executables <code>gitolite</code> and <code>gitolite-shell</code> also into /usr/libexec/gitolite (i.e., as siblings to the 5 directories mentioned above). Then <em>symlink</em> <code>/usr/libexec/gitolite/gitolite</code> to some directory in the PATH. Do not <em>copy</em> it; it must be a symlink.</p>
<p>Gitolite will find the exec-path by following the symlink.</p></li>
<li><p>The <code>Gitolite</code> subdirectory in <code>/usr/libexec/gitolite/lib</code> can stay right there, <strong>OR</strong>, if your distro policies don't allow that, can be put in any directory in perl's <code>@INC</code> path (such as <code>/usr/share/perl5/vendor_perl</code>).</p></li>
<li><p>Finally, a file called <code>/usr/libexec/gitolite/VERSION</code> must contain a suitable version string.</p></li>
</ul>
<h2 id="non-core"><span class="header-section-number">3.13</span> &quot;non-core&quot; gitolite</h2>
<p>Much of gitolite's functionality comes from programs and scripts that are not considered &quot;core&quot;. This keeps the core simpler, and allows you to enhance gitolite for your own site without too much fuss.</p>
<p>Documentation for non-core gitolite is organised as follows:</p>
<ul>
<li><p>This page describes the types of non-core programs and how/where to install code that is specific to your site.</p></li>
<li><p>The <a href="#dev-notes">developer notes</a> page tells you how to write your own non-core programs.</p></li>
<li><p>The <a href="#non-core">list of non-core programs</a> talks about what's already shipped with gitolite, with a brief description of each.</p></li>
</ul>
<hr />
<h3 id="ncintro"><span class="header-section-number">3.13.1</span> core versus non-core</h3>
<p>Gitolite has five types of non-core code:</p>
<ul>
<li><em>Commands</em> can be run from the shell command line. Among those, the ones in the ENABLE list in the rc file can also be run remotely.</li>
<li><em>Hooks</em> are standard git hooks.</li>
<li><em>Sugar scripts</em> change the conf language for your convenience. The word sugar comes from &quot;syntactic sugar&quot;.</li>
<li><em>Triggers</em> are to gitolite what hooks are to git. I just chose a different name to avoid confusion and constant disambiguation in the docs.</li>
<li><em>VREFs</em> are extensions to the access control check part of gitolite.</li>
</ul>
<h3 id="ncloc"><span class="header-section-number">3.13.2</span> locations...</h3>
<h4 id="for-non-core-programs-shipped-with-gitolite"><span class="header-section-number">3.13.2.1</span> ...for non-core programs shipped with gitolite</h4>
<table><tr><td>

<p><code>gitolite query-rc GL_BINDIR</code> will tell you where gitolite's code has been installed. That directory should look like this. Among these, the directories in green are considered &quot;non-core&quot;, while the ones in red are considered &quot;core&quot;. In addition, the two files &quot;gitolite&quot; and &quot;gitolite-shell&quot; in src are also considered &quot;core&quot;</p>
<p>You might notice that there are two locations for <a href="#triggers">triggers</a>; that is simply because there are two types of them. You might also notice that there is no place for hooks -- gitolite doesn't <em>ship</em> with any hooks that are non-core.</p>
</td><td>

<pre style="font-family: 'Andale mono',monospace; margin-top: 0; font-weight: bold; padding: 4px; color: #ffffff; background-color: #000000;">

.
├──<span style="color: #00ff00">commands</span>
├── lib
│   └── Gitolite
│       ├── <span style="color: #ff0000">Conf</span>
│       ├── <span style="color: #ff0000">Hooks</span>
│       ├── <span style="color: #ff0000">Test</span>
│       └── <span style="color: #00ff00">Triggers</span>
├── <span style="color: #00ff00">syntactic-sugar</span>
├── <span style="color: #00ff00">triggers</span>
└── <span style="color: #00ff00">VREF</span>

</pre>

</td></tr></table>

<h4 id="localcode"><span class="header-section-number">3.13.2.2</span> ...for <em>your</em> non-core programs</h4>
<table><tr><td>

<p>If you want to add your own non-core programs, or even <em>override</em> the shipped ones with your own, you can.</p>
<p>Put your programs in some convenient directory and use the <code>LOCAL_CODE</code> rc variable to tell gitolite where that is. <strong>Please supply the FULL path</strong> to this variable. (You'll find the rc file already has examples lines, commented out, so it's easy to know where to put it and what syntax to use).</p>
<p>Within that directory, you can use any or all of the subdirectories shown here.</p>
<p>If you add a program in your local code directory with the same name as a shipped program, gitolite uses your version.</p>
<p><span class="gray">Notice that there are two directories related to hooks here, neither of which exist in the shipped non-core code. Also, the <code>hooks/common</code> directory is a bit special. If you add new hooks to this, you must run <code>gitolite setup</code>, or at least <code>gitolite setup --hooks-only</code>.</span></p>
</td><td>

<pre style="float: right; font-family: 'Andale mono',monospace; margin-top: 0; font-weight: bold; padding: 4px; color: #ffffff; background-color: #000000;">

.
├──<span style="color: #00ff00">commands</span>
├── hooks
│   └── <span style="color: #00ff00">common</span>
│   └── <span style="color: #00ff00">repo-specific</span>
├── lib
│   └── Gitolite
│       └── <span style="color: #00ff00">Triggers</span>
├── <span style="color: #00ff00">syntactic-sugar</span>
├── <span style="color: #00ff00">triggers</span>
└── <span style="color: #00ff00">VREF</span>

</pre>

</td></tr></table>

<h4 id="pushcode"><span class="header-section-number">3.13.2.3</span> using the gitolite-admin repo to manage non-core code</h4>
<div class="box-r" style="margin-left:4px; width: 33%">
<p><span class="red"><strong>IMPORTANT SECURITY NOTE</strong></span></p>
<p><strong>In this mode, anyone who can push changes to the admin repo will effectively be able to run any arbitrary command on the server.</strong> See <a href="#privesc">gitolite admin and shell access</a> for more background.</p>
</div>
<p>The location given in <code>LOCAL_CODE</code> could be anywhere on disk, like say <code>$ENV{HOME}/local</code>.</p>
<p>However, some administrators find it convenient to use the admin repo to manage this code as well, getting the benefits of versioning them as well as making changes to them without having to log on to the server.</p>
<p>To do this, simply point <code>LOCAL_CODE</code> to someplace inside <code>$GL_ADMIN_BASE</code> in the rc file. I <strong>strongly</strong> suggest:</p>
<pre><code>LOCAL_CODE  =&gt;  &quot;$rc{GL_ADMIN_BASE}/local&quot;,</code></pre>
<p>Then you create a directory called &quot;local&quot; in your gitolite clone, and create the directory structure (shown in the previous section) within that directory. Thus, when you push the admin repo, the files will land up, with the correct paths, in the location pointed to by LOCAL_CODE.</p>
<p>(Note: when you do this, gitolite takes care of running <code>gitolite setup --hooks-only</code> when you change any hooks and push).</p>
<h3 id="nctypes"><span class="header-section-number">3.13.3</span> types of non-core programs</h3>
<h4 id="commands"><span class="header-section-number">3.13.3.1</span> gitolite &quot;commands&quot;</h4>
<p>Gitolite comes with several commands that users can run. Remote users run commands by saying:</p>
<pre><code>ssh git@host command-name [args...]</code></pre>
<p>while on the server you can run</p>
<pre><code>gitolite command [args...]</code></pre>
<p>Very few commands are designed to be run both ways, but it can be done, by checking for the presence of env var <code>GL_USER</code>.</p>
<p>All commands respond to a single <code>-h</code> option with a suitable message.</p>
<p>You can get a <strong>list of available commands</strong> by using the <code>help</code> command. Naturally, a remote user will see a much smaller list than the server user.</p>
<p>You allow a command to be run from remote clients by adding its name to (or uncommenting it if it's already added but commented out) the ENABLE list in the <a href="#rc">rc</a> file.</p>
<h4 id="hooks"><span class="header-section-number">3.13.3.2</span> hooks and gitolite</h4>
<p>You can install any hooks except these:</p>
<ul>
<li><p>(all repos) Gitolite reserves the <code>update</code> hook. See the &quot;update hook&quot; section in <a href="#dev-notes">dev-notes</a> if you want additional update hook functionality.</p></li>
<li><p>(gitolite-admin repo only) Gitolite reserves the <code>post-update</code> hook.</p></li>
</ul>
<p>How/where to install them is described in detail in the &quot;locations&quot; section above, especially <a href="#localcode">this</a> and <a href="#pushcode">this</a>. The summary is that you put them in the &quot;hooks/common&quot; sub-directory within the directory whose name is given in the <code>LOCAL_CODE</code> rc variable, then run <code>gitolite setup</code>.</p>
<h5 id="rsh"><span class="header-section-number">3.13.3.2.1</span> repo-specific hooks</h5>
<p>If you want to add hooks only to specific repos, you can just do it manually if you wish -- just log on to the server and add hooks (except update hook and, for the special gitolite-admin repo, the post-update hook -- touch these and all bets on gitolite's functionality are off).</p>
<p>However, if you want to do that from within gitolite, and thus keep everything together, you can do that also. Here's how.</p>
<ul>
<li><p>Create a directory called <code>hooks/repo-specific</code> in whatever location you decided to use for your non-core code (i.e., direct on the server, or within the gitolite-admin repo).</p></li>
<li><p>Add your hooks here, with descriptive names (i.e., not &quot;post-receive&quot;, etc., but maybe &quot;jenkins&quot; or &quot;deploy&quot; or whatever).</p></li>
<li><p>Uncomment the 'repo-specific-hooks' line in the rc file or add it to the ENABLE list if it doesn't exist.</p>
<p>If your rc file does not have an ENABLE list, you need to add this to the POST_COMPILE and the POST_CREATE lists. Click <a href="#addtrig">here</a> for more on all this.</p></li>
<li>Now add lines like this to your conf file:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span>   foo
        option hook.post-receive    =   deploy
</pre>

<p>The syntax should be fairly obvious, but just to be clear, in this case a symlink called &quot;post-receive&quot; will be placed in foo.git/hooks, pointing to the executable called &quot;deploy&quot; in hooks/repo-specific in the local-code area.</p>
<p><strong>WARNING</strong>: if the hook already exists, it is silently overwritten.</p>
<p><strong>WARNING</strong>: once the hook is placed, you can't remove it through gitolite. That is, removing the option line won't do anything. You'll have to go to the server and remove it manually. (You could, as a simple work-around, create a &quot;no-op&quot; script that just does &quot;exit 0&quot;, and change the option line to point the hook to that, so it <em>effectively</em> gets deleted!).</p></li>
<li><span class="gray">(v3.6+)</span> You can assign multiple targets for each hook. For example, you could say
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span>   foo
        option hook.post-receive    =   deploy mail-admins
</pre>

<p>where &quot;deploy&quot; and &quot;mail-admins&quot; are pieces of code that do whatever their names suggest, and both are, independently, candidates for being run from a post-receive hook.</p>
<p>When you do this, gitolite does whatever is needed to run each of them as independent post-receive hooks (including sending them info over their STDIN as documented in 'man githooks').</p></li>
<li><span class="gray">(v3.6+)</span> You can change these hooks by saying:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span>   foo
        option hook.post-receive    =   deploy mail-admins
</pre>

or delete all of them by saying:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span>   foo
    option hook.post-receive    =   <span class="Constant">&quot;&quot;</span>
</pre>
</li>
</ul>
<h4 id="sugar"><span class="header-section-number">3.13.3.3</span> syntactic sugar</h4>
<p>Sugar scripts help you change the perceived syntax of the conf language. The base syntax of the language is very simple, so sugar scripts take something <em>else</em> and convert it into that.</p>
<p>That way, the admin sees additional features (like allowing continuation lines), while the parser in the core gitolite engine does not change.</p>
<p>If you want to write your own sugar scripts, please read the &quot;your own sugar&quot; section in <a href="#dev-notes">dev-notes</a> first then email me.</p>
<p>You enable a sugar script by uncommenting the feature name in the ENABLE list in the rc file.</p>
<h4 id="triggers"><span class="header-section-number">3.13.3.4</span> triggers</h4>
<p>Triggers have their own <a href="#triggers">page</a>.</p>
<h4 id="vrefs"><span class="header-section-number">3.13.3.5</span> VREFs</h4>
<p>VREFs also have their own <a href="#vref">page</a>.</p>
<h2 id="dev-notes"><span class="header-section-number">3.14</span> writing your own &quot;non-core&quot; programs</h2>
<p>Gitolite has a huge bunch of existing features that gradually need to be moved over. Plus you may want to write your own programs to interact with it.</p>
<p><strong>This page is about <em>writing</em> hooks, commands, triggers, VREFS, and sugar scripts. <em>Installing</em> them, including &quot;where and how&quot;, is described <a href="#localcode">here</a></strong>.</p>
<p>Note: the <a href="#non-core">non-core</a> page is the starting point for all information about customising gitolite.</p>
<h3 id="environment-variables-and-other-inputs"><span class="header-section-number">3.14.1</span> environment variables and other inputs</h3>
<p>In general, the following environment variables should always be available:</p>
<pre><code>GL_BINDIR
GL_REPO_BASE
GL_ADMIN_BASE</code></pre>
<p>In addition, commands invoked by a remote client also have <code>GL_USER</code>, while hooks have <code>GL_USER</code> as well as <code>GL_REPO</code>.</p>
<p>A special form of the <a href="#options">option</a> syntax can be used to set <a href="#rsev">repo-specific environment variables</a>.</p>
<p>Finally, note that triggers get a lot of relevant information from gitolite as arguments; see <a href="#triggers">here</a> for details.</p>
<h3 id="apis"><span class="header-section-number">3.14.2</span> APIs</h3>
<h4 id="the-shell-api"><span class="header-section-number">3.14.2.1</span> the shell API</h4>
<p>The following commands exist to help you write shell scripts that interact easily with gitolite. Each of them responds to <code>-h</code> so please run that for more info.</p>
<ul>
<li><p><code>gitolite access</code> to check access rights given repo, user, type of access (R, W, ...) and refname (optional). Example use: src/commands/desc.</p></li>
<li><p><code>gitolite creator</code> to get/check the creator of a repo. Example use: src/commands/desc.</p></li>
<li><p><code>gitolite git-config</code> to check gitolite options or git config variables directly from gitolite's &quot;compiled&quot; output, (i.e., without looking at the actual <code>repo.git/config</code> file or using the <code>git config</code> command). Example use: src/triggers/post-compile/update-gitweb-access-list.</p></li>
<li><p><code>gitolite query-rc</code> to check the value of an RC variable. Example use: src/commands/desc.</p></li>
</ul>
<p>In addition, you can also look at the comments in src/lib/Gitolite/Easy.pm (the perl API module) for ideas.</p>
<h4 id="the-perl-api"><span class="header-section-number">3.14.2.2</span> the perl API</h4>
<p>...is implemented by Gitolite::Easy; the comments in src/lib/Gitolite/Easy.pm serve as documentation.</p>
<p>Note that some of the perl functions called by Easy.pm will change the current directory to something else, without saving and restoring the directory. Patches (to Easy.pm <em>only</em>) welcome.</p>
<h3 id="writing-your-own..."><span class="header-section-number">3.14.3</span> writing your own...</h3>
<h4 id="commands"><span class="header-section-number">3.14.3.1</span> ...commands</h4>
<p>Commands are standalone programs, in any language you like. They simply receive the arguments you append. In addition, the env var <code>GL_USER</code> is available if it is being run remotely. src/commands/desc is the best example at present.</p>
<h4 id="hooks"><span class="header-section-number">3.14.3.2</span> ...hooks</h4>
<h5 id="anything-but-the-update-hook"><span class="header-section-number">3.14.3.2.1</span> anything but the update hook</h5>
<p>If you want to add any hook other than the update hook, 'man githooks' is all you need.</p>
<h5 id="update-hook"><span class="header-section-number">3.14.3.2.2</span> update hook</h5>
<p>If you want to add additional <code>update</code> hook functionality, do this:</p>
<ul>
<li><p>Write and test your update hook separately from gitolite.</p></li>
<li><p>Now add the code as a VREF (see <a href="#localcode">here</a> for details). Let's say you called it &quot;foo&quot;.</p>
<p>NOTE: if you don't care about all the extra stuff that VREFs give you over a normal update hook, you don't have to read that page at all; just put the code in the right place and go to the next step.</p></li>
<li>To call your new update hook to all accesses for all repos, add this to the end of your conf file:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span><span class="Identifier">@all</span>
<span class="Statement">        -</span><span class="Constant">       VREF/foo        </span>=<span class="WarningMsg">   @all</span>
</pre>
</li>
</ul>
<p>As you probably guessed, you can make your additional update hooks more selective, applying them only to some repos / users / combinations.</p>
<p>Note: a normal update hook expects 3 arguments (ref, old SHA, new SHA). A VREF will get those three, followed by at least 4 more. Your VREF should just ignore the extra args.</p>
<h4 id="trigger-programs"><span class="header-section-number">3.14.3.3</span> ...trigger programs</h4>
<p>Trigger programs run at specific points in gitolite's execution, with specific arguments being passed to them. See the <a href="#triggers">triggers</a> page for details.</p>
<p>You can write programs that are both manually runnable as well as callable by trigger events, especially if they don't <em>need</em> any arguments.</p>
<h4 id="sugar"><span class="header-section-number">3.14.3.4</span> ...&quot;sugar&quot;</h4>
<p>Syntactic sugar helpers are NOT complete, standalone, programs. They must include a perl sub called <code>sugar_script</code> that takes in a listref, and returns a listref. The listrefs point to a list that contains the entire conf file (with all <a href="#include">include</a> processing already done). You create a new list with contents modified as you like and return a ref to it.</p>
<p>There are a couple of examples in src/syntactic-sugar.</p>
<h3 id="rsev"><span class="header-section-number">3.14.4</span> appendix 1: repo-specific environment variables</h3>
<p>A special form of the <a href="#options">option</a> syntax can be used to set repo-specific environment variables that are visible to gitolite triggers and any git hooks you may install.</p>
<p>For example, let's say you installed a post-update hook that initiates a CI job. By default, of course, this hook will be active for <em>all</em> gitolite-managed repos. However, you only want it to run for some specific repos, say r1, r2, and r4.</p>
<p>To do that, first add this to the gitolite.conf:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>r1 r2 r4
    option ENV.CI = 1
</pre>

<p>This creates an environment variable called <code>GL_OPTION_CI</code> with the value 1, before any trigger or hook is invoked.</p>
<p>Note: option names <em>must</em> start with <code>ENV.</code>, followed by a seqence of characters composed of alphas, numbers, and the underscore character.</p>
<p>Now the hook running the CI job can easily decide what to do:</p>
<pre><code># exit if $GL_OPTION_CI is not set
[ -z $GL_OPTION_CI ] &amp;&amp; exit

... rest of CI job code as before ...</code></pre>
<p>Of course you can also do the opposite; i.e. decide that the listed repos should <em>not</em> run the CI job but all other repos should:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="Identifier">@all</span>
    option ENV.CI = 1

<span class="Type">repo </span>r1 r2 r4
    option ENV.CI = <span class="Constant">&quot;&quot;</span>
</pre>

<p>(The hook code remains the same as before.)</p>
<p><font color="gray">Before this feature was added, you could still do this, by using the <code>gitolite git-config</code> command inside the hook code to test for options and configs set for the repo, like:</p>
<pre><code>if gitolite git-config -q reponame gitolite-options.option-name
then
    ...</code></pre>
<p>The new method is much more convenient, as you can see.</font></p>
<h3 id="lff"><span class="header-section-number">3.14.5</span> appendix 2: log file format</h3>
<p>Here's a brief description of gitolite's log file format. All fields are tab separated.</p>
<p>There are two kinds of lines in the log file:</p>
<ul>
<li><p>third field non-empty: actual log lines. These are documented below.</p></li>
<li><p>third field empty (i.e., two tabs after the second field): extra output to help diagnose problems. These are NOT documented and may change without notice. They can be turned off completely by setting the RC variable <code>LOG_EXTRA</code> to 0.</p></li>
</ul>
<p>For all types of log lines, the first two fields are:</p>
<ul>
<li><p>field 1: local time, in YYYY-MM-DD.HH:MM:SS format</p></li>
<li><p>field 2: transaction ID or &quot;TID&quot;. This is actually the PID of the outermost command that was initiated (usually &quot;gitolite-shell&quot;). It helps to keep log lines pertaining to one &quot;run&quot; together, even if several sub-commands are spawned (like for example from triggers, or even the update hook itself).</p></li>
</ul>
<p>The third and later fields are all dependent on what type of log line it is.</p>
<p>The various log line formats are:</p>
<ul>
<li><p><strong>start</strong></p>
<p>This line denotes the beginning of a gitolite operation.</p>
<ul>
<li><p>field 3: 'ssh' or 'http'</p></li>
<li><p>field 4: <code>ARGV=&lt;comma-separated list of command line arguments&gt;</code></p>
<p>Usually this is just the gitolite username (the argument to gitolite-shell, as supplied by the forced command in the authorized keys file). If you're <a href="#giving-shell">giving shell access</a> to some users, this would be &quot;-s,username&quot;. That's two command line arguments (&quot;-s&quot; and the username), comma separated.</p></li>
<li><p>field 5: <code>SOC=&lt;original command from client&gt;</code></p>
<p>This is the command exactly as the git client sent it, or the user typed it. Typically this is one of these:</p>
<pre><code>git-upload-pack 'reponame'
git-receive-pack 'reponame'</code></pre>
<p>(including the single quotes, because that's what the client sent).</p>
<p>Gitolite commands are also recorded as is, so this could be something like <code>info</code> or perhaps <code>perms -l reponame</code> etc.</p></li>
<li><p>field 6: <code>FROM=&lt;ip address&gt;</code></p></li>
</ul></li>
<li><p><strong>pre-git</strong></p>
<p>This log line appears when the first access check succeeds (i.e., before git-upload-pack or git-receive-pack is called).</p>
<ul>
<li>field 3: 'pre_git'</li>
<li>field 4: reponame</li>
<li>field 5: username</li>
<li>field 6: 'R' or 'W'</li>
<li>field 7: 'any'</li>
<li>field 8: the refex that allowed access</li>
</ul></li>
<li><p><strong>update</strong></p>
<p>This log line appears when the second access check succeeds (i.e., when the update hook decides to allow the push).</p>
<ul>
<li>field 3: 'update'</li>
<li>field 4: reponame</li>
<li>field 5: username</li>
<li>field 6: 'W', '+', 'C', 'D', 'WM', '+M', 'CM', or 'DM'</li>
<li>field 7: ref name (like 'refs/heads/master')</li>
<li>field 8: old SHA</li>
<li>field 9: new SHA</li>
<li>field 10: the refex that allowed access</li>
</ul>
<p>The values in field 6 reflect the possible <a href="#write-types">write types</a>, but note that there is a difference between what the log file contains and what the gitolite.conf file contains (e.g., <code>+</code> versus <code>RW+</code>). There's another subtle difference for those who are not thinking clearly: the <code>RW+</code> in the conf file is a permission, but it would show up as a <code>+</code> in the log file only if an <em>actual</em> force push had happened, otherwise it would be just <code>W</code>.</p>
<p>By the way, notice that fields 7 to 9 are exactly what git itself supplies the update hook (see 'man githooks').</p>
<p><font color="gray">There is a special version of this line that appears when someone <a href="#bypass">bypasses</a> gitolite's access control to push directly on the server. The 'reponame' (field 4) is replaced by the full path of the repo being pushed to, the username (field 5) is replaced by the Unix userid in parentheses, and the operation code (field 6) is 'bypass'.</font></p></li>
<li><p><strong>create</strong></p>
<p>This log line appears when a wild repo was auto-created by a user.</p>
<ul>
<li>field 3: 'create'</li>
<li>field 4: reponame</li>
<li>field 5: username</li>
<li>field 6: 'R' or 'W'</li>
</ul>
<p>Field 6 is 'perms-c' if the wild repo is created using the perms command's '-c' option.</p></li>
<li><p><strong>end</strong></p>
<p>This indicates the end of the transaction. Normally, you should not see any more lines with the same TID after this line.</p>
<ul>
<li>field 3: 'END'</li>
</ul></li>
<li><p><strong>warnings</strong> and <strong>errors</strong></p>
<p>Typically seen when access is denied.</p>
<ul>
<li>field 3: 'warn' or 'die'</li>
<li>field 4: message. Parts of the message (like reponame, username, etc) are not split out into fields, though.</li>
</ul></li>
<li><p><strong>cli</strong></p>
<p>This logs gitolite sub-commands run directly on the server, like <code>gitolite setup</code> etc.</p>
<ul>
<li>field 3: 'cli'</li>
<li>field 4: 'gitolite'</li>
<li>field 5 to end: arguments supplied to gitolite command, one per field</li>
</ul></li>
</ul>
<h3 id="appendix-3-v3.6.1-syslog"><span class="header-section-number">3.14.6</span> appendix 3: <span class="gray">(v3.6.1+)</span> syslog</h3>
<p>Gitolite allows you to send log entries to syslog. To do that, uncomment one of the commented out values for LOG_DEST in the rc file. If your rc file does not have any such lines, add one of the following lines just after the LOG_EXTRA line:</p>
<pre><code># use this to log only to syslog
LOG_DEST                        =&gt; 'syslog',

# use this to log to syslog and the normal gitolite log
LOG_DEST                        =&gt; 'syslog,normal',</code></pre>
<p>Please note:</p>
<ul>
<li><p>The first two fields described in the previous section (time, TID) are different. Syslog takes care of putting in the time, and the TID is appended to the ident, so instead of just 'gitolite', you get 'gitolite[$GL_TID]'.</p>
<p>This means actual log lines will look something like this, since syslog appends the actual PID to the ident as well:</p>
<pre><code>Jun  3 09:26:11 sita-lt gitolite[14950][14950]: ssh ARGV=admin  SOC=git-receive-pack 'gitolite-admin'   FROM=::1
Jun  3 09:26:11 sita-lt gitolite[14950][14950]: pre_git gitolite-admin  admin   W   any refs/.*
Jun  3 09:26:11 sita-lt gitolite[14950][14991]: update  gitolite-admin  admin   W   refs/heads/master   [snip]
Jun  3 09:26:13 sita-lt gitolite[14950][14950]: END</code></pre></li>
<li><p>Normal log messages use the 'info' priority, while LOG_EXTRA messages (see previous section) use the 'debug' priority.</p>
<p>It may be useful to send the debug output to a different output file. Unlike in the normal gitolite logs, where there is an extra tab character (or, an empty field, depending on how you look at it), the syslog lines do not let you easily distinguish between the main log lines and the LOG_EXTRA lines.</p></li>
</ul>
<h2 id="triggers"><span class="header-section-number">3.15</span> gitolite triggers</h2>
<p>Gitolite runs trigger code at several different times. The features you enable in the <a href="#rc">rc</a> file determine what commands to run (or functions in perl modules to call) at each trigger point. Example of trigger points are &quot;INPUT&quot;, &quot;PRE_GIT&quot;, &quot;POST_COMPILE&quot;, etc.; the full list is examined later in this page.</p>
<p><span class="gray">Quick tip: triggers are to gitolite what hooks are to git; we simply use a different name to avoid constantly having to clarify which hooks we mean! The other difference in gitolite is that each trigger runs multiple pieces of code, not just one program with the same name as the hook, like git does.)</span></p>
<h3 id="types-of-trigger-programs"><span class="header-section-number">3.15.1</span> types of trigger programs</h3>
<p>There are two types of trigger programs. Standalone scripts are placed in triggers or its subdirectories. Such scripts are quick and easy to write in any language of your choice.</p>
<p>Triggers written as perl modules are placed in lib/Gitolite/Triggers. Perl modules have to follow some conventions (see some of the shipped modules for ideas) but the advantage is that they can set environment variables and change the argument list of the gitolite-shell program that invokes them.</p>
<p>If you intend to write your own triggers, it's a good idea to examine a default install of gitolite, paying attention to:</p>
<ul>
<li>the path names in various trigger lists in the rc file,</li>
<li>corresponding path names in the src/ directory in gitolite source, and</li>
<li>and for perl modules, the package names and function names within.</li>
</ul>
<h3 id="manually-firing-triggers"><span class="header-section-number">3.15.2</span> manually firing triggers</h3>
<p>It's easy to manually fire triggers from the server command line. For example:</p>
<pre><code>gitolite trigger POST_COMPILE</code></pre>
<p>However if the triggered code depends on arguments (see next section) this won't work. (The <code>POST_COMPILE</code> trigger programs all just happen to not require any arguments, so it works).</p>
<h3 id="common-arguments"><span class="header-section-number">3.15.3</span> common arguments</h3>
<p>Triggers receive the following arguments:</p>
<ol style="list-style-type: decimal">
<li><p>Any arguments mentioned in the rc file (for an example, see the renice command).</p></li>
<li><p>The name of the trigger as a string (example, <code>&quot;POST_COMPILE&quot;</code>), so you can call the same program from multiple triggers and it can know where it was called from.</p></li>
<li><p>And finally, zero or more arguments specific to the trigger, as given in the next section.</p></li>
</ol>
<h3 id="trigger-specific-arguments-and-other-details"><span class="header-section-number">3.15.4</span> trigger-specific arguments and other details</h3>
<p>Here are the <strong>rest of</strong> the arguments for each trigger, plus a brief description of when the trigger runs. (Note that when the repo name is passed in as an argument, it is without the '.git' suffix).</p>
<ul>
<li><p><code>INPUT</code> runs before pretty much anything else. INPUT trigger scripts <em>must</em> be in perl, since they manipulate the arguments and the environment of the 'gitolite-shell' program itself. Most commonly they will read/change <code>@ARGV</code>, and/or <code>$ENV{SSH_ORIGINAL_COMMAND}</code>.</p>
<p>There are certain conventions to adhere to; please see some of the shipped samples or ask me if you need help writing your own.</p></li>
<li><code>ACCESS_1</code> runs after the first access check. Extra arguments:
<ul>
<li>repo</li>
<li>user</li>
<li>'R' or 'W'</li>
<li>'any'</li>
<li>result (see notes below)</li>
</ul>
<p>'result' is the return value of the access() function. If it contains the uppercase word &quot;DENIED&quot;, the access was rejected. Otherwise it is the refex that caused the access to succeed.</p>
<p><em>Please note that if access is rejected, gitolite-shell will die as soon as it returns from the trigger</em>.</p></li>
<li><code>ACCESS_2</code> runs after the second access check, which is invoked by the update hook to check the ref. Extra arguments:
<ul>
<li>repo</li>
<li>user</li>
<li>any of W, +, C, D, WM, +M, CM, DM</li>
<li>the ref being updated (e.g., 'refs/heads/master')</li>
<li>result</li>
<li>old SHA</li>
<li>new SHA</li>
</ul>
<p><code>ACCESS_2</code> also runs on each <a href="#vref">VREF</a> that gets checked. In this case the &quot;ref&quot; argument will start with &quot;VREF/&quot;, and the last two arguments won't be passed.</p>
<p>'result' is similar to <code>ACCESS_1</code>, except that it is the <em>update hook</em> which dies as soon as access is rejected for the ref or any of the VREFs. Control then returns to git, and then to gitolite-shell, so the <code>POST_GIT</code> trigger <em>will</em> run.</p></li>
<li><code>PRE_GIT</code> and <code>POST_GIT</code> run just before and after the git command. Extra arguments:
<ul>
<li>repo</li>
<li>user</li>
<li>'R' or 'W'</li>
<li>'any'</li>
<li>the git command ('git-receive-pack', 'git-upload-pack', or 'git-upload-archive') being invoked.</li>
</ul>
<p><strong>NOTE</strong> that the <code>POST_GIT</code> trigger has no way of knowing if the push succeeded, because 'git-shell' (or maybe 'git-receive-pack', I don't know) exits cleanly even if the update hook died.</p></li>
<li><p><code>PRE_CREATE</code> and <code>POST_CREATE</code> run just before and after a new repo is created. In addition, any command that creates a repo (like 'fork') or potentially changes permissions (like 'perms') may choose to run <code>POST_CREATE</code>.</p>
Extra arguments for normal repo creation (i.e., by adding a &quot;repo foo&quot; line to the conf file):
<ul>
<li>repo</li>
</ul>
Extra arguments for wild repo creation:
<ul>
<li>repo</li>
<li>user</li>
<li>invoking operation
<ul>
<li>'R' for fetch/clone/ls-remote, 'W' for push</li>
<li>can also be anything set by the command running the trigger (e.g., see the perms and fork commands). This lets the trigger code know how it was invoked.</li>
</ul></li>
</ul></li>
<li><p><code>POST_COMPILE</code> runs after an admin push has successfully &quot;compiled&quot; the config file. By default, the next thing is to update the ssh authkeys file, then all the 'git-config's, gitweb access, and daemon access.</p>
<p>No extra arguments.</p></li>
</ul>
<h3 id="addtrig"><span class="header-section-number">3.15.5</span> adding your own scripts to a trigger</h3>
<p><span class="box-r">Note: for gitolite v3.3 or less, adding your own scripts to a trigger list was simply a matter of finding the trigger name in the rc file and adding an entry to it. Even for gitolite v3.4 or higher, if your rc file was created before v3.4, <em>it will continue to work, and you can continue to add triggers to it the same way as before</em>.</span></p>
<p>The rc file (from v3.4 on) does not have trigger lists; it has a simple list of &quot;features&quot; within a list called &quot;ENABLE&quot; in the rc file. Simply comment out or uncomment appropriate entries, and gitolite will <em>internally</em> create the trigger lists correctly.</p>
<p>This is fine for triggers that are shipped with gitolite, but does present a problem when you want to add your own.</p>
<p>Here's how to do that: Let's say you wrote yourself a trigger script called 'foo', to be invoked from the <code>POST_CREATE</code> trigger list. To do that, just add the following to the <a href="#rc">rc</a> file, just before the ENABLE section:</p>
<pre><code>POST_CREATE                 =&gt;
    [
        'foo'
    ],</code></pre>
<p>Since the ENABLE list pulls in the rest of the trigger entries, this will be <em>effectively</em> as if you had done this in a v3.3 rc file:</p>
<pre><code>POST_CREATE                 =&gt;
    [
        'foo',
        'post-compile/update-git-configs',
        'post-compile/update-gitweb-access-list',
        'post-compile/update-git-daemon-access-list',
    ],</code></pre>
<p>As you can see, the 'foo' gets added to the top of the list.</p>
<h4 id="displaying-the-resulting-trigger-list"><span class="header-section-number">3.15.5.1</span> displaying the resulting trigger list</h4>
<p>You can use the 'gitolite query-rc' command to see what the trigger list actually looks like. For example:</p>
<pre><code>gitolite query-rc POST_CREATE</code></pre>
<h3 id="tips-and-examples"><span class="header-section-number">3.15.6</span> tips and examples</h3>
<ol style="list-style-type: decimal">
<li><p>If you have code that latches onto more than one trigger, collecting data (such as for logging), then the outputs may be intermixed. You can record the value of the environment variable <code>GL_TID</code> to tie together related entries.</p>
<p>The documentation on the <a href="#lff">log file format</a> has more on this.</p></li>
<li><p>If you look at CpuTime.pm, you'll see that it's <code>input()</code> function doesn't set or change anything, but does set a package variable to record the start time. Later, when the same module's <code>post_git()</code> function is invoked, it uses this variable to determine elapsed time.</p>
<p><em>(This is a very nice and simple example of how you can implement features by latching onto multiple events and sharing data to do something)</em>.</p></li>
<li><p>You can even change the reponame the user sees, behind his back. Alias.pm handles that.</p></li>
<li><p>Finally, as an exercise for the reader, consider how you would create a brand new env var that contains the <em>comment</em> field of the ssh pubkey that was used to gain access, using the information <a href="#kfn">here</a>.</p></li>
</ol>
<h2 id="list-non-core"><span class="header-section-number">3.16</span> non-core features shipped with gitolite</h2>
<p><strong>Important Notes on &quot;non-core&quot; features</strong>:</p>
<ol style="list-style-type: decimal">
<li><p>The <a href="#non-core">&quot;non-core&quot; gitolite</a> page is the starting point for all information about ... non-core gitolite :)</p></li>
<li><p>This page decribes many of the non-core features that come with gitolite. If a non-core feature is shipped with gitolite, but information about it is not found in this page, it can be found within the source code; please look there.</p>
<p><a href="#commands">Commands</a>, however, have some extra magic, which is not available to the other types of non-core programs:</p>
<ul>
<li><p>Running the command with a single <code>-h</code> option (i.e., <code>gitolite     &lt;command&gt; -h</code> or <code>ssh git@host &lt;command&gt; -h</code>), will display a suitable message. Please report a bug to me if one of them doesn't.</p></li>
<li><p>Running 'help', (either as <code>gitolite help</code> on the server, or <code>ssh     git@host help</code> remotely), will give you a list of commands you are allowed to run.</p></li>
</ul></li>
<li><p>Non-core code is <strong>meant</strong> to be <a href="#localcode">localised for your site</a> if you don't like what the shipped version does. You can even maintain it <a href="#pushcode">within your gitolite-admin repo</a> if you wish.</p></li>
</ol>
<h3 id="commands-1"><span class="header-section-number">3.16.1</span> commands</h3>
<p>This is a list of commands that are available in gitolite, with brief descriptions and, if available, a link to more detailed information. Note that in most cases running it with <code>-h</code> will give you enough to work with.</p>
<p>Also note that not all of these commands are available remotely.</p>
<p>(The more common/important commands are in bold).</p>
<ul>
<li><em>access</em> -- print or test access rights for repo/user</li>
<li><em>create</em> -- create a wild repo</li>
<li><em>creator</em> -- print or test creator name for wild repo</li>
<li><em>D</em> -- lets you <em>D</em>elete wild repos created using the <em>C</em> permission :)</li>
<li><strong>desc</strong> -- show/set description for wild repo</li>
<li><em>fork</em> -- fork a repo on the server. This uses the <code>-l</code> option to git clone, so it runs really fast</li>
<li><em>git-config</em> -- print (or text existence of) 'config' values in the repo. (Don't forget that <code>option foo.bar = 1</code> is merely syntactic sugar for <code>config gitolite-options.foo.bar = 1</code>, so this can be used to query gitolite options also</li>
<li><strong>help</strong> -- see note 1 at the top of this page</li>
<li><em>htpasswd</em> -- sets your htpasswd</li>
<li><strong><a href="#info">info</a></strong> -- print git/gitolite version, list repos you have access to</li>
<li><em><a href="#locking">lock</a></em> -- lock binary files for exclusive use (in combination with the 'lock' VREF)</li>
<li><em><a href="#sync">mirror</a></em> -- manually mirror a repo to a slave</li>
<li><strong><a href="#perms">perms</a></strong> -- list or set permissions for wild repo</li>
<li><em><a href="#bypass">push</a></em> -- push a gitolite repo locally, bypassing gitolite</li>
<li><em>rsync</em> -- bundling support for gitolite</li>
<li><em>sshkeys-lint</em> -- look for potential problems in ssh keys</li>
<li><em><a href="#sskm">sskm</a></em> -- self-service key management</li>
<li><em>sudo</em> -- allows an admin (i.e., someone who has push rights to the 'gitolite-admin' repo) to run any remote command as some other user. This is useful, for example, when a user claims he is unable to access a repo, and you need to check the 'info' output for him, etc. However, it does not work the other way, sorry!</li>
<li><em>symbolic-ref</em> -- run <code>git symbolic-ref</code> on a repo, remotely</li>
<li><em>who-pushed</em> -- determine who pushed a given commit</li>
<li><em>writable</em> -- disable/enable writes to specific repo (or all repos, if you're an admin)</li>
</ul>
<h3 id="syntactic-sugar"><span class="header-section-number">3.16.2</span> syntactic sugar</h3>
<p>The following &quot;sugar&quot; programs are available:</p>
<ul>
<li><em>continuation-lines</em> -- allow C-style backslash escaped continuation lines in the conf file</li>
<li><em>keysubdirs-as-groups</em> -- use the last component of the sub-directory name within keydir as a group name</li>
<li><strong>macros</strong> -- simple line-wise macro processor</li>
</ul>
<h3 id="triggers-1"><span class="header-section-number">3.16.3</span> triggers</h3>
<p>Here's a list of <strong>features</strong> that are enabled by <a href="#triggers">triggers</a>, or a combination of a trigger and something else, like a command.</p>
<ul>
<li><em>Alias</em> -- allow repos to have aliases</li>
<li><em>AutoCreate</em> -- deny auto-create of wild repos on R or RW access</li>
<li><em>bg</em> -- allow long running post-compile/post-create jobs to be backgrounded</li>
<li><em>CpuTime</em> -- CPU and elapsed times for gitolite+git</li>
<li><strong><a href="#mirroring">Mirroring</a></strong> -- mirroring all or some repos</li>
<li><em>Motd</em> <span class="gray">(v3.6.1+)</span> -- allows printing a message of the day to STDERR in ssh mode</li>
<li><em><a href="#partial-copy">partial-copy</a></em> -- simulated read control for branches (in combination with the partial-copy VREF)</li>
<li><em>RefexExpr</em> -- (in combination with VREF/refex-expr) logical expressions over refexes, like &quot;refex-1 and not refex-2&quot;. (Example: changing file 'foo' but not on 'master' branch)</li>
<li><em>renice</em> -- renice the git operation</li>
<li><em>RepoUmask</em> -- repo-specific umask settings</li>
<li><em>Shell</em> -- see &quot;giving shell access to gitolite users&quot; in the <a href="#sts">ssh troubleshooting and tips</a> page. (Internally enables the 'ssh-authkeys-shell-users' trigger also).</li>
<li><em>ssh-authkeys-split</em> -- split pubkey files with multiple keys into separate files with one pubkey each</li>
<li><em>update-description-file</em> -- if you want the 'description' file to be updated instead of the 'gitweb.description' config entry (e.g. cgit users)</li>
<li><em>upstream</em> -- manage local, gitolite-controlled, copies of read-only upstream repos</li>
</ul>
<p>In addition, the following post-compile trigger scripts are enabled by default, so are included here only for completeness and in case you wish to disable them:</p>
<ul>
<li>ssh-authkeys -- process keys in keydir/ and add/update appropriate lines to the authorized keys file</li>
<li>update-git-configs -- run <code>git config</code> in each repo to add/update entries as needed</li>
<li>update-git-daemon-access-list -- create/delete the 'git-daemon-export-ok' files in each repo as needed</li>
<li>update-gitweb-access-list -- create the &quot;projects.list&quot; file that gitweb uses to determine what repos to show/not show</li>
</ul>
<h3 id="vrefs-1"><span class="header-section-number">3.16.4</span> VREFs</h3>
<p>VREFs are a complex topic and have their <a href="#vref">own page</a> with lots more details. However, here's a list of VREFs shipped with gitolite:</p>
<ul>
<li><em><a href="#COUNT">COUNT</a></em> -- restrict pushes by number of changed or new files pushed</li>
<li><em>EMAIL-CHECK</em> -- check if all new commits are authored by the person pushing</li>
<li><em><a href="#locking">lock</a></em> -- lock binary files for exclusive use (in combination with the 'lock' command)</li>
<li><em>MAX_NEWBIN_SIZE</em> -- restrict by size of new binary files (helps catch people checking in random PDFs, JARs, WARs, etc.)</li>
<li><strong><a href="#NAME">NAME</a></strong> -- restrict pushes by dir/file name</li>
<li><a href="#partial-copy">partial-copy</a> -- simulated read control for branches (in combination with the partial-copy trigger)</li>
<li><em>refex-expr</em> -- (in combination with the refex-expr trigger) logical expressions over refexes, like &quot;refex-1 and not refex-2&quot;. (Example: changing file 'foo' but not on 'master' branch)</li>
<li><em><a href="#votes">VOTES</a></em> -- voting on commits a la gerrit</li>
</ul>
<h3 id="details-on-some-non-core-programs"><span class="header-section-number">3.16.5</span> details on some non-core programs</h3>
<p>These non-core programs needed more detail than could be provided in the source code, but did not fit anywhere else neatly enough.</p>
<h4 id="partial-copy"><span class="header-section-number">3.16.5.1</span> partial-copy: selective read control for branches</h4>
<p>Git (and therefore gitolite) cannot do selective read control -- allowing someone to read branch A but not branch B. It's the entire repo or nothing.</p>
<p><font color="gray">(Side note: Gerrit Code Review can do that, but that is because they have their own git stack (and their own sshd, and so on) all in one big Java program. Gerrit is <em>really</em> useful if you want code review to be part of the access control decision) </font></p>
<p>Gitolite can now help you do this. Note that this is only for branches; you can't do this for files and directories.</p>
<p>Here's how:</p>
<ol style="list-style-type: decimal">
<li><p>enable 'partial-copy' in the ENABLE list in the rc file.</p></li>
<li>for each repo &quot;foo&quot; which has secret branches that a certain set of developers (we'll use a group called <code>@temp-emp</code> as an example) are not supposed to see, do this:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">    repo </span>foo
       <span class="Comment"> # rules should allow @temp-emp NO ACCESS</span>
     
<span class="Type">    repo </span>foo-partialcopy-1
<span class="Statement">        -</span><span class="Constant">   secret-branch               </span>=<span class="WarningMsg">   @temp-emp</span>
     
       <span class="Comment"> # other rules; see notes below</span>
     
<span class="Statement">        -</span><span class="Constant">   VREF/partial-copy           </span>=<span class="WarningMsg">   @all</span>
<span class="Statement">        config </span><span class="Identifier">gitolite.partialCopyOf   </span>=   foo
</pre>

<!-- the above block uses Unicode 00A0 (space) to make it look like one block!  -->

<p><strong>IMPORTANT NOTES</strong>:</p>
<ul>
<li><p>if you're using other VREFs, <strong>make sure</strong> this one is placed at the end, after all the others.</p></li>
<li><p>remember that any change allowed to be made to the partial-copy repo will propagate to the main repo so make sure you use other rules to restrict pushes to other branches and tags as needed.</p></li>
</ul></li>
</ol>
<p>And that should be it. <strong>Please test it and let me know if it doesn't work!</strong></p>
<p>WARNINGS:</p>
<ul>
<li><p>If you change the config to disallow something that used to be allowed, you should delete the partial repo on the server and then run <code>gitolite     compile; gitolite trigger POST_COMPILE</code> to let it build again.</p></li>
<li><p>Not tested with smart http; probably won't work.</p></li>
<li><p>Also not tested with mirroring, or with wild card repos.</p></li>
</ul>
<h1 id="extras"><span class="header-section-number">4</span> extras</h1>
<h2 id="odds-and-ends"><span class="header-section-number">4.1</span> odds and ends</h2>
<p>This page has a bunch of stuff that didn't seem to fit anywhere.</p>
<h3 id="writable"><span class="header-section-number">4.1.1</span> disabling pushes to take backups</h3>
<p>The <code>writable</code> command allows you to disable pushes to all repos or just the named repo, in order to do file-system level things to the repo directory that require it not to change, like using normal backup software.</p>
<p>Run <code>gitolite writable -h</code> for more info.</p>
<h3 id="elsewhere"><span class="header-section-number">4.1.2</span> putting 'repositories' and '.gitolite' elsewhere</h3>
<p>Gitolite insists that the &quot;repositories&quot; and &quot;.gitolite&quot; directories be in <code>$HOME</code>. If you want them somewhere else:</p>
<ul>
<li>do the install as normal,</li>
<li><em>then</em> move those directories to wherever you want and replace them with symlinks pointing to the new location.</li>
</ul>
<h3 id="keysonly"><span class="header-section-number">4.1.3</span> using pubkeys obtained from elsewhere</h3>
<p>If you're not managing keys via the gitolite-admin repo, but getting them from somewhere else, you'll want to periodically &quot;update&quot; the keys.</p>
<p>To do that, first edit your rc file and add something like this:</p>
<pre><code>SSH_AUTHKEYS                =&gt;
    [
        'post-compile/ssh-authkeys',
    ],</code></pre>
<p>Then write a script that</p>
<ul>
<li>gets all the keys and dumps them into <code>$HOME/.gitolite/keydir</code> (or into a subdirectory of it), and</li>
<li>runs <code>gitolite trigger SSH_AUTHKEYS</code>.</li>
</ul>
<p>Run this from cron or however you want.</p>
<h3 id="gh"><span class="header-section-number">4.1.4</span> giving users their own repos</h3>
<p>(Please see <a href="#wild">this</a> for background on the ideas in this section).</p>
<p>It's very easy to give users their own set of repos to create, with the username at the top level. The simplest setup is:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span><span class="PreProc">CREATOR</span>/..*
<span class="Statement">    C</span><span class="Constant">   </span>=   <span class="Identifier">@all</span>
<span class="Statement">    RW+</span><span class="Constant"> </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">    RW</span><span class="Constant">  </span>=   <span class="PreProc">WRITERS</span>
<span class="Statement">    R</span><span class="Constant">   </span>=   <span class="PreProc">READERS</span>
</pre>

<p>Now users can create any repo under their own name simply by cloning it or pushing to it, then use the <a href="#perms">perms</a> command to add other users to their WRITERS and READERS lists.</p>
<p>Of course you can get much more creative if you add a few more roles (see &quot;roles&quot; in <a href="#wild">this</a> page).</p>
<p><font color="gray">(I prefer using some prefix, say &quot;u&quot;, as in <code>repo u/CREATOR/..*</code>. This helps to keep user-created repos separate, and avoid name clashes in some far-fetched scenarios).</font></p>
<h3 id="server-side-admin"><span class="header-section-number">4.1.5</span> administering gitolite directly on the server</h3>
<p>The main use of managing gitolite via the admin repo is that you get to version control the access rules. But for large sites, there's another use: you can share the admin load with more people, <strong>without</strong> having to give all of them shell access on the server.</p>
<p>However, people who use puppet and similar systems already have a conf versioning and management system. And they'd like to continue to use that to manage gitolite repos and users, rather than be forced to do it through the gitolite-admin repo.</p>
<p>Such sites don't really need the admin repo at all, so here's how to get rid of it and run things directly on the server (which you can script into your puppet or similar software quite easily).</p>
<p>First the one-time stuff:</p>
<ul>
<li><p><a href="#install">install</a> the software as normal</p></li>
<li><p>run <code>gitolite setup -a dummy</code> instead of the normal <a href="#setup">setup</a> command</p></li>
<li><p>delete (or move away) <code>~/repositories/gitolite-admin.git</code></p></li>
<li><p>edit <code>~/.gitolite/conf/gitolite.conf</code> and remove the gitolite-admin repo and its access line.</p></li>
<li><p><code>mkdir ~/.gitolite/keydir</code> (because &quot;setup -a&quot; does not create it, but you will need it later to add keys).</p></li>
<li><p>run <code>gitolite compile; gitolite trigger POST_COMPILE</code></p></li>
</ul>
<p>To manage gitolite, you can directly edit files in <code>~/.gitolite</code> (or cause puppet to place files there), and then run the commands in the last step above. For example:</p>
<ul>
<li>copy someone's pubkey file to <code>~/.gitolite/keydir</code></li>
<li>edit <code>~/.gitolite/conf/gitolite.conf</code> and add a repo or three, giving access to some user(s)</li>
<li>run <code>gitolite compile; gitolite trigger POST_COMPILE</code></li>
</ul>
<p>That's it.</p>
<h2 id="ssh"><span class="header-section-number">4.2</span> ssh</h2>
<p>If you're installing gitolite, you're a &quot;system admin&quot;, like it or not. If you're using the default ssh mode (i.e., not <a href="#http">http</a> mode), ssh is a necessary skill. Please take the time to learn at least enough to get passwordless access working.</p>
<p><span class="red">You <strong>must</strong> read both these pages before asking for help:</span></p>
<ul>
<li><p><a href="#glssh">Gitolite and ssh</a> explains how gitolite uses openssh features to create any number of virtual users over just one actual (unix) user, and distinguish between them by their public keys.</p></li>
<li><p><a href="#sts">Ssh troubleshooting</a> is a rather long page that, as far as I know, covers almost every known ssh related issue. If you find something missing, send me an email with details so I can update it.</p></li>
</ul>
<h3 id="ssh-related-features"><span class="header-section-number">4.2.1</span> ssh related features</h3>
<p>This section will explain why an &quot;ssh issue&quot; is almost never a &quot;gitolite issue&quot;, and, indirectly, why I dont get too excited about the former.</p>
<p>To start with, as <a href="#auth">this</a> section of the <a href="#concepts">concepts</a> page explained, <font color="red"><strong>Gitolite does not do authentication. It only does authorisation</strong>.</font></p>
<p>Let's recap the definition of those words:</p>
<blockquote>
<p><strong>Authentication</strong> is the process of verifying that you are who you claim to be. An authentication system will establish that I am the user &quot;sitaram&quot; on my work system. The one behind gmail will similarly establish that I am &quot;sitaramc&quot;. And so on...</p>
</blockquote>
<blockquote>
<p><strong>Authorisation</strong> is the process of asking what you want to do and deciding if you're allowed to do it or not.</p>
</blockquote>
<p>Now, if you managed to read the <a href="#glssh">gitolite and ssh</a> link above, you know that gitolite is meant to be invoked as:</p>
<pre><code>/full/path/to/gitolite-shell some-authenticated-gitolite-username</code></pre>
<p>(where the &quot;gitolite username&quot; is a &quot;virtual&quot; username; it does not have to be, and usually <em>isn't</em>, an actual <em>unix</em> username).</p>
<p>As you can see, authentication happens before gitolite is called.</p>
<h4 id="but...-but...-you-have-all-that-ssh-stuff-in-gitolite"><span class="header-section-number">4.2.1.1</span> but... but... you have all that ssh stuff in gitolite!</h4>
<p>No I don't. Not in &quot;core&quot; gitolite from v3 onwards :-)</p>
<p>The default setup does use ssh keys, but it's only helping you <strong>setup</strong> ssh-based authentication <strong>as a convenience to you</strong>. But in fact it is a <em>completely</em> separate program that you can disable (in the rc file) or replace with something else of your choice.</p>
<p>For example, in both <a href="#http">smart http</a> and ldap-backed sshd, gitolite has no role to play in creating users, setting up their passwords/keys, etc.</p>
<h4 id="so-youre-basically-saying-you-wont-support-x"><span class="header-section-number">4.2.1.2</span> so you're basically saying you won't support &quot;X&quot;</h4>
<p>(where &quot;X&quot; is some ssh related behaviour change or feature)</p>
<p>Well, if it's not a security issue I won't. But since it's no longer part of &quot;core&quot; gitolite, I can be much more relaxed about taking patches, or even alternative implementations.</p>
<p>While we're on the subject, locking someone out is <em>not</em> a security issue. Even if you <a href="#lost-key">lost the admin key</a>, the docs tell you how to recover from such errors. You do need some password based method to get a shell command line on the server, of course.</p>
<h3 id="otherauth"><span class="header-section-number">4.2.2</span> using other authentication systems with gitolite</h3>
<p>The bottom line in terms of how to invoke gitolite has been described above, and as long as you manage to do that gitolite won't even know how the authentication was done. Which in turn means you can use whatever authentication scheme you want.</p>
<p>It also expects the <code>SSH_ORIGINAL_COMMAND</code> environment variable to contain the full command (typically starting with git-receive-pack or git-upload-pack) that the client sent. Also, when using <a href="#http">smart http</a>, things are somewhat different: gitolite uses certain environment variables that it expects httpd to have set up. Even the user name comes from the <code>REMOTE_USER</code> environment variable instead of as a command line argument in this case.</p>
<p>However, it has to be an authentication system that is compatible with sshd or httpd in some form. Why? Because the git <em>client</em> accessing the server only knows those 2 protocols to &quot;speak git&quot;. (Well, the <code>git://</code> protocol is unauthenticated, and <code>file://</code> doesn't really apply to this discussion, so we're ignoring those).</p>
<p>For example, let's say you have an LDAP-based authentication system somewhere. It is possible to make apache use that to authenticate users, so when a user accesses a git url using <code>http://sitaram:password@git.example.com/repo</code>, it is LDAP that does the actual authentication. [I wouldn't know how to do it but I know it is possible. Patches to this doc explaining how are welcome!]</p>
<p>There are also ssh daemons that use LDAP to store the authorised keys (instead of putting them all in <code>~/.ssh/authorized_keys</code>). The clients will still need to generate keypairs and send them to the admin, but they can be more centrally stored and perhaps used by other programs or tools simultaneously, which can be useful.</p>
<h2 id="testing"><span class="header-section-number">4.3</span> trying out and testing gitolite</h2>
<h3 id="testing-gitolite"><span class="header-section-number">4.3.1</span> testing gitolite</h3>
<p><font color="red"><strong>WARNING: this will clobber <a href="#clobber">these files and directories</a> in your <code>$HOME</code>. Ideally, you should use a throwaway userid</strong>.</font></p>
<p>Running gitolite's test suite is really just a superset of [trying it out safely<a href="#trying">trying</a>.</p>
<p>To run the full test suite, create a <strong>throw-away userid</strong>, log in to it, then run these commands:</p>
<pre><code>git clone git://github.com/sitaramc/gitolite
cd gitolite
prove</code></pre>
<p>You will get an error that forces you to read <code>t/README</code> and set an env var before the test can proceed. This is intentional; I've had people who don't pay attention to the &quot;data loss&quot; warning, and then complain that it was not prominent enough. Forcing them to read a much smaller page appears to focus their attention better!</p>
<p>The test suite should run fine on most recent Linuxes and Unixes. Although gitolite itself should work fine with any git after 1.6.6 or so, the test suite generally requires a more recent git.</p>
<p>Make sure:</p>
<ul>
<li><code>$HOME/bin</code> is in <code>$PATH</code></li>
<li>sshd allows incoming ssh to this userid, at least from localhost</li>
</ul>
<p>Gitolite's test suite is mostly written using <a href="http://github.com/sitaramc/tsh">tsh</a> -- the &quot;testing shell&quot;. Take a look at some of the scripts and you will see what it looks like. It has a few quirks and nuances, but it's fine for what I need here.</p>
<p>The tests also use a somewhat convoluted system of environment variables in order to run <em>entirely</em> as a local user, without going through ssh at all. This lets a complete test suite run in about a lot less time than it would otherwise take.</p>
<p>If you think that defeats the purpose of the testing, you haven't read <a href="#auth">this</a> yet.</p>
<h3 id="clobber"><span class="header-section-number">4.3.2</span> appendix 1 -- the clobber list</h3>
<p>When you <a href="#trying">try out gitolite</a> or run the test suite, the following files and directories in your $HOME are potentially clobbered.</p>
<pre><code>.gitconfig
.gitolite/
.gitolite.rc
projects.list
repositories/
.ssh/</code></pre>
<h2 id="files"><span class="header-section-number">4.4</span> gitolite files and directories</h2>
<h3 id="directories"><span class="header-section-number">4.4.1</span> directories</h3>
<p>Gitolite creates and uses the following files and directories:</p>
<ul>
<li><code>~/repositories</code> -- the actual (bare) repositories are here</li>
<li><code>~/.gitolite.rc</code> -- configuration parameters that must be done directly on the server</li>
<li><code>~/.gitolite</code> -- gitolite's &quot;working&quot; directory. This contains everything else that gitolite needs. (Warning: you're not supposed to fiddle with the files and directories within; instead, make changes in a clone of the gitolite-admin repository and push, and those appear magically here).</li>
</ul>
<p>Once the install/setup is done, any (or all) of these may be moved elsewhere and replaced by symlinks. The most common reason for locating <code>~/repositories</code> somewhere else is disk space, but FHS compliance could also be a reason.</p>
<p>In addition, the following are of interest:</p>
<ul>
<li><code>~/.ssh</code> -- if you're using ssh (as opposed to http), since this is where the <code>authorized_keys</code> file is kept</li>
</ul>
<h3 id="special-files"><span class="header-section-number">4.4.2</span> special files</h3>
<p>You may want to backup the contents of <code>~/.gitolite/logs</code> if you care about auditability etc.</p>
<h3 id="inside-a-gitolite-repo"><span class="header-section-number">4.4.3</span> inside a &quot;gitolite repo&quot;</h3>
<p>A gitolite repo is just like a normal bare repo on any normal git server. There are a few extra files placed in the repo directory whose names start with &quot;gl-&quot;, and there is also an update hook placed in the hooks subdirectory, but that's about it, for the most part.</p>
<p>In other words, you can treat a gitolite-managed repo just like any other bare repo as long as you leave those files alone.</p>
<h3 id="gitolite-software"><span class="header-section-number">4.4.4</span> gitolite software</h3>
<p>The above list does not include the gitolite software itself.</p>
<p>Gitolite offers you 3 ways to install software. After cloning the gitolite sources, run the install command in it with a <code>-h</code> argument to see what they are. Where the actual software is found depends on that.</p>
<h2 id="perf"><span class="header-section-number">4.5</span> gitolite performance</h2>
<p>TOP TIP: If you have more than 2000 or so repos, then you should be using v3.2 or later; there was a bit of code that went in there that makes a <em>huge</em> difference for really large sites.</p>
<h3 id="tips-for-performance-worriers"><span class="header-section-number">4.5.1</span> tips for performance worriers</h3>
<p>Gitolite is pretty efficient in most cases, and generally nothing needs to be done. If you think you have a performance problem, let me know on the mailing list. Meanwhile, here are some tips:</p>
<ul>
<li><p>Look in the gitolite log file after any operation that you think ran slowly. In particular, pushing to the admin repo, or a user creating a new wild repo, might be a little slow, and the log file will tell you a bit more detail on what took time.</p></li>
<li><p>If you don't use gitweb or git-daemon, or use them but are perfectly happy to control access to them from outside gitolite, you can comment out the corresponding lines in the ENABLE list the rc file.</p></li>
<li><p>If you can't get rid of those scripts, and they are still taking too long, you can make them run in the background. They'll eventually finish but the user doesn't have to wait. See src/triggers/bg. <em>This should not normally be needed; if you feel you need it, please talk to me so I can understand why and maybe help</em>.</p></li>
<li><p>If you're more concerned about your users' time when they create a new wild repo (and not so much about the admin push taking time), you can fix a couple of scripts and send me a patch :)</p>
<p>Here's the scoop:</p>
<p>Scripts invoked via <code>POST_CREATE</code> <em>do</em> get information about what repo has just been created. However, the gitweb and daemon scripts are not set to take advantage of this, only the git-config one is. So use the git-config script as an example, and/or read the <a href="#triggers">triggers</a> page, and fix the other two programs.</p>
<p>(This should be easy enough for the daemon update, but the gitweb update may be a little more tricky, since it may involve <em>deleting</em> lines from the &quot;projects.list&quot; file.)</p></li>
</ul>
<h3 id="why-theres-really-no-need-to-worry"><span class="header-section-number">4.5.2</span> why there's really no need to worry!</h3>
<p>In general, gitolite has a constant overhead of about 0.2 seconds on my laptop. There really is nothing to optimise, but you can comment out some triggers as the previous section said.</p>
<p>Here's the big-O stuff:</p>
<ul>
<li>N = number of normal repos, each with its own set of rules. In <code>repo r1     r2 r3</code>, N = 3. Add up all such lines.</li>
<li>G = number of groups or repo regexes. In <code>repo @g1 @g2 foo/[a-z]*</code>, G = 3.</li>
<li>M = number of members. In <code>@g1 = r1 r2 &lt;nl&gt; @g2 = r3 r4 r5</code>, M = 5.</li>
<li>A = average number of rule lines in each &quot;repo&quot; block. Usually about 5, maybe 10 sometimes. You may have more.</li>
</ul>
<p>Gitolite overheads compared to a normal ssh push are:</p>
<ol style="list-style-type: decimal">
<li>perl startup time. Fairly constant and fairly small. I have generally found it pretty hard to measure, especially with a hot cache.</li>
<li>rule parse time. Details below</li>
<li>rule interpretation time. Fairly constant, or at least subject to much smaller variations than #2.</li>
</ol>
<p>&quot;rule parse time&quot; is where it makes a difference. There are 2 files gitolite parses on each &quot;access&quot;: <code>~/.gitolite/conf/gitolite.conf-compiled.pm</code> and <code>~/repositories/your_repo.git/gl-conf</code>. The former contains O(N + M + G*A) lines. In addition, the gl-conf files contains about &quot;A&quot; lines (remember we called it an average), which is negligible.</p>
<p>In practice, you can't measure this at a scale that a developer running a &quot;git push&quot; might even pretend to notice, unless you have more than, say, 5000 repos or so. On my testbed of 11,100 repos, where the compiled.pm is almost 0.7 MB, it takes less than 0.2 seconds to do this.</p>
<p>And on a busy system, when that file will be pretty much always in cache, it's even less.</p>
<h3 id="the-only-thing-that-will-take-more-time"><span class="header-section-number">4.5.3</span> the only thing that will take more time</h3>
<p>Literally, the only thing that will take time is something like &quot;ssh git@host info&quot; because it finds all possible repos and for each of them it tries to check the access. On that same test bed, therefore, this ends up reading all 11,100 &quot;gl-conf&quot; files.</p>
<p>On my laptop this takes about 14 seconds. In contrast, a normal git operation (clone, pull, push, etc) is so small it is hard to measure without software.</p>
<h2 id="migr"><span class="header-section-number">4.6</span> migrating</h2>
<p><span class="box-r">If you're curious why I wrote v3, and what was wrong with v2, read <a href="#why-v3">this</a>.</span></p>
<p>First things first: v3 came out in April 2012. v2 will continue to be supported for critical bugs, although enhancements and new features won't happen. v1 is not supported anymore.</p>
<p>That said, if you're an existing (gitolite v1.x or v2.x) user, and wish to migrate, here are the steps:</p>
<p><span class="gray">This page is about migrating from older gitolite to &quot;v3&quot;. If you're migrating from <em>gitosis</em>, let me first welcome you to the 21st century, and then point you <a href="#gsmigr">here</a>.</span></p>
<h3 id="pre-migration-checklist"><span class="header-section-number">4.6.1</span> pre-migration checklist</h3>
<p>This section tells you what changes affect you and your users. The closer you were to a default install of the old gitolite, the less time a migration will take.</p>
<p><strong>Note</strong>: as you read this section, and run the <code>check-g2-compat</code> program, be sure to make a note of any variables you have used which the pre-migration checklist describes as &quot;requires presetting&quot;.</p>
<hr />
<p>First things first: v2 will be supported for a good long time for critical bugs, although enhancements and new features won't happen.</p>
<p>Migration should be straightforward, but it is not automatic. The biggest differences are in the rc file, mirroring, &quot;NAME/&quot; rules, and delegation.</p>
<blockquote>
<hr />
</blockquote>
<blockquote>
<p><strong>Presetting the rc file</strong></p>
</blockquote>
<blockquote>
<p>Some rc settings in the older gitolite are such that you cannot directly run <code>gitolite setup</code> when you're ready to migrate. <strong>Doing that will clobber something important</strong>. See <a href="#rc-preset">presetting the rc file</a> for details.</p>
</blockquote>
<blockquote>
<hr />
</blockquote>
<p>The <code>check-g2-compat</code> program attempts to identify any <em>big</em> issues you will be facing; run that first. See <a href="#cg2c">later</a> in this page for what its messages mean. If it does not report any issues, your migrate will probably go quickly. I still suggest you go through the links below in case that program missed something.</p>
<h4 id="incompatible-features"><span class="header-section-number">4.6.1.1</span> incompatible features</h4>
<p>Here's a list of incompatible features and what you need to do to migrate. Some of them have links where there is more detail than I want to put here.</p>
<h5 id="high-impact"><span class="header-section-number">4.6.1.1.1</span> high impact</h5>
<p>(serious loss of functionality and/or access control compromised)</p>
<ul>
<li><p><a href="#g2i-name"><code>NAME/</code></a> rules: thes need to change to <code>VREF/NAME/</code>, and you need to add a deny rule at the end because fallthru is &quot;success&quot; for all <a href="#vref">VREFs</a> now, including the &quot;NAME&quot; VREF.</p></li>
<li><p><a href="#g2i-subconf">subconf</a>: if you're using <a href="#deleg">delegation</a>, there is no implicit &quot;subconf&quot; at the end; you'll have to add it in.</p></li>
<li><p>There are several important differences in mirroring. You can start from scratch by reading the new <a href="#mirroring">mirroring</a> doc or <a href="#g2i-mirroring">migrate</a> (carefully!).</p></li>
<li><p><code>ADMIN_POST_UPDATE_CHAINS_TO</code> -- <strong>dropped</strong>. Add your script to the <code>POST_COMPILE</code> trigger chain. Your script won't be getting the arguments that <em>git</em> sends to the post-update hook, but for the admin repo the only argument that even comes in (or is significant) is &quot;refs/heads/master&quot; anyway.</p></li>
<li><p><code>GL_ALL_INCLUDES_SPECIAL</code> -- <strong>dropped</strong>, <strong>requires presetting</strong>.</p>
<p><span class="citation">@all</span> always includes gitweb and daemon now. Use <a href="#deny-rules">deny-rules</a> if you want to say <code>R = @all</code> but not have the repo(s) be visible to gitweb or daemon.</p></li>
<li><p><code>GL_NO_CREATE_REPOS</code> -- <strong>dropped</strong>. If you think you need this, email me. I know one group who does need this so I will be putting it in eventually but not right away. It's almost certain to be renamed anyway.</p></li>
<li><p><code>GL_NO_DAEMON_NO_GITWEB</code> <strong>dropped</strong>, <strong>requires presetting</strong>. Default will clobber your projects.list file and git-daemon-export-ok files.</p>
<p>Comment out the 'daemon' and 'gitweb' lines in the ENABLE list in the rc file. As you can see, gitweb and daemon can now be separately disabled, instead of both being tied to the same setting.</p></li>
<li><p><code>GL_NO_SETUP_AUTHKEYS</code> <strong>dropped</strong>, <strong>requires presetting</strong>. Default will clobber your authkeys file.</p>
<p>Comment out all the line(s) that call ssh-authkeys in the rc file.</p></li>
<li><p><code>UPDATE_CHAINS_TO</code> <strong>dropped</strong>, <strong>requires presetting</strong>. Default will fail to run this extra check when users push.</p>
<p>Use a <a href="#vref">vref</a> instead. You can directly use any existing chained-to script as a VREF; they'll work. Don't forget to add a rule that references the new VREF!</p></li>
<li><p><code>GIT_PATH</code> <strong>dropped</strong>, <strong>requires presetting</strong>.</p>
<p>If you need this, manipulate the PATH environment variable directly. Just put something like this at the end of the rc file:</p>
<pre><code>$ENV{PATH} = &quot;/some/non-standard/path:$ENV{PATH}&quot;;
1;</code></pre></li>
</ul>
<h5 id="medium-impact"><span class="header-section-number">4.6.1.1.2</span> medium impact</h5>
<p>(important functionality lost, but access control not compromised)</p>
<ul>
<li><p><code>GL_ADMINDIR</code> -- <strong>dropped</strong>, is now at a fixed location: <code>~/.gitolite</code>. If you want it somewhere else go ahead and move it, then place a symlink from the assumed location to the real one.</p></li>
<li><p><code>GL_GET_MEMBERSHIPS_PGM</code> -- is now <code>GROUPLIST_PGM</code>, see <a href="#ldap">here</a>.</p></li>
<li><p><code>GL_WILDREPOS_DEFPERMS</code> -- is gone; see <a href="#roles">roles</a> for how to do this.</p></li>
<li><p><code>REPO_BASE</code> -- <strong>dropped</strong>, is now at a fixed location: <code>~/repositories</code>. If you want it somewhere else go ahead and move it, then place a symlink from the assumed location to the real one.</p></li>
</ul>
<h5 id="low-impact"><span class="header-section-number">4.6.1.1.3</span> low impact</h5>
<p>(ancillary, non-core, or minor functionality lost)</p>
<ul>
<li><p>'git-config' values have new restrictions. See <a href="#unsafe-patt">compensating for UNSAFE_PATT</a> for more on these restrictions and how to get around them.</p></li>
<li><p>Built-in command <code>expand</code> -- <strong>dropped</strong>. The 'info' command shows you both normal and wild repos now. The output format is also much simpler.</p></li>
<li><p>Built-in commands 'getperms', 'setperms' -- <strong>merged</strong> into command 'perms'. Run <code>ssh git@host perms -h</code> for details.</p>
<p>Similarly, 'getdesc' and 'setdesc' have been merged into 'desc'.</p></li>
<li><p>Several 'ADC's -- please ask on the mailing list if you're using any that you don't see in the new</p></li>
<li><p><a href="#g2i-gl-time">gl-time</a>: the CpuTime module replaces gl-time.</p></li>
<li><p><code>BIG_INFO_CAP</code> -- <strong>dropped</strong>. If you think you must have this, try it without and see if there's a difference. If you <em>know</em> you need this, convince me.</p></li>
<li><p><code>GL_ADC_PATH</code> -- <strong>dropped</strong>. It is obsolete; use <a href="#commands">commands</a> or add <a href="#dev-notes">your own</a>.</p></li>
<li><p><code>GL_ALL_READ_ALL</code> -- <strong>dropped</strong>. If you think you must have this, try it without and see if there's a difference. If you <em>know</em> you need this, convince me.</p></li>
<li><p><code>GL_BIG_CONFIG</code> -- <strong>dropped</strong>. This feature is default now.</p></li>
<li><p><code>GL_CONF</code>, <code>GL_CONF_COMPILED</code>, and <code>GL_KEYDIR</code> -- <strong>dropped</strong>. You had no business touching these anyway; if you did, move them into the expected default locations before attempting to run <code>gitolite setup</code></p></li>
<li><p><code>GL_GITCONFIG_KEYS</code> -- is now <code>GIT_CONFIG_KEYS</code>.</p></li>
<li><p><code>GL_LOGT</code> -- now has a fixed value; email me if this is a problem.</p></li>
<li><p><code>GL_PACKAGE_CONF</code> and <code>GL_PACKAGE_HOOKS</code> -- <strong>dropped</strong>. They are not needed anymore, but check if you had any custom hooks set in the latter location and copy them across.</p></li>
<li><p><code>GL_PERFLOGT</code> -- <strong>dropped</strong>. See <a href="#g2i-gl-time">gl-time</a>.</p></li>
<li><p><code>GL_SITE_INFO</code> -- is now <code>SITE_INFO</code>.</p></li>
<li><p><code>GL_WILDREPOS</code> -- <strong>dropped</strong>. This feature is default now.</p></li>
<li><p><code>GL_WILDREPOS_PERM_CATS</code> -- is now the ROLES hash in the rc file.</p></li>
<li><p><code>RSYNC_BASE</code> -- needs work. Email me if you are using this.</p></li>
<li><p><code>NICE_VALUE</code> -- <strong>dropped</strong>. Uncomment the 'renice 10' line in the rc file. You can also change the 10 to something else if you wish.</p></li>
<li><p><code>PROJECTS_LIST</code> -- is now <code>GITWEB_PROJECTS_LIST</code>. More importantly, it is only used by update-gitweb-access-list in src/commands/post-compile. This variable now has nothing to do with gitolite core, and the rc is just helping to store settings for non-core programs like that one.</p></li>
<li><p><code>REPO_UMASK</code> -- is now <code>UMASK</code>.</p></li>
<li><p><code>WEB_INTERFACE</code> and <code>GITWEB_URI_ESCAPE</code> -- <strong>dropped</strong>. Patches to the update program to directly do those things are welcome. Personally, I think people who use spaces and other funky characters in dir/file names should be shot but no one listens to me anyway.</p></li>
</ul>
<h4 id="cg2c"><span class="header-section-number">4.6.1.2</span> using the &quot;check-g2-compat&quot; program</h4>
<p>This program checks a few things only, not everything. In particular, it looks for settings and status that might:</p>
<ul>
<li>make v3 unusable for lots of users</li>
<li>make v3 give <em>more</em> access than v2 under some conditions</li>
</ul>
<p>It does NOT look for or warn about anything else; you're expected to read (and act upon, if needed) the rest of the migration guide links given a few paras above to cover everything else.</p>
<p>Here's an explanation of those messages that the check-g2-compat program may put that contain the words &quot;see docs&quot;:</p>
<ul>
<li><p><code>GL_ADMINDIR in the wrong place -- aborting</code></p>
<p>It expects to find <code>GL_ADMINDIR</code> and <code>REPO_BASE</code> pointing to the right places. It aborts if these conditions are not met and does not scan further since that sort of guesswork is not good. If you are in that position, make a symlink from the real location to the expected location, change the RC accordingly, and re-try.</p></li>
<li><p><code>REPO_BASE in the wrong place -- aborting</code></p>
<p>same as above</p></li>
<li><p><code>NAME rules</code></p>
<p><strong>This is a significant difference and affects access badly (gives access that would otherwise not be given)</strong>. Please see the <a href="#g2incompat">list of non-RC incompatibilities</a>.</p></li>
<li><p><code>subconf command in admin repo</code></p>
<p>This is not so bad security wise but it might <em>reduce</em> access by not processing files you intended to. Again, see the same link as in the previous bullet.</p></li>
<li><p><code>mirroring used</code></p>
<p>There have been quite a few changes to mirroring. You can start from scratch by reading the new <a href="#mirroring">mirroring</a> doc or <a href="#g2i-mirroring">migrate</a> (carefully!).</p></li>
<li><p><code>found N gl-creater files</code></p>
<p>These need to be renamed to <code>gl-creator</code> (the correct spelling at last, hooray!). Suggested command sequence:</p>
<pre><code>cd $HOME/repositories
find . -type d -name &quot;*.git&quot; -prune | while read r
do
    mv $r/gl-creater $r/gl-creator
done 2&gt;/dev/null</code></pre>
<p>Once you do this, v2 will not work completely unless you change them back.</p></li>
<li><p><code>found N gl-perms files with R or RW</code></p>
<p>Setting perms of R and RW will no longer work; you have to say READERS and WRITERS now. Suggested command:</p>
<pre><code>find `gitolite query-rc GL_REPO_BASE` -name gl-perms |
    xargs perl -pi -e 's/\bR\b/READERS/;s/\bRW\b/WRITERS/'</code></pre></li>
</ul>
<h4 id="rc-preset"><span class="header-section-number">4.6.1.3</span> presetting the rc file</h4>
<p>Some rc settings in the older gitolite are such that you cannot directly run <code>gitolite setup</code> when you're ready to migrate. <strong>Doing that will clobber something important</strong>. You have to create a default rc file, edit it appropriately, and <em>then</em> run <code>gitolite setup</code>.</p>
<p>The most serious example of this is <code>GL_NO_SETUP_AUTHKEYS</code>, which tells the (old) gitolite that you want to manage <code>~/.ssh/authorized_keys</code> yourself and it should not fiddle with it.</p>
<p>If you don't preset the rc (in this case, by commenting out the 'ssh-authkeys' line) <strong>before</strong> running <code>gitolite setup</code>, <strong>your <code>~/.ssh/authorized_keys</code> file will get clobbered</strong>.</p>
<p>The actual rc settings that require presetting are listed in the &quot;high impact&quot; section above. This section tells you how to do the presetting.</p>
<ul>
<li><p>rename (not just copy) your old (v2) rc file to something else</p></li>
<li><p>run</p>
<pre><code>gitolite print-default-rc &gt; $HOME/.gitolite.rc</code></pre></li>
<li><p>edit the file</p>
<pre><code>${EDITOR:-vim} $HOME/.gitolite.rc</code></pre>
<p>make appropriate changes as described elsewhere in this migration guide, and save it.</p></li>
<li><p><em>then</em> you can run <a href="#setup">gitolite setup</a>.</p></li>
</ul>
<h3 id="the-actual-migration"><span class="header-section-number">4.6.2</span> the actual migration</h3>
<p>(Note: You may also like the <a href="#g2migr-example">example migration</a> page).</p>
<p><strong>Note</strong>: nothing in any of the gitolite install/setup/etc will ever touch the <em>data</em> in any repository except the gitolite-admin repo. The only thing it will normally touch in normal repos is the <code>update</code> hook.</p>
<p><strong>Note: all migration happens on the server; you do not need your workstation</strong>.</p>
<ol style="list-style-type: decimal">
<li><p>Carefully wipe out the old gitolite:</p>
<ul>
<li><p>The <strong>code</strong></p>
<ul>
<li><p>Delete or move away all the old gitolite scripts. Check the path to the gl-auth-command in <code>~/.ssh/authorized_keys</code> if you forgot where you put them.</p></li>
<li><p>Delete or move away the two directories named in the two variables <code>GL_PACKAGE_CONF</code> and <code>GL_PACKAGE_HOOKS</code> in <code>~/.gitolite.rc</code>.</p></li>
</ul></li>
<li><p>The <strong>rc file</strong></p>
<ul>
<li>Rename <code>~/.gitolite.rc</code> to something else.</li>
</ul></li>
<li><p>The <strong>admin repo</strong></p>
<ul>
<li>clone <code>~/repositories/gitolite-admin.git</code> to someplace safe</li>
<li>then delete <code>~/repositories/gitolite-admin.git</code></li>
</ul>
<p>(Make sure you do not delete any other repos!)</p></li>
<li><p>The <strong>admin directory</strong>.</p>
<ul>
<li><p>If you need to preserve logs, move the ~/.gitolite/logs` directory somewhere else.</p></li>
<li><p>If you added any custom hooks and wish to preserve them, move the ~/.gitolite/hooks` directory somewhere else.</p></li>
<li><p>Delete <code>~/.gitolite</code>.</p></li>
</ul></li>
</ul></li>
<li><p>Install gitolite v3; see <a href="#install">install</a>.</p></li>
<li><p>If you're using any rc variables that the pre-migration checklist said would &quot;require presetting&quot;, then read about <a href="#rc-preset">presetting</a> the rc file, and follow those instructions to create your new rc file.</p></li>
<li><p>Setup gitolite; see <a href="#setup">setup</a>. However, the 'setup' step need not supply a private key. You can run it as <code>gitolite setup -a admin</code>.</p>
<p>NOTE: ignore any 'split conf not set, gl-conf present...' errors at this time. You may see none, some, or many. It does not matter right now.</p></li>
<li><p>Make sure your gitolite-admin clone has the correct pubkey for the administrator in its <code>keydir</code> directory, then run <a href="#bypass"><code>gitolite push     -f</code></a> to overwrite the &quot;default&quot; admin repo created by the install.</p>
<p><strong>NOTE that is <code>gitolite push</code> not <code>git push</code>!</strong></p></li>
<li><p>Handle any errors, look for migration issues, etc., as described in the links at the top of this page.</p>
<p>This also includes building up your new <code>~/.gitolite.rc</code> file.</p></li>
</ol>
<p>You're done.</p>
<h3 id="g2incompat"><span class="header-section-number">4.6.3</span> appendix 1: v2-v3 incompatibilities</h3>
<p>This page expands on some incompatibilities that were only briefly mentioned in the pre-migration section earlier.</p>
<h4 id="g2i-name"><span class="header-section-number">4.6.3.1</span> NAME rules</h4>
<ol style="list-style-type: decimal">
<li><p>NAME/ rules must be changed to VREF/NAME/</p></li>
<li>Fallthru on all VREFs is &quot;success&quot; now, so any NAME/ rules you have <strong>MUST</strong> change the rule list in some way to maintain the same restrictions. The simplest is to add the following line to the end of each repo's rule list:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Statement">    -</span><span class="Constant">   VREF/NAME/       </span>=<span class="WarningMsg">   @all</span>
</pre>
</li>
</ol>
<h4 id="g2i-subconf"><span class="header-section-number">4.6.3.2</span> subconf command in admin repo</h4>
<p>(This is also affected by the previous issue, 'NAME rules'; please read that as well).</p>
<p>If you're using delegation in your admin conf setup, please add the following lines to the end of the gitolite-admin rules in your conf/gitolite.conf file:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>gitolite-admin
<span class="Statement">    -</span><span class="Constant">   VREF/NAME/       </span>=<span class="WarningMsg">   @all</span>

<span class="PreProc">subconf </span><span class="Constant">&quot;fragments/*.conf&quot;</span>
</pre>

<p>The first part compensates for fallthru now being a success when processing <a href="#vref">VREF</a> rules (NAME rules are just one specific VREF). Although, <strong>ideally</strong>, you should change your rule list so that you no longer require that line. As the <a href="#vref">vref page</a> says:</p>
<blockquote>
<p><strong>Virtual refs are best used as additional &quot;deny&quot; rules</strong>, performing extra checks that core gitolite cannot.</p>
</blockquote>
<p>The second part explicitly says when and where to include the subconf files. (Before subconf was invented, this used to happen implicitly at the end of the main conf file, and was hardcoded to that specific glob.)</p>
<h4 id="g2i-gl-time"><span class="header-section-number">4.6.3.3</span> gl-time for performance measurement</h4>
<p>If you've been using gl-time for performance measurement, there's a much better system available now.</p>
<p>gl-time used to only log elapsed time. The new 'CpuTime' trigger module shipped with gitolite, if enabled in the rc file, can also report CPU times using perl's 'times()' function. See comments within that file and in the default rc file that contain the word &quot;cpu&quot;, for more details.</p>
<p>Further, you can copy that module with a different name, add your own functionality, and invoke <em>that</em> from the rc file instead.</p>
<h4 id="g2i-mirroring"><span class="header-section-number">4.6.3.4</span> changes in mirroring setup</h4>
<p>There are several changes with regard to mirroring:</p>
<ul>
<li><p>There is no 'post-receive' hook to be installed. Mirroring is handled by v3's <a href="#triggers">triggers</a> mechanism. Gitolite triggers are enabled by adding (or uncommenting, in this case) appropriate lines in the rc file.</p>
<p>You need to either remove these files (actually symlinks) from each repo's 'hooks' directory, or remove the old (v2) sources so they become broken symlinks.</p></li>
<li><p>The <code>GL_HOSTNAME</code> variable is now <code>HOSTNAME</code>. (Note that the rc file syntax itself has changed quite a bit; to be accurate, HOSTNAME is not a variable but a hash key with an associated value).</p></li>
<li><p>The <code>GL_GITCONFIG_KEYS</code> variable is now <code>GIT_CONFIG_KEYS</code>, <strong>but</strong> you no longer need to set it to anything for mirroring to work.</p></li>
<li><p>The <code>gl-tool</code> program does not exist anymore. Adding keys for peer servers is done just like adding user keys, except that the pubkey file name must start with <code>server-</code>. For example, to add a peer host called frodo, you will acquire its pubkey and add it as <code>server-frodo.pub</code>.</p></li>
<li>The config variables are quite different now. The main ones now look like this:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
option mirror.master        =   sam
option mirror.slaves        =   frodo gollum
</pre>

The redirectOK looks like this:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
option mirror.redirectOK    =   frodo
</pre>

The special value &quot;true&quot; to say that all slaves are trusted is now &quot;all&quot;:
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
option mirror.redirectOK    =   all
</pre>
</li>
<li>There are no more mirroring &quot;keys&quot;, (lists of servers named in config keys like 'gitolite.mirror.nightly', etc). You can certainly add lines like
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
option mirror.nightly       =   merry pippin
</pre>

<p>but they will not be processed by gitolite. Your cron jobs should use <code>gitolite git-config</code> to query this variable, grab the list of peers, and run <code>gitolite mirror</code> on each of them.</p></li>
<li><p>The command to resync mirrors is 'mirror', run just like any other <a href="#commands">command</a>. In particular, you can run <code>gitolite mirror -h</code> to get help. It cannot be run from a slave to ask a master to push (unlike in the old system) but what's more convenient is that any user who has any access to the master can run it remotely (if you allow it) to invoke a push.</p></li>
</ul>
<h2 id="regex"><span class="header-section-number">4.7</span> extremely brief regex overview</h2>
<p>Regexes are powerful. Gitolite uses that power as much as it can. If you can't handle that power, hire someone who can and become a manager ;-)</p>
<p>That said, here's a very quick overview of the highlights.</p>
<p><code>^</code> and <code>$</code> are called &quot;anchors&quot;. They anchor the match to the beginning and end of the string respectively.</p>
<pre><code>^foo    matches any string starting with 'foo'
foo$    matches any string ending with 'foo'
^foo$   matches exact string 'foo'.</code></pre>
<p>To be precise, the last one is &quot;any string starting and ending with <em>the same</em> 'foo'&quot;; &quot;foofoo&quot; does not match.</p>
<p><code>[0-9]</code> is an example of a character class; it matches any single digit. <code>[a-z]</code> matches any lower case alpha, and <code>[0-9a-f]</code> is the range of hex characters. You should now guess what <code>[a-zA-Z0-9_]</code> does.</p>
<p><code>.</code> (the period) is special -- it matches any character. If you want to match an actual period, you need to say <code>\.</code>.</p>
<p><code>*</code>, <code>?</code>, and <code>+</code> are quantifiers. They apply to the previous token. <code>a*</code> means &quot;zero or more 'a' characters&quot;. Similarly <code>a+</code> means &quot;one or more&quot;, and <code>a?</code> means &quot;zero or one&quot;.</p>
<p>As a result, <code>.*</code> means &quot;any number (including zero) of any character&quot;.</p>
<p>The previous token need not be a single character; you can use parens to make it longer. <code>(foo)+</code> matches one or more &quot;foo&quot;, (like &quot;foo&quot;, &quot;foofoo&quot;, &quot;foofoofoo&quot;, etc.)</p>
<h2 id="no-way"><span class="header-section-number">4.8</span> no way!</h2>
<p>For the entertainment of the sensible majority, and as a way of thanking all of you, here are some examples of requests (demands in some cases) I have received over the last couple of years.</p>
<ul>
<li><p>deleting environment variables copied from client session</p>
<p>demand: add code to delete certain environment variables at startup because &quot;the openssh servers in the linux distribution that [he] use[s], are configured to copy <code>GIT_*</code> variables to the remote session&quot;.</p>
<p>This is wrong on so many levels it's almost plonk-able!</p></li>
<li><p>using <code>cp</code> instead of <code>ln</code></p>
<p>Guy has an NTFS file system mounted on Linux. So... no symlinks (an NTFS file system on Windows works fine because msysgit/cygwin manage to <em>simulate</em> them. NTFS mounted on Linux won't do that!)</p>
<p>He wanted all the symlink stuff to be replaced by copies.</p>
<p>No. Way.</p></li>
<li><p>non-bare repos on the server</p>
<p>Some guy gave me a complicated spiel about git-svn not liking bare repos or whatever. I tuned off at the first mention of those 3 letters so I don't really know what the actual problem was.</p>
<p>But it doesn't matter. Even if someone (Ralf H) had not chipped in with a workable solution, I still would not do it. A server repo should be bare. Period.</p></li>
<li><p>incomplete ownership of <code>GL_REPO_BASE</code></p>
<p>This guy had a repo-base directory where not all of the files were owned by the git user. As a result, some of the hooks did not get created. He claimed my code should detect OS-permissions issues while it's doing its stuff.</p>
<p>No. I refuse to have the code constantly look over its shoulder making sure fundamental assumptions are being met.</p></li>
<li><p>empty template directory</p>
<p>(See man git-init for what a template directory is).</p>
<p>The same guy with the environment variables had an empty template directory because he &quot;does not like to have sample hooks in every repository&quot;. So naturally, the hooks directory does not get created when you run a <code>git init</code>. He expects gitolite to compensate for it.</p>
<p>Granted, it's only a 1-line change. But again, this falls under &quot;constantly looking over your shoulder to double check fundamental assumptions&quot;. Where does it end?</p>
<p>[update 2014-07: I believe I read somewhere that git itself may be removing those &quot;sample&quot; hooks. If that also means the hooks directory will not be created when you &quot;git init --bare&quot;, then I guess I'd have to do something!]</p></li>
</ul>
<h2 id="g2migr-example"><span class="header-section-number">4.9</span> migration example</h2>
<p>This shows what a typical migration would look like, using a test setup.</p>
<h3 id="existing-setup"><span class="header-section-number">4.9.1</span> existing setup</h3>
<p>The existing gitolite is the latest in the &quot;g2&quot; (v2.x) branch.</p>
<p>First, the rc file has the following lines different from the default:</p>
<pre><code>-$GL_WILDREPOS = 0;
+$GL_WILDREPOS = 1;

-$GL_GITCONFIG_KEYS = &quot;&quot;;
+$GL_GITCONFIG_KEYS = &quot;.*&quot;;</code></pre>
<p>Next, the conf/gitolite.conf file in <code>~/.gitolite</code>:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">repo </span>   gitolite-admin
<span class="Statement">        RW+</span><span class="Constant">             </span>=   tester u1

<span class="Type">repo </span>   testing
<span class="Statement">        RW+</span><span class="Constant">     </span>=   <span class="Identifier">@all</span>

<span class="Type">repo </span>foo
<span class="Statement">        RW+</span><span class="Constant">             </span>=   u1 u2
<span class="Statement">        RW+</span><span class="PreProc"> NAME</span><span class="Constant">/       </span>=   u1
<span class="Statement">        RW+</span><span class="PreProc"> NAME</span><span class="Constant">/u2     </span>=   u2

<span class="Type">repo </span>bar
<span class="Statement">        RW</span><span class="Constant">  </span>=   u2

<span class="Type">repo </span><span class="Special">baz/..*</span>
<span class="Statement">        C</span><span class="Constant">   </span>=   u3 u4
<span class="Statement">        RW+</span><span class="Constant">         </span>=   <span class="PreProc">CREATOR</span>
<span class="Statement">        config </span><span class="Identifier">foo.bar </span>= baz
</pre>

<p>(Note that this conf file has NAME/ rules, which <strong>have changed</strong> significantly in v3; see <a href="#g2i-name">here</a> for details).</p>
<p>These are the repos already existing</p>
<pre><code>$ find repositories -name &quot;*.git&quot; | sort
repositories/bar.git
repositories/baz/u3.git
repositories/baz/u4.git
repositories/baz/uthree.git
repositories/foo.git
repositories/gitolite-admin.git
repositories/testing.git</code></pre>
<p>The config entries exist for all the baz/ repos:</p>
<pre><code>$ grep -2 foo `find repositories -name &quot;config&quot; `
repositories/baz/uthree.git/config-[gitweb]
repositories/baz/uthree.git/config- owner = u3
repositories/baz/uthree.git/config:[foo]
repositories/baz/uthree.git/config- bar = baz
--
repositories/baz/u4.git/config-[gitweb]
repositories/baz/u4.git/config-     owner = u4
repositories/baz/u4.git/config:[foo]
repositories/baz/u4.git/config-     bar = baz
--
repositories/baz/u3.git/config-[gitweb]
repositories/baz/u3.git/config-     owner = u3
repositories/baz/u3.git/config:[foo]
repositories/baz/u3.git/config-     bar = baz</code></pre>
<h3 id="preparing-for-the-migration"><span class="header-section-number">4.9.2</span> preparing for the migration</h3>
<h4 id="getting-v3"><span class="header-section-number">4.9.2.1</span> getting v3</h4>
<p>Fortunately this is easy here; I just happened to have the repo already fetched so I just had to switch branches. You may have to 'git clone ...' from github.</p>
<pre><code>$ cd gitolite
$ git checkout master
Branch master set up to track remote branch master from origin.
Switched to a new branch 'master'</code></pre>
<h4 id="run-check-g2-compat"><span class="header-section-number">4.9.2.2</span> run check-g2-compat</h4>
<p>This is a quick and dirty program to catch some of the big issues.</p>
<pre><code>$ cd
$ gitolite/check-g2-compat
INFO        This program only checks for uses that make the new v3 completely unusable
            or that might end up giving *more* access to someone if migrated as-is.
            It does NOT attempt to catch all the differences described in the docs.

INFO        'see docs' usually means the pre-migration checklist in
            &quot;g2migr.html&quot;; to get there, start from the main migration
            page at http://sitaramc.github.com/gitolite/install.html#migr

checking rc file...
NOTE        GL_ADMINDIR is in the right place; assuming you did not mess with
            GL_CONF, GL_LOGT, GL_KEYDIR, and GL_CONF_COMPILED

checking conf file(s)...
SEVERE      NAME rules; see docs

checking repos...
WARNING     found 3 gl-creater files; see docs

...all done...</code></pre>
<h3 id="the-actual-migration-1"><span class="header-section-number">4.9.3</span> the actual migration</h3>
<p>Here's the actual migration, step by step</p>
<h4 id="step-1"><span class="header-section-number">4.9.3.1</span> step 1</h4>
<pre><code>$ ls -a bin
.                gl-admin-push    gl-install       gl-setup-authkeys  gl-VREF-DUPKEYS
..               gl-auth-command  gl-mirror-push   gl-system-install  gl-VREF-EMAIL_CHECK
gitolite_env.pm  gl-compile-conf  gl-mirror-shell  gl-time            gl-VREF-FILETYPE
gitolite.pm      gl-conf-convert  gl-query-rc      gl-tool            gl-VREF-MERGE_CHECK
gitolite_rc.pm   gl-dryrun        gl-setup         gl-VREF-COUNT      sshkeys-lint
$ rm -rf bin;mkdir bin

$ grep GL_PACKAGE .gitolite.rc
$GL_PACKAGE_CONF = &quot;/home/git/share/gitolite/conf&quot;;
$GL_PACKAGE_HOOKS = &quot;/home/git/share/gitolite/hooks&quot;;
$ rm -rf share

$GL_PACKAGE_HOOKS = &quot;/home/git/share/gitolite/hooks&quot;;
$ rm -rf share

$ mv .gitolite.rc old.grc</code></pre>
<p>(still on step 1, this is substep 3) notice we are cloning <strong>on the server</strong>, using a <strong>full path</strong> to the repo.</p>
<pre><code>$ git clone repositories/gitolite-admin.git old.ga
Cloning into 'old.ga'...
done.
$ rm -rf repositories/gitolite-admin.git/</code></pre>
<p>Since I'm not interested in preserving the logs and don't have any custom hooks:</p>
<pre><code>$ rm -rf .gitolite</code></pre>
<h4 id="step-2"><span class="header-section-number">4.9.3.2</span> step 2</h4>
<p>I have no variables that <em>must</em> be preset, since the report by <code>check-g2-compat</code> is clear.</p>
<h4 id="step-3"><span class="header-section-number">4.9.3.3</span> step 3</h4>
<p>Here we install the new gitolite. Remember we already got the new software (in order to run 'check-g2-compat').</p>
<p>Just check that bin is empty, then run 'install -ln' from the gitolite source tree:</p>
<pre><code>$ ls -al bin
total 8
drwxrwxr-x 2 git git 4096 Apr 24 10:57 .
drwx------ 8 git git 4096 Apr 24 10:59 ..
$ gitolite/install -ln
$ ls -al bin
total 8
drwxrwxr-x 2 git git 4096 Apr 24 11:01 .
drwx------ 8 git git 4096 Apr 24 10:59 ..
lrwxrwxrwx 1 git git   30 Apr 24 11:01 gitolite -&gt; /home/git/gitolite/src/gitolite</code></pre>
<p>OK that went well. Now setup gitolite. You don't need a key here; just use a random name:</p>
<pre><code>$ gitolite setup -a admin
Initialized empty Git repository in /home/git/repositories/gitolite-admin.git/</code></pre>
<h4 id="step-4"><span class="header-section-number">4.9.3.4</span> step 4</h4>
<p>Now go to your old clone, and push it:</p>
<pre><code>$ cd old.ga
$ gitolite push -f
    ...usual git progress output deleted...
remote: FATAL: git config foo.bar not allowed
remote: check GIT_CONFIG_KEYS in the rc file
To /home/git/repositories/gitolite-admin.git
 + 7eb8163...1474770 master -&gt; master (forced update)</code></pre>
<p>Aaha! I forgot to set <code>GIT_CONFIG_KEYS</code> (new name for <code>GL_GITCONFIG_KEYS</code>) in the new rc file so fix that:</p>
<pre><code>$ vim ~/.gitolite.rc
(edit and set it to `.*` for now)</code></pre>
<p>and push again:</p>
<pre><code>$ gitolite push -f
Everything up-to-date</code></pre>
<p>Damn. We have to make a dummy commit to allow the push to do something.</p>
<p>But wait! We forgot fix the <a href="#g2i-name">NAME/</a> rules, so may as well fix those, add, and push:</p>
<pre><code>$ vim conf/gitolite.conf
# change all NAME/ to VREF/NAME/
# append a '- VREF/NAME/ = @all' at the end
# save
git add conf

$ git commit -m name-rules
    ... some output for add...

$ gitolite push -f
Counting objects: 1, done.
Writing objects: 100% (1/1), 181 bytes, done.
Total 1 (delta 0), reused 0 (delta 0)
Unpacking objects: 100% (1/1), done.
To /home/git/repositories/gitolite-admin.git
   1474770..4c2b41d  master -&gt; master</code></pre>
<h4 id="step-5"><span class="header-section-number">4.9.3.5</span> step 5</h4>
<p>The only thing left is to fix up the gl-creater files:</p>
<pre><code>$ cd $HOME/repositories
$ find . -type d -name &quot;*.git&quot; -prune | while read r
&gt; do
&gt;     mv $r/gl-creater $r/gl-creator
&gt; done 2&gt;/dev/null</code></pre>
<p>And we're done!</p>
<h3 id="checking-things-out"><span class="header-section-number">4.9.4</span> checking things out</h3>
<p>Let's see what repos u3 has:</p>
<pre><code># as user 'u3'
ssh git@server info
hello u3, this is git@server running gitolite3 v3.0-11-g090b0f5 on git 1.7.7.6

     C      baz/..*
 R W        baz/u3
 R W        baz/uthree
 R W        gitolite-admin
 R W        testing</code></pre>
<p>That's a combination of 'info' and 'expand', by the way. There is no expand command any more.</p>
<p>How about adding a new repo and checking if the config entries made it?</p>
<pre><code># as user u4
$ git ls-remote git@server:baz/ufour
Initialized empty Git repository in /home/git/repositories/baz/ufour.git/
$ grep -A1 foo `find repositories -name &quot;config&quot; `
repositories/baz/u3.git/config:[foo]
repositories/baz/u3.git/config- bar = baz
--
repositories/baz/u4.git/config:[foo]
repositories/baz/u4.git/config- bar = baz
--
repositories/baz/ufour.git/config:[foo]
repositories/baz/ufour.git/config-      bar = baz
--
repositories/baz/uthree.git/config:[foo]
repositories/baz/uthree.git/config-     bar = baz</code></pre>
<p>And there it is, in the second block of lines...</p>
<p>And now we're really done.</p>
<h2 id="glssh"><span class="header-section-number">4.10</span> how gitolite uses ssh</h2>
<p>Although other forms of authentications exist (see the page on <a href="#auth">authentication versus authorisation</a>), ssh is the one that most git users use.</p>
<p><strong><em>Therefore, gitolite is (usually) heavily dependent on ssh</em></strong>.</p>
<p>Most people didn't realise this, and even if they did they don't know ssh well enough to help themselves. If you don't understand how ssh public key authentication works, or how the <code>~/.ssh/authorized_keys</code> file can be used to restrict users, etc., you will have endless amounts of trouble getting gitolite to work, because you'll be attacking the wrong problem.</p>
<p>So please please please understand this before tearing your hair out and blaming <strong><em>git/gitolite</em></strong> for whatever is going wrong with your setup :-)</p>
<h3 id="ssh-basics"><span class="header-section-number">4.10.1</span> ssh basics</h3>
<p>Let's start with some basics, focusing <em>only</em> on the pieces relevant to <code>gitolite</code>. If this is not detailed enough, please use google and learn more from somewhere, or maybe buy the OReilly ssh book.</p>
<ul>
<li><p>You can login to an ssh server by typing a password, but ssh can also use <strong><em>public-private keys</em></strong> (also called &quot;key pairs&quot;) for authentication. <code>gitolite</code> <em>requires</em> you to use this mechanism for your users -- they cannot log in using passwords. Hopefully by the time you finish reading this page you will understand why :-)</p>
<p>The way you set this up is you generate a key pair on your workstation, and give the server the public key. (I need not add that the &quot;private&quot; key must be, well, kept <em>private</em>!)</p></li>
<li><p><strong>Generating a key pair on your workstation</strong> is done by running the command <code>ssh-keygen -t rsa</code>. This produces two files in <code>~/.ssh</code>. One is <code>id_rsa</code>; this is the <strong>private</strong> key -- <strong><em>never</em></strong> let it out of your machine. The other is <code>id_rsa.pub</code>, which is the corresponding public key. This public key is usually just one long line of text.</p>
<ul>
<li>On Windows machines with msysgit installed, you should do this from within a &quot;git bash&quot; window. The command will report the full path where the files have been written; make a note of this, and use those files in any of the description that follows.</li>
</ul></li>
<li><p><strong>Adding your public key to the server</strong>'s <code>~/.ssh/authorized_keys</code> file is how ssh uses pubkeys to authenticate users. Let's say sita@work.station is trying to log in as git@serv.er. What you have to do is take the <code>~/.ssh/id_rsa.pub</code> file for user sita on work.station and append its contents (remember it's only one line) to <code>~/.ssh/authorized_keys</code> for user git on serv.er.</p>
<p>The <code>authorized_keys</code> file can have multiple public keys (from many different people) added to it so any of them can log in to git@serv.er.</p>
<p>In the normal case (not gitolite, but your normal everyday shell access), there's a command that does this, <code>ssh-copy-id</code>, which also fixes up permissions etc., as needed, since sshd is a little picky about allowing pubkey access if permissions on the server are loose. Or you can do it manually, as long as you know what you're doing and you're careful not to erase or overwrite the existing contents of <code>~/.ssh/authorized_keys</code> on the server!</p>
<p>But with gitolite, it does this for you; see <a href="#users">adding and removing users</a> for more.</p>
<ul>
<li><strong>Troubleshooting pubkey authentication failures</strong>: if you are unable to get ssh access to the server after doing all this, you'll have to look in <code>/var/log/secure</code> or <code>/var/log/auth.log</code> or some such file on the server to see what specific error <code>sshd</code> is complaining about.</li>
</ul></li>
<li><p><strong>Restricting users to specific commands</strong> is very important for gitolite. If you read <code>man sshd</code> and look for <code>authorized_keys file format</code>, you'll see a lot of options you can add to the public key line, which restrict the incoming user in various ways. In particular, note the <code>command=</code> option, which means &quot;regardless of what the incoming user is asking to do, forcibly run this command instead&quot;.</p>
<p>Also note that when there are many public keys (i.e., lines) in the <code>authorized_keys</code> file, each line can have a <em>different</em> set of options and <code>command=</code> values.</p>
<p>Without this <code>command=</code> option, the ssh daemon will simply give you a shell, which is not what we want for our gitolite keys (although we may well have other keys which we use to get a shell).</p>
<p><strong>This is the backbone of what makes gitolite work; please make sure you understand this</strong>.</p></li>
</ul>
<h3 id="how-does-gitolite-use-all-this-ssh-magic"><span class="header-section-number">4.10.2</span> how does gitolite use all this ssh magic?</h3>
<p>These are two different questions you ought to be having by now:</p>
<ul>
<li>How does it distinguish between me and someone else, since we're all logging in as the same remote user &quot;git&quot;.</li>
<li>How does it restrict what I can do within a repository.</li>
</ul>
<h4 id="restricting-shell-accessdistinguishing-one-user-from-another"><span class="header-section-number">4.10.2.1</span> restricting shell access/distinguishing one user from another</h4>
<p>The answer to the first question is the <code>command=</code> we talked about before. If you look in the <code>authorized_keys</code> file, you'll see entries like this (I chopped off the ends of course; they're pretty long lines):</p>
<pre><code>command=&quot;[path]/gitolite-shell sitaram&quot;,[more options] ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA18S2t...
command=&quot;[path]/gitolite-shell usertwo&quot;,[more options] ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEArXtCT...</code></pre>
<p>First, it finds out which of the public keys in this file match the incoming login. That's crypto stuff, and I won't go into it. Once the match has been found, it will run the command given on that line; e.g., if I logged in, it would run <code>[path]/gitolite-shell sitaram</code>. So the first thing to note is that such users do not get &quot;shell access&quot;, which is good!</p>
<p>Before running the command, however, sshd sets up an environment variable called <code>SSH_ORIGINAL_COMMAND</code> which contains the actual git command that your workstation sent out. This is the command that <em>would have run</em> if you did not have the <code>command=</code> part in the authorised keys file.</p>
<p>When <code>gitolite-shell</code> gets control, it looks at the first argument (&quot;sitaram&quot;, &quot;usertwo&quot;, etc) to determine who you are. It then looks at the <code>SSH_ORIGINAL_COMMAND</code> variable to find out which repository you want to access, and whether you're reading or writing.</p>
<p>Now that it has a user, repository, and access requested (read/write), gitolite looks at its config file, and either allows or rejects the request.</p>
<p>But this cannot differentiate between different branches within a repo; that has to be done separately.</p>
<h4 id="restricting-branch-level-actions"><span class="header-section-number">4.10.2.2</span> restricting branch level actions</h4>
<p>[If you look inside the git source tree, there's a file among the &quot;howto&quot;s in there called <code>update-hook-example.txt</code>, which was the inspiration for this part of gitolite.]</p>
<p>Git allows you to specify many &quot;hooks&quot;, which get control as various events happen -- see <code>git help hooks</code> for details. One of those hooks is the <code>update</code> hook, which, if it is present, is invoked just before a branch or a tag is about to be updated. The hook is passed the name of the branch or tag, the old SHA1 value, and the new SHA1 value, as arguments. Hooks that are called <em>before</em> an action happens are allowed to prevent that action from happening by returning an error code.</p>
<p>When gitolite is told to create a new repository (by the admin), it installs a special update hook. This hook takes all the information presented, looks at the config file, and decides to allow or reject the update.</p>
<p>And that's basically it.</p>
<h2 id="gsmigr"><span class="header-section-number">4.11</span> migrating from gitosis to gitolite</h2>
<p>[2012-04-09] Modified for gitolite v3. These instructions have not really been tested with v3, but are expected to work.</p>
<p>Migrating from gitosis to gitolite is fairly easy, because the basic design is the same.</p>
<p>There's only one thing that might trip up people: the userid. Gitosis uses <code>gitosis</code>. Gitolite can use any userid you want; most of the documentation uses <code>git</code>, while DEB/RPM packages use <code>gitolite</code>.</p>
<p>Here are the steps on the server:</p>
<ul>
<li><p>(as 'gitosis' on the server) <strong>Rename</strong> <code>~/.ssh/authorized_keys</code> to something else so that no one can accidentally push while you're doing this.</p></li>
<li><p>(as 'gitosis' on the server) For added safety, <strong>delete</strong> the post-update hook that gitosis-admin installed</p>
<pre><code>rm ~/repositories/gitosis-admin.git/hooks/post-update</code></pre>
<p>or at least rename it to <code>.sample</code> like all the other hooks hanging around, or edit it and comment out the line that calls <code>gitosis-run-hook post-update</code>.</p></li>
<li><p>(as 'gitosis' on the server) If you already use the <code>update</code> hook for some reason, you'll have to make that a <a href="#vref">VREF</a>. This is because gitolite uses the update hook for checking write access.</p></li>
<li><p>(as 'root' on the server) copy all of <code>~/repositories</code> to the gitolite <a href="#hu">hosting user</a>'s home directory. Something like</p>
<pre><code>cp -a /home/gitosis/repositories /home/git
chown -R git.git /home/git/repositories</code></pre></li>
<li><p>(as 'root' and/or 'git' on the server) Follow instructions to install gitolite; see the <a href="#install">install page</a>.</p>
<p>This will give you a gitolite config that has the required entries for the &quot;gitolite-admin&quot; repo.</p></li>
</ul>
<p>Now, log off the server and get back to the client. All subsequent instructions are to be read as &quot;on gitolite admin's workstation&quot;.</p>
<ul>
<li><p><strong>Clone</strong> the new gitolite-admin repo to your workstation. (You already have a clone of the gitosis-admin repo so now you have both).</p></li>
<li><p><strong>Convert</strong> your gitosis config file and append it to your gitolite config file. Substitute the path for your gitosis-admin clone in <code>$GSAC</code> below, and similarly the path for your gito<strong>lite</strong>-admin clone in <code>$GLAC</code>. (The convert-gitosis-conf program is a standalone program that you can bring over from any gitolite clone; you don't have to install all of gitolite on your workstation to use this):</p>
<pre><code>./convert-gitosis-conf &lt; $GSAC/gitosis.conf &gt;&gt; $GLAC/conf/gitolite.conf</code></pre>
<p><strong>Be sure to check the file to make sure it converted correctly</strong> -- due it's &quot;I only need it once&quot; nature, this program has not received too much attention from anyone!</p></li>
<li><p>Remove the entry for the 'gitosis-admin' repo. You do not need it here and it may cause confusion.</p></li>
<li><p><strong>Copy</strong> the keys from gitosis's keydir (same meanings for GSAC and GLAC)</p>
<pre><code>cp $GSAC/keydir/* $GLAC/keydir</code></pre>
<p>If your gitosis-admin key was <code>you@machine.pub</code>, and you supplied the same one to gitolite's gl-setup program as <code>you.pub</code> when you installed gitolite, then you should remove <code>you@machine.pub</code> from the new keydir now. Otherwise you will have 2 pubkey files (<code>you.pub</code> and <code>you@machine.pub</code>) which are identical, which is <em>not</em> a good idea.</p>
<p>Similarly, you should replace all occurrences of <code>you@machine.pub</code> with <code>you</code> in the <code>conf/gitolite.conf</code> file.</p></li>
<li><p><strong>IMPORTANT</strong>: if you have any users with names like <code>user@foo</code>, where the part after the <code>@</code> does <em>not</em> have a <code>.</code> in it (i.e., does not look like an email address), you need to change them, because gitolite uses that syntax for <a href="#multi-key">enabling multi keys</a>.</p>
<p>You have two choices in how to fix this. You can change the gitolite config so that all mention of <code>user@foo</code> is changed to just <code>user</code>.</p>
<p>Or you can change each occurrence of <code>user@foo</code> to, say, <code>user_foo</code> <em>and</em> change the pubkey filename in keydir/ also the same way (<code>user_foo.pub</code>).</p>
<p>Just to repeat, you do NOT need to do this if the username was like <code>user@foo.bar</code>, i.e., the part after the <code>@</code> had a <code>.</code> in it, because then it looks like an email address.</p></li>
<li><p><strong>IMPORTANT: expand any multi-key files you may have</strong>. Gitosis is happy to accept files containing more than one public key (one per line) and assign all the keys to the same user. Gitolite does not allow that; see <a href="#multi-key">here</a>'s for how gitolite handles multi-keys.</p>
<p>So if you had any multi-keys in gitosis, they need to be carefully split into individual keys.</p>
<p>You can split the keys manually, or use the following code (just copy-paste it into your xterm after &quot;cd&quot;-ing to your gitolite-admin repo clone):</p>
<pre><code>wc -l keydir/*.pub | grep -v total | grep -v -w 1 | while read a b
do
    i=1
    cat $b|while read l
    do
        echo &quot;$l&quot; &gt; ${b%.pub}@$i.pub
        (( i++ ))
    done
    mv $b $b.done
done</code></pre>
<p>This will split each multi-key file (say &quot;sitaram.pub&quot;) into individual files called &quot;sitaram@1.pub&quot;, &quot;sitaram@2.pub&quot;, etc., and rename the original to &quot;sitaram.pub.done&quot; so gitolite won't pick it up.</p>
<p>At this point you can rename the split parts more appropriately, like &quot;sitaram@laptop.pub&quot; and &quot;sitaram@desktop.pub&quot; or whatever. <em>Please check the files to make sure this worked properly</em></p></li>
<li><p>Check all your changes to your gitolite-admin clone, commit, and push.</p></li>
</ul>
<h2 id="rc-33"><span class="header-section-number">4.12</span> the v3.0 to v3.3 &quot;rc&quot; file (<code>$HOME/.gitolite.rc</code>)</h2>
<p><strong>NOTE 1</strong>: if you're using v3.4 and above, see <a href="#rc">this</a>.</p>
<p><strong>NOTE 2</strong>: if you're migrating from v2, there are some settings that MUST be dealt with <strong>before</strong> running <code>gitolite setup</code>; please read the <a href="#migr">migration</a> page and linked pages, and especially the one on &quot;presetting the rc file&quot;</p>
<hr />
<p>The rc file for v3 is <em>quite</em> different from that of v2.</p>
<p>As before, it is designed to be the only thing unique to your site for most setups. What is new is that it is easy to extend it when new needs come up, without having to touch core gitolite.</p>
<p>The rc file is perl code, but you do NOT need to know perl to edit it. Just mind the commas, use single quotes unless you know what you're doing, and make sure the brackets and braces stay matched up!</p>
<p>Please look at the <code>~/.gitolite.rc</code> file that gets installed when you setup gitolite. As you can see there are 3 types of variables in it:</p>
<ul>
<li>simple variables (like <code>UMASK</code>)</li>
<li>lists (like <code>POST_COMPILE</code>, <code>POST_CREATE</code>)</li>
<li>hashes (like <code>ROLES</code>, <code>COMMANDS</code>)</li>
</ul>
<p>While some of the variables are documented in this file, many of them are not. Their purposes are to be found in each of their individual documentation files around; start with <a href="#non-core">&quot;non-core&quot; gitolite</a>. If a setting is used by a command then running that command with '-h' may give you additional information.</p>
<h3 id="specific-variables-1"><span class="header-section-number">4.12.1</span> specific variables</h3>
<ul>
<li><p><code>$UMASK</code>, octal, default <code>0077</code></p>
<p>The default UMASK that gitolite uses makes all the repos and their contents have <code>rwx------</code> permissions. People who want to run gitweb realise that this will not do.</p>
<p>The correct way to deal with this is to give this variable a value like <code>0027</code> (note the syntax: the leading 0 is required), and then make the user running the webserver (apache, www-data, whatever) a member of the 'git' group.</p>
<p>If you've already installed gitolite then existing files will have to be fixed up manually (for a umask or 0027, that would be <code>chmod -R g+rX</code>). This is because umask only affects permissions on newly created files, not existing ones.</p></li>
<li><p><code>$GIT_CONFIG_KEYS</code>, string, default empty</p>
<p>This setting allows the repo admin to define acceptable gitconfig keys.</p>
<p>Gitolite allows you to set git config values using the &quot;config&quot; keyword; see <a href="#git-config">here</a> for details and syntax.</p>
<p>However, if you are in an installation where the repo admin does not (and should not) have shell access to the server, then allowing him to set arbitrary repo config options <em>may</em> be a security risk -- some config settings allow executing arbitrary commands!</p>
<p>You have 3 choices. By default <code>$GIT_CONFIG_KEYS</code> is left empty, which completely disables this feature (meaning you cannot set git configs via the repo config).</p>
<p>The second choice is to give it a space separated list of settings you consider safe. (These are actually treated as a set of <a href="#regex">regular expressions</a>, and any one of them must match).</p>
<p>For example:</p>
<pre><code>$GIT_CONFIG_KEYS = 'core\.logAllRefUpdates core\..*compression';</code></pre>
<p>Each regex should match the <em>whole</em> key (in other words, there is an implicit <code>^</code> at the start of each regex, and a <code>$</code> at the end).</p>
<p>The third choice (which you may have guessed already if you're familiar with regular expressions) is to allow anything and everything: <code>$GIT_CONFIG_KEYS = '.*';</code></p></li>
<li><p><code>ROLES</code>, hash, default keys 'READERS' and 'WRITERS'</p>
<p>This specifies the role names allowed to be used by users running the <a href="#perms">perms</a> command. The <a href="#wild">wild</a> repos doc has more info on roles.</p></li>
<li><p><code>DEFAULT_ROLE_PERMS</code>, string, default undef</p>
<p>This sets default wildcard permissions for newly created wildcard repos.</p>
<p>If set, this value will be used as the default role permissions for new wildcard repositories. The user can change this value with the perms command as desired after repository creation; it is only a default.</p>
<p>Please be aware this is potentially a multi-line variable. In most setups, it will be left undefined. Some installations may benefit from setting it to <code>READERS @all</code>.</p>
<p>If you want multiple roles to be assigned by default, here is how. Note double quotes this time, due to the embedded newline, which in turn require the '@' to be escaped:</p>
<pre><code>DEFAULT_ROLE_PERMS  =&gt;  &quot;READERS \@all\nWRITERS \@senior_devs&quot;,</code></pre></li>
<li><p><code>LOCAL_CODE</code>, string</p>
<p>This is described in more detail <a href="#localcode">here</a>. Please be aware <strong>this must be a FULL path</strong>, not a relative path.</p></li>
</ul>
<h2 id="sts"><span class="header-section-number">4.13</span> ssh troubleshooting and tips</h2>
<p><strong>This page must be read in full the first time. If you start from some nice looking section in the middle it may not help you unless you're already an expert at ssh</strong>.</p>
<p>This page should help you troubleshoot ssh-related problems in installing and accessing gitolite. It also has a section of random ssh-related tips and tricks that gitolite can do.</p>
<h3 id="important----read-this-first"><span class="header-section-number">4.13.1</span> IMPORTANT -- READ THIS FIRST</h3>
<h4 id="caveats-1"><span class="header-section-number">4.13.1.1</span> caveats</h4>
<ul>
<li><p>Before reading this page, it is <strong>mandatory</strong> to read and <strong>completely understand</strong> <a href="#ssh">this</a>, which is a very detailed look at how gitolite uses ssh's features on the server side. Don't assume you know all that; if you did, you wouldn't be needing <em>this</em> page either!</p></li>
<li><p>This page, and others linked from this, together comprise all the help I can give you in terms of the ssh aspect of using gitolite. If you're installing gitolite, you're a &quot;system admin&quot;, like it or not. Ssh is therefore a necessary skill. Please take the time to learn at least enough to get passwordless access working.</p></li>
<li><p>Please note that authentication is not really gitolite's job at all. I'd rather spend time on actual gitolite features, code, and documentation than authentication (i.e., ssh, in the common case).</p>
<p>Surprised? <a href="#auth">This</a> might help explain better.</p></li>
</ul>
<h4 id="naming-conventions-used"><span class="header-section-number">4.13.1.2</span> naming conventions used</h4>
<ul>
<li><p>Your workstation is the <strong>client</strong>. Your userid on the client does not matter, and it has no relation to your gitolite username.</p></li>
<li><p>The server is called <strong>server</strong> and the &quot;hosting user&quot; is <strong>git</strong>. If this is an RPM/DEB install, the hosting user is probably called &quot;gitolite&quot;, however we will use &quot;git&quot; in this page.</p></li>
</ul>
<h4 id="taking-stock----relevant-files-and-directories"><span class="header-section-number">4.13.1.3</span> taking stock -- relevant files and directories</h4>
<ul>
<li><p>The client has a <code>~/.ssh</code> containing a few keypairs. It may also have a <code>config</code> file.</p></li>
<li><p>The client also has a clone of the &quot;gitolite-admin&quot; repo, which contains a bunch of <code>*.pub</code> files in <code>keydir</code>. We assume this clone is in <code>$HOME</code>; if it is not, adjust instructions accordingly when needed.</p></li>
<li><p>The git user on the server has a <code>~/.ssh/authorized_keys</code> file that the ssh daemon uses to authenticate incoming users. We often call this file <strong>authkeys</strong> to save typing, and it always means the one on the server (we're not interested in this file on the client side).</p></li>
<li><p>The server also has a <code>~/.gitolite/keydir</code> which contains a bunch of <code>*.pub</code> files.</p></li>
</ul>
<h4 id="normal-gitolite-key-handling"><span class="header-section-number">4.13.1.4</span> normal gitolite key handling</h4>
<p>Here's how normal gitolite key handling works:</p>
<ul>
<li><p>(On client) pub key changes like adding new ones, deleting old ones, etc., are done in the <code>keydir</code> directory in the gitolite-admin repo clone. Then the admin <code>git add</code>s and <code>git commit</code>s those changes, then <code>git push</code>es them to the server.</p></li>
<li><p>(On server) a successful push from the client makes git invoke the post-update hook in the gitolite-admin repo. This hook is installed by gitolite, and it does a bunch of things which are quite transparent to the admin, but we'll describe briefly here:</p>
<ul>
<li><p>The pubkey files from this push are checked-out into <code>~/.gitolite/keydir</code> (and similarly the config files into <code>~/.gitolite/conf</code>).</p></li>
<li><p>The &quot;compile&quot; script then runs, which uses these files to populate <code>~/.ssh/authorized_keys</code> on the server.</p>
<p>The authkeys file may have other, (non-gitolite) keys also. Those lines are preserved. Gitolite only touches lines that are found between gitolite's &quot;marker&quot; lines (<code># gitolite start</code> and <code># gitolite end</code>).</p></li>
</ul></li>
</ul>
<h3 id="common-ssh-problems"><span class="header-section-number">4.13.2</span> common ssh problems</h3>
<p>Since I'm pretty sure at least some of you didn't bother to read the &quot;IMPORTANT: PLEASE READ FIRST&quot; section above, let me take a minute to point you there again. Especially the first bullet.</p>
<p>Done? OK, read on...</p>
<p>The following problem(s) indicate that pubkey access is not working at all, so you should start with <a href="#stsapp1">appendix 1</a>. If that doesn't fix the problem, continue with the other appendices in sequence.</p>
<ul>
<li>Running any git clone/fetch/ls-remote or just <code>ssh git@server info</code> asks you for a password. (Or, if your sshd is set to use keys only, it just disconnects without doing anything).</li>
</ul>
<p>The following problem(s) indicate that your pubkey is bypassing gitolite and going straight to a shell. You should start with <a href="#sshkeys-lint">appendix 2</a> and continue with the rest in sequence. <a href="#ybpfail">Appendix 5</a> has some background info.</p>
<ul>
<li><p>Running <code>ssh git@server info</code> gets you the output of the GNU 'info' command instead of gitolite's version and access info.</p></li>
<li><p>Running <code>git clone git@server:repositories/reponame</code> (note presence of <code>repositories/</code> in URL) works.</p>
<p>[A proper gitolite key will only let you <code>git clone git@server:reponame</code> (note absence of <code>repositories/</code>)]</p></li>
<li><p>You are able to clone repositories but are unable to push changes back (the error complains about the <code>GL_BINDIR</code> environment variable not being set or about not being able to locate <code>Gitolite/Hooks/Update.pm</code>, and the <code>hooks/update</code> failing in some way).</p>
<p>[If you run <code>git remote -v</code> you will find that your clone URL included the <code>repositories/</code> described above!]</p></li>
<li><p>Conversely, using the correct syntax, <code>git clone git@server:reponame</code> (note absence of <code>repositories/</code> in the URL), gets you <code>fatal: 'reponame'     does not appear to be a git repository</code>, and yet you are sure 'reponame' exists, you haven't mis-spelled it, etc.</p></li>
</ul>
<h3 id="step-by-step"><span class="header-section-number">4.13.3</span> step by step</h3>
<p>Since I'm pretty sure at least some of you didn't bother to read the &quot;IMPORTANT: PLEASE READ FIRST&quot; section above, let me take a minute to point you there again. Especially the first bullet.</p>
<p>Done? OK, now the general outline for ssh troubleshooting is this:</p>
<ul>
<li><p>Make sure the server's overall setup even <em>allows</em> pubkey based login. I.e., check that git fetch/clone/ls-remote commands or a plain <code>ssh     git@server info</code> do NOT ask for a password. If you do get asked for a password, see <a href="#stsapp1">appendix 1</a>.</p></li>
<li><p>Match client-side pubkeys (<code>~/.ssh/*.pub</code>) with the server's authkeys file. To do this, run <code>sshkeys-lint</code>, which tells you in detail what key has what access. See <a href="#sshkeys-lint">appendix 2</a>.</p></li>
<li><p>At this point, we know that we have the right key, and that if sshd receives that key, things will work. But we're not done yet. We still need to make sure that this specific key is being offered/sent by the client, instead of the default key. See <a href="#stsapp3">appendix 3</a> and <a href="#ssh-ha">appendix 4</a>.</p></li>
</ul>
<h3 id="random-tips-tricks-and-notes"><span class="header-section-number">4.13.4</span> random tips, tricks, and notes</h3>
<h4 id="giving-shell"><span class="header-section-number">4.13.4.1</span> giving shell access to gitolite users</h4>
<p>Thanks to an idea from Jesse Keating, a single key can allow both gitolite access <em>and</em> shell access.</p>
<p><span class="gray">(v3.6.1+)</span> There are two ways to do this, both require uncommenting and editing the 'Shell' line in the ENABLE list in the rc file.</p>
<p>If you have only a few users who need to get shell access, edit the line to look like this (note the trailing comma!):</p>
<pre><code>'Shell alice bob',</code></pre>
<p>If you have lots of users, add them to some file accessible to gitolite, (one per line, no extra whitespace), then specify the full path of the file. For example:</p>
<pre><code>&quot;Shell $ENV{HOME}/.gitolite.shell-users&quot;,</code></pre>
<p>(Note in this case we have to use double quotes since we are using a variable that needs to be interpolated into the value).</p>
<p>Then run <code>gitolite compile; gitolite trigger POST_COMPILE</code> or push a dummy change to the admin repo.</p>
<h5 id="the-shell_users_list"><span class="header-section-number">4.13.4.1.1</span> the SHELL_USERS_LIST</h5>
<p>If you're using gitolite v3.6 or below, it's slightly different. You have to enable the trigger by uncommenting the 'Shell' line in the ENABLE list, but you cannot list the users directly on the 'Shell' line in the rc file, nor can you put the file name on that line. Instead, you have to go to the variables section in the rc file and set the SHELL_USERS_LIST variable to the filename. For example:</p>
<pre><code>SHELL_USERS_LIST        =&gt;  &quot;$ENV{HOME}/.gitolite.shell-users&quot;,</code></pre>
<p>Then run <code>gitolite compile; gitolite trigger POST_COMPILE</code> or push a dummy change to the admin repo.</p>
<p><strong>NOTE</strong>: to maintain backward compatibility, this method will continue to work in 3.6.*, but when 3.7 is released (whenever that may be), it will not work, and you will have to use the new syntax described above.</p>
<h4 id="kfn"><span class="header-section-number">4.13.4.2</span> distinguishing one key from another</h4>
<p>Since a user can have <a href="#multi-key">more than one key</a>, it is sometimes useful to distinguish one key from another. Sshd does not tell you even the fingerprint of the key that finally matched, so normally all you have is the <code>GL_USER</code> env var.</p>
<p>However, if you replace</p>
<pre><code>'ssh-authkeys',</code></pre>
<p>in the ENABLE list with</p>
<pre><code>'ssh-authkeys --key-file-name',</code></pre>
<p>then an extra argument is added after the username in the &quot;command&quot; variable of the authkeys file. That is, instead of this:</p>
<pre><code>command=&quot;/home/g3/gitolite/src/gitolite-shell u3&quot;,no-port-forwarding,...</code></pre>
<p>you get this:</p>
<pre><code>command=&quot;/home/g3/gitolite/src/gitolite-shell u3 keydir/u3.pub&quot;,no-port-forwarding,...</code></pre>
<p>You can then write an INPUT trigger to do whatever you need with the file name, which is in <code>$ARGV[1]</code> (the second argument). The actual file is available at <code>$ENV{GL_ADMIN_BASE}/$ARGV[1]</code> if you need its contents.</p>
<h4 id="simulating-ssh-copy-id"><span class="header-section-number">4.13.4.3</span> simulating ssh-copy-id</h4>
<p>don't have <code>ssh-copy-id</code>? This is broadly what that command does, if you want to replicate it manually. The input is your pubkey, typically <code>~/.ssh/id_rsa.pub</code> from your client/workstation.</p>
<ul>
<li><p>It copies it to the server as some file.</p></li>
<li><p>It appends that file to <code>~/.ssh/authorized_keys</code> on the server (creating it if it doesn't already exist).</p></li>
<li><p>It then makes sure that all these files/directories have go-w perms set (assuming user is &quot;git&quot;):</p>
<pre><code>/home/git/.ssh/authorized_keys
/home/git/.ssh
/home/git</code></pre></li>
</ul>
<p>[Actually, <code>sshd</code> requires that even directories <em>above</em> <code>~</code> (<code>/</code>, <code>/home</code>, typically) also must be <code>go-w</code>, but that needs root. And typically they're already set that way anyway. (Or if they're not, you've got bigger problems than gitolite install not working!)]</p>
<h4 id="problems-with-using-non-openssh-public-keys"><span class="header-section-number">4.13.4.4</span> problems with using non-openssh public keys</h4>
<p>Gitolite accepts public keys only in openssh format. Trying to use an &quot;ssh2&quot; key (used by proprietary SSH software) will not be a happy experience. src/triggers/post-compile/ssh-authkeys can be made to detect non-openssh formats and automatically convert them; patches welcome!</p>
<p>The actual conversion command, if you want to just do it manually for now and be done with it, is:</p>
<pre><code>ssh-keygen -i -f /tmp/ssh2/YourName.pub &gt; /tmp/openssh/YourName.pub</code></pre>
<p>then use the resulting pubkey as you normally would in gitolite.</p>
<h4 id="windows-issues"><span class="header-section-number">4.13.4.5</span> windows issues</h4>
<p>On windows, I have only used msysgit, and the openssh that comes with it. Over time, I have grown to distrust putty/plink due to the number of people who seem to have trouble when those beasts are involved (I myself have never used them for any kind of git access). If you have unusual ssh problems that just don't seem to have any explanation, try removing all traces of putty/plink, including environment variables, etc., and then try again.</p>
<p>Thankfully, someone contributed <a href="#putty">this</a>.</p>
<h3 id="stsapp1"><span class="header-section-number">4.13.5</span> appendix 1: ssh daemon asks for a password</h3>
<blockquote>
<p><strong>NOTE</strong>: This section should be useful to anyone trying to get password-less access working. It is not necessarily specific to gitolite, so keep that in mind if the wording feels a little more general than you were expecting.</p>
</blockquote>
<p>You have generated a keypair on your workstation (<code>ssh-keygen</code>) and copied the public part of it (<code>~/.ssh/id_rsa.pub</code>, by default) to the server.</p>
<p>On the server you have appended this file to <code>~/.ssh/authorized_keys</code>. Or you ran something, like the <code>gitolite setup</code> step during a gitolite install, which should have done that for you.</p>
<p>You now expect to log in without having to type in a password, but when you try, you are being asked for a password.</p>
<p>This is a quick checklist:</p>
<ul>
<li><p>Make sure you're being asked for a password and not a pass<em>phrase</em>. Do not confuse or mistake a prompt saying <code>Enter passphrase for key     '/home/sitaram/.ssh/id_rsa':</code> for a password prompt from the remote server!</p>
<p>When you create an ssh keypair using <code>ssh-keygen</code>, you have the option of protecting it with a passphrase. When you subsequently use that keypair to access a remote host, your <em>local</em> ssh client needs to unlock the corresponding private key, and ssh will probably ask for the passphrase you set when you created the keypair.</p>
<p>You have two choices to avoid this prompt every time you try to use the private key. The first is to create keypairs <em>without</em> a passphrase (just hit enter when prompted for one). <strong>Be sure to add a passphrase later, once everything is working, using <code>ssh-keygen -p</code></strong>.</p>
<p>The second is to use <code>ssh-agent</code> (or <code>keychain</code>, which in turn uses <code>ssh-agent</code>) or something like that to manage your keys. Other than discussing one more potential trouble-spot with ssh-agent (see below), further discussion of ssh-agent/keychain is out of scope of this page.</p></li>
<li><p>Ssh is very sensitive to permissions. An extremely conservative setup is given below, but be sure to do this on <strong>both the client and the server</strong>:</p>
<pre><code>cd $HOME
chmod go-rwx .
chmod -R go-rwx .ssh</code></pre></li>
<li><p>Actually, every component of the path to <code>~/.ssh/authorized_keys</code> all the way upto the root directory must be at least <code>chmod go-w</code>. So be sure to check <code>/</code> and <code>/home</code> also.</p></li>
<li><p>While you're doing this, make sure the owner and group info for each of these components are correct. <code>ls -ald ~ ~/.ssh ~/.ssh/authorized_keys</code> will tell you what they are.</p></li>
<li><p>You may also want to check <code>/etc/ssh/sshd_config</code> to see if the &quot;git&quot; user is allowed to login at all. For example, if that file contains an <code>AllowUsers</code> config entry, then only users mentioned in that line are allowed to log in!</p></li>
<li><p>While you're in there, check that file does NOT have a setting for <code>AuthorizedKeysFile</code>. See <code>man sshd_config</code> for details. This setting is a show stopper for gitolite to use ssh.</p></li>
<li><p>Some OSs/distributions require that the &quot;git&quot; user should have a password and/or not be a locked account. You may want to check that as well.</p></li>
<li><p>If your server is running SELinux, and you install gitolite to <code>/var/gitolite</code> or another location unsupported by default SELinux policies, then SELinux will prevent sshd from reading <code>.ssh/authorized_keys</code>. Consider installing gitolite to <code>/var/lib/gitolite</code>, which is a supported location by default SELinux policies.</p></li>
<li><p>If all that fails, log onto the server as root, <code>cd /var/log</code>, and look for a file called <code>auth.log</code> or <code>secure</code> or some such name. Look inside this file for messages matching the approximate time of your last attempt to login, to see if they tell you what is the problem.</p></li>
</ul>
<h3 id="sshkeys-lint"><span class="header-section-number">4.13.6</span> appendix 2: which key is which -- running sshkeys-lint</h3>
<p>The sshkeys-lint program can be run on the server or the client. Run it with '-h' to get a help message.</p>
<p>On the server you can run <code>gitolite sshkeys-lint</code> and it will tell you, for each key in the admin directory's keydir, what access is available. This is especially good at finding duplicate keys and such.</p>
<p>To run it on the client you have to copy the file src/commands/sshkeys-lint from some gitolite clone, then follow these steps:</p>
<ul>
<li><p>Get a copy of <code>~/.ssh/authorized_keys</code> from the server and put it in <code>/tmp/foo</code> or something.</p></li>
<li><p>cd to <code>~/.ssh</code>.</p></li>
<li><p>Run <code>/path/to/sshkeys-lint *.pub &lt; /tmp/foo</code>.</p></li>
</ul>
<p>Note that it is not trying to log in or anything -- it's just comparing fingerprints as computed by <code>ssh-keygen -l</code>.</p>
<p>If the pubkey file you're interested in appears to have the correct access to the server, you're done with this step.</p>
<p>Otherwise you have to rename some keypairs and try again to get the effect you need. Be careful:</p>
<ul>
<li><p>Do not just rename the &quot;.pub&quot; file; you will have to rename the corresponding private key also (the one with the same basename but without an extension).</p></li>
<li><p>If you're running ssh-agent, you may have to delete (using <code>ssh-add -D</code>) and re-add identities for it to pick up the renamed ones correctly.</p></li>
</ul>
<h4 id="typical-causes"><span class="header-section-number">4.13.6.1</span> typical cause(s)</h4>
<p>The admin often has passwordless shell access to <code>git@server</code> already, and then used that same key to get access to gitolite (i.e., copied that same pubkey as YourName.pub and ran <code>gitolite setup</code> on it).</p>
<p>As a result, the same key appears twice in the authkeys file now, and since the ssh server will always use the first match, the second occurrence (which invokes gitolite) is ignored.</p>
<p>To fix this, you have to use a different keypair for gitolite access. The best way to do this is to create a new keypair, copy the pubkey to the server as YourName.pub, then run <code>gitolite setup -pk YourName.pub</code> on the server. Remember to adjust your agent identities using ssh-add -D and ssh-add if you're using ssh-agent, otherwise these new keys may not work.</p>
<h3 id="stsapp3"><span class="header-section-number">4.13.7</span> appendix 3: ssh client may not be offering the right key</h3>
<ul>
<li><p>Make sure the right private key is being offered. Run ssh in very verbose mode and look for the word &quot;Offering&quot;, like so:</p>
<pre><code>ssh -vvv user@host pwd 2&gt; &gt;(grep -i offer)</code></pre>
<p>If some keys <em>are</em> being offered, but not the key that was supposed to be used, you may be using ssh-agent (next bullet). You may also need to create some host aliases in <code>~/.ssh/config</code> (<a href="#ssh-ha">appendix 4</a>).</p></li>
<li><p>(ssh-agent issues) If <code>ssh-add -l</code> responds with either &quot;The agent has no identities.&quot; or &quot;Could not open a connection to your authentication agent.&quot;, then you can skip this bullet.</p>
<p>However, if <code>ssh-add -l</code> lists <em>any</em> keys at all, then something weird happens. Due to a quirk in ssh-agent, ssh will now <em>only</em> use one of those keys, <em>even if you explicitly ask</em> for some other key to be used.</p>
<p>In that case, add the key you want using <code>ssh-add ~/.ssh/YourName</code> and try the access again.</p></li>
</ul>
<h3 id="ssh-ha"><span class="header-section-number">4.13.8</span> appendix 4: ssh host aliases</h3>
<p>(or &quot;making git use the right options for ssh&quot;)</p>
<p>The ssh command has several options for non-default items to be specified. Two common examples are <code>-p</code> for the port number if it is not 22, and <code>-i</code> for the public key file if you do not want to use just <code>~/.ssh/id_rsa</code> or such.</p>
<p>Git has two ssh-based URL syntaxes, but neither allows specifying a non-default public key file. And a port number is only allowed in one of them. (See <code>man git-clone</code> for details). Finally, hosts often have to be referred with IP addresses (such is life), or the name is very long, or hard to remember.</p>
<p>Using a &quot;host&quot; para in <code>~/.ssh/config</code> lets you nicely encapsulate all this within ssh and give it a short, easy-to-remember, name. Example:</p>
<pre style="font-family: 'Andale mono',monospace; padding: 4px; color: #ffffff; background-color: #000000;">
<span class="Type">host</span> gitolite
    <span class="Statement">user</span> git
    <span class="Statement">hostname</span> <span class="Constant">a.long.server.name.or.annoying.IP.address</span>
    <span class="Statement">port</span> <span class="Constant">22</span>
    <span class="Statement">identityfile</span> ~/.ssh/id_rsa
</pre>

<p>Now you can simply use the one word <code>gitolite</code> (which is the host alias we defined here) and ssh will infer all those details defined under it -- just say <code>ssh gitolite</code> and <code>git clone gitolite:reponame</code> and things will work.</p>
<p>(By the way, the 'port' and 'identityfile' lines are needed only if you have non-default values, although I put them in anyway just to be complete).</p>
<p>If you have <em>more than one</em> pubkey with access to the <em>same</em> server, you <strong>must</strong> use this method to make git pick up the right key. There is no other way to do this, as far as I know.</p>
<h3 id="ybpfail"><span class="header-section-number">4.13.9</span> appendix 5: why bypassing gitolite causes a problem</h3>
<p>When you bypass gitolite, you end up running your normal shell instead of the special gitolite entry point script <code>gitolite-shell</code>.</p>
<p>This means commands (like 'info') are interpreted by the shell instead of gitolite.</p>
<p>It also means git operations look for repos in <code>$HOME</code>.</p>
<p>However, gitolite places all your repos in a subdirectory pointed to by <code>$REPO_BASE</code> in the rc file (default: <code>repositories</code>), and internally prefixes this before calling the actual git command you invoked. Thus, the pathname of the repo that you use on the client is almost never the correct pathname on the server. (This is by design. Don't argue...)</p>
<p>This means that, you get 2 kinds of errors if you bypass gitolite</p>
<ul>
<li><p>When you use <code>git@server:reponame</code> with a key that bypasses gitolite (i.e., gets you a shell), this prefixing does not happen, and so the repo is not found. Neither a clone/fetch nor a push will work.</p></li>
<li><p>Conversely, consider <code>git@server:repositories/reponame.git</code>. The clone operation will work -- you're using the full Unix path, (assuming default <code>$REPO_BASE</code> setting), and so the shell finds the repo where you said it would be. However, when you push, gitolite's <strong>update hook</strong> kicks in, and fails to run because some of the environment variables it is expecting are not present.</p></li>
</ul>
<h2 id="why-v3"><span class="header-section-number">4.14</span> why a completely new version?</h2>
<p>Gitolite started life as 400 lines of perl written on a weekend because I was quickly losing control of my projects at work, exacerbated by git newbies doing all the wrong things. I really needed it!</p>
<p>That little 400 line thing is now a huge bunch of programs that do all sorts of things (I mean, rsync access control in a git related program? WTF!), because it kinda just <em>grew</em> while I wasn't looking.</p>
<p>So, briefly, here are the advantages of v3:</p>
<ul>
<li><p>compile versus everything else</p>
<p>v2's &quot;compile&quot; script was doing way, way too much. For example, dealing with gitweb and git-daemon was a good chunk of code in v2. In contrast, here's how v3 generates gitweb's projects.list file:</p>
<pre><code>(
    gitolite list-phy-repos | gitolite access % gitweb R any | grep -v DENIED
    gitolite list-phy-repos | gitolite git-config -r % gitweb\\.
) |
    cut -f1 | sort -u | sed -e 's/$/.git/' &gt; $plf</code></pre></li>
<li><p>core versus non-core</p>
<p>That's just the tip of the iceberg. The commands above run from a script that is itself outside gitolite, and can be enabled and disabled from the rc file. There are six different &quot;events&quot; within gitolite that can trigger non-core programs (or call functions in non-core perl modules), with specific arguments passed to them, much like git's own hooks. The example you saw is called from the &quot;POST_COMPILE&quot; trigger.</p>
<p>And as you can see, these programs be in any language.</p></li>
<li><p>get/set perms/desc, and ADCs</p>
<p>I've always wanted to kick setperms out of core and make it an ADC. Sadly, it couldn't be done because when you update your repo's permissions using setperms, that can affect gitweb/daemon access, which -- you guessed right -- feeds back into the main code in complex ways. It <em>had</em> to be an &quot;inside job&quot;.</p>
<p>But now, the new 'perms' program is quite external to gitolite. And how does it fix up gitweb/daemon permissions after it is done updating the &quot;gl-perms&quot; file?</p>
<pre><code>system(&quot;gitolite&quot;, &quot;trigger&quot;, &quot;POST_CREATE&quot;);</code></pre></li>
<li><p>syntax versus semantics</p>
<p>I got tired of people asking things like &quot;why can't I have backslash-escaped continuation lines?&quot; I designed it differently because I don't like them but perhaps it's reasonable for some people.</p>
<p>Someone else wanted to use subdirectories of 'keydir' as group names. Why not?</p>
<p>v3 comes with a stackable set of &quot;syntactic sugar&quot; helpers. And you can write your own, though they do have to be in perl (because they're not standalone programs).</p>
<p>Once the code is written and placed in the right place, all you have to do to enable it is to uncomment some lines in the ENABLE list in the rc file:</p>
<pre><code># 'continuation-lines',
# 'keysubdirs-as-groups',
&lt;etc&gt;</code></pre></li>
<li><p>roll your own</p>
<p>Having a decent shell API helps enormously. You saw an example above but how about if your boss asks you &quot;I need a list of everyone who <em>currently</em> has read access to the 'foo' repo&quot;?</p>
<p>Sure you could look in conf/gitolite.conf, all its include files (if you have any), and if the repo is user-created, then in its gl-perms.</p>
<p>Or you could do something like this:</p>
<pre><code>gitolite list-users | gitolite access foo % R any | cut -f1</code></pre></li>
<li><p>over-engineered</p>
<p>v2 was, to some extent, over-engineered. One of the best examples is the documentation on hook-propagation in v2, which was far too complicated compared to v3.</p></li>
</ul>
<p>Anyway you get the idea.</p>
<p>The point is not that you can do all these cool tricks. The point is they are possible because of the redesign. There is no way on God's green earth I could have done this with the old code.</p>
<h1 id="contributed-documentation"><span class="header-section-number">5</span> contributed documentation</h1>
<h2 id="ssh-and-http"><span class="header-section-number">5.1</span> Making repositories available to both ssh and http mode clients</h2>
<p>Copyright Thomas Hager (duke at sigsegv dot at). Licensed under CC-BY-NC-SA unported 3.0, http://creativecommons.org/licenses/by-nc-sa/3.0/</p>
<p>Assumptions:</p>
<ul>
<li>Apache 2.x with CGI and Suexec support installed.</li>
<li>Git and Gitolite installed with user &quot;git&quot; and group &quot;git&quot;, and pubkey SSH access configured and working.</li>
<li>Git plumbing installed to /usr/libexec/git-core</li>
<li>Gitolite base located at /opt/git</li>
<li>Apache <code>DOCUMENT_ROOT</code> set to /var/www</li>
<li>Apache runs with user www and group www</li>
</ul>
<p>Please adjust the instructions below to reflect your setup (users and paths).</p>
<p>Edit your .gitolite.rc and add</p>
<pre><code>$ENV{PATH} .= &quot;:/opt/git/bin&quot;;</code></pre>
<p>at the very top (as described in <code>t/smart-http.root-setup</code>).</p>
<p>Next, check which document root your Apache's suexec accepts:</p>
<pre><code># suexec -V
 -D AP_DOC_ROOT=&quot;/var/www&quot;
 -D AP_GID_MIN=100
 -D AP_HTTPD_USER=&quot;www&quot;
 -D AP_LOG_EXEC=&quot;/var/log/apache/suexec.log&quot;
 -D AP_SAFE_PATH=&quot;/usr/local/bin:/usr/bin:/bin&quot;
 -D AP_UID_MIN=100
 -D AP_USERDIR_SUFFIX=&quot;public_html&quot;</code></pre>
<p>We're interested in <code>AP_DOC_ROOT</code>, which is set to <code>/var/www</code> in our case.</p>
<p>Create a <code>bin</code> and a <code>git</code> directory in <code>AP_DOC_ROOT</code>:</p>
<pre><code>install -d -m 0755 -o git -g git /var/www/bin
install -d -m 0755 -o www -g www /var/www/git</code></pre>
<p><code>/var/www/git</code> is just a dummy directory used as Apache's document root (see below).</p>
<p>Next, create a shell script inside <code>/var/www/bin</code> named <code>gitolite-suexec-wrapper.sh</code>, with mode <strong>0700</strong> and owned by user and group <strong>git</strong>. Add the following content:</p>
<pre><code>#!/bin/bash
#
# Suexec wrapper for gitolite-shell
#

export GIT_PROJECT_ROOT=&quot;/opt/git/repositories&quot;
export GITOLITE_HTTP_HOME=&quot;/opt/git&quot;

exec ${GITOLITE_HTTP_HOME}/gitolite-source/src/gitolite-shell</code></pre>
<p>Edit your Apache's config to add http pull/push support, preferably in a dedicated <code>VirtualHost</code> section:</p>
<pre><code>&lt;VirtualHost *:80&gt;
    ServerName        git.example.com
    ServerAlias       git
    ServerAdmin       you@example.com

    DocumentRoot /var/www/git
    &lt;Directory /var/www/git&gt;
        Options       None
        AllowOverride none
        Order         allow,deny
        Allow         from all
    &lt;/Directory&gt;

    SuexecUserGroup git git
    ScriptAlias /git/ /var/www/bin/gitolite-suexec-wrapper.sh/
    ScriptAlias /gitmob/ /var/www/bin/gitolite-suexec-wrapper.sh/

    &lt;Location /git&gt;
        AuthType Basic
        AuthName &quot;Git Access&quot;
        Require valid-user
        AuthUserFile /etc/apache/git.passwd
    &lt;/Location&gt;
&lt;/VirtualHost&gt;</code></pre>
<p>This Apache config is just an example, you probably should adapt the authentication section and use https instead of http!</p>
<p>Finally, add an <code>R = daemon</code> access rule to all repositories you want to make available via http.</p>
<h2 id="putty"><span class="header-section-number">5.2</span> putty and msysgit</h2>
<p>Copyright: Thomas Berezansky (tsbere (at) mvlc (dot) org). Licensed under CC-BY-SA unported 3.0, http://creativecommons.org/licenses/by-sa/3.0/</p>
<p>This document is intended for those who wish to use Putty/Plink with msysgit.</p>
<p>If you need more help with putty or component programs I suggest looking at <a href="http://the.earth.li/~sgtatham/putty/latest/htmldoc/">the official putty documentation</a>.</p>
<p><strong>If you are not already using Putty for SSH it is recommended you do <em>NOT</em> use it with msysgit.</strong></p>
<p><strong>Please note that this only covers the client side of things, and does not involve server side components to troubleshooting. For that, please see the <a href="#sts">ssh-troubleshooting document</a>.</strong></p>
<p><a name="msysgit_setup"></a></p>
<h3 id="msysgit-setup"><span class="header-section-number">5.2.1</span> msysgit setup</h3>
<p>Provided you have putty sessions msysgit should give you the option of specifying a location to plink. If it did not then you will need to add an environment variable named &quot;GIT_SSH&quot; to point at plink.exe, wherever you have that sitting.</p>
<p>How to do that on your version of windows will likely vary, and is not covered here. For purposes of example, on a 64 bit Windows Vista machine the GIT_SSH value could be:</p>
<pre><code>C:\Program Files (x86)\PuTTY\plink.exe</code></pre>
<p>Note the lack of quotes.</p>
<p>Testing that msysgit is properly configured can be done from the git bash shell. Simply type (case sensitive, include the quotes):</p>
<pre><code>&quot;$GIT_SSH&quot; -V</code></pre>
<p>You should get a response similar to this:</p>
<pre><code>plink: Release 0.60</code></pre>
<p>If instead you get a &quot;command not found&quot; type error you likely have a typo in your environment variable.</p>
<p><a name="Going_back_to_OpenSSH"></a></p>
<h3 id="going-back-to-openssh"><span class="header-section-number">5.2.2</span> Going back to OpenSSH</h3>
<p>If you wish to go back to OpenSSH all you need to do is delete the GIT_SSH environment variable. This will vary by your version of windows and thus is not covered here.</p>
<p><a name="Putty_keys"></a></p>
<h3 id="putty-keys"><span class="header-section-number">5.2.3</span> Putty keys</h3>
<p>If you do not already have putty private key files (.ppk) you will need to make at least one. You can either make a new one or convert an existing key to putty private key format.</p>
<p>Either way, you will want to use puttygen. Note that you can go the other way if you want to stop using putty but keep the key by exporting the key to OpenSSH format.</p>
<p><a name="Creating_a_new_key"></a></p>
<h4 id="creating-a-new-key"><span class="header-section-number">5.2.3.1</span> Creating a new key</h4>
<p>To make it simple, I suggest SSH-2 RSA and a bit size of at least 1024. Larger keys will take longer to generate and will take longer to authenticate you on most systems. Making the key is as simple at hitting &quot;Generate&quot;.</p>
<p>It is recommended to give the key a meaningful comment.</p>
<p><a name="Importing_an_existing_key"></a></p>
<h4 id="importing-an-existing-key"><span class="header-section-number">5.2.3.2</span> Importing an existing key</h4>
<p>If you already have an OpenSSH or ssh.com key you can import it using the &quot;Import&quot; option on the &quot;Conversions&quot; menu.</p>
<p>If the key does not have a meaningful comment I would suggest adding one at this point.</p>
<p><a name="Loading_an_existing_key"></a></p>
<h4 id="loading-an-existing-key"><span class="header-section-number">5.2.3.3</span> Loading an existing key</h4>
<p>If you need to load an existing key to edit or view it you can do so from the File menu.</p>
<p><a name="Public_key"></a></p>
<h4 id="public-key"><span class="header-section-number">5.2.3.4</span> Public key</h4>
<p>To get your public key for use with gitolite, load (or generate, or import) your key into puttygen. There is a box labeled &quot;Public key for pasting into OpenSSH <code>authorized_keys</code> file&quot; there. Copy the text into your preferred text editor and save.</p>
<p><a name="Putty_ageant"></a></p>
<h4 id="putty-ageant"><span class="header-section-number">5.2.3.5</span> Putty ageant</h4>
<p>Though not required in all cases you may wish to use the putty ageant, pageant, to load your key(s). This will allow for your key(s) to be passphrase protected but not have to enter the passphrase when you go to use them, provided you have already loaded the key into the ageant.</p>
<p><a name="Sessionless_or_raw_hostname_usage"></a></p>
<h3 id="sessionless-or-raw-hostname-usage"><span class="header-section-number">5.2.4</span> Sessionless or raw hostname usage</h3>
<p>When using plink without a putty session you pretty much have to load your keys with putty ageant, if only so that plink can find them.</p>
<p><a name="Putty_sessions"></a></p>
<h3 id="putty-sessions"><span class="header-section-number">5.2.5</span> Putty sessions</h3>
<p>In addition to hostnames msysgit can, when using putty, use putty sessions. This works in a manner similar to definitions in OpenSSH's <code>ssh_config</code> file. All settings in the session that apply to plink usage will be loaded, including the key file to use and even the username to connect to. Thus, instead of:</p>
<pre><code>ssh://user@host.example.ext:port/repo</code></pre>
<p>You can use:</p>
<pre><code>ssh://session_name/repo</code></pre>
<p><a name="Host_key_authentication"></a></p>
<h3 id="host-key-authentication"><span class="header-section-number">5.2.6</span> Host key authentication</h3>
<p>Whether you are using hostnames or sessions you still run into one potential problem. Plink currently wants to validate the server's SSH host key before allowing you to connect, and when git calls plink there is no way to tell it yes. Thus, you may get something like this:</p>
<pre><code>The server's host key is not cached in the registry. You
have no guarantee that the server is the computer you
think it is.
The server's rsa2 key fingerprint is:
ssh-rsa 2048 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
Connection abandoned.
fatal: The remote end hung up unexpectedly</code></pre>
<p>Or, in the case of the host key changing, something like this:</p>
<pre><code>WARNING - POTENTIAL SECURITY BREACH!
The server's host key does not match the one PuTTY has
cached in the registry. This means that either the
server administrator has changed the host key, or you
have actually connected to another computer pretending
to be the server.
The new rsa2 key fingerprint is:
ssh-rsa 2048 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
Connection abandoned.
fatal: The remote end hung up unexpectedly</code></pre>
<p>The solution is to call plink directly, or start putty and connect with it first. To use plink, open the Git Bash shell and enter:</p>
<pre><code>&quot;$GIT_SSH&quot; hostname_or_session_name</code></pre>
<p>When you do you will see something like this:</p>
<pre><code>The server's host key is not cached in the registry. You
have no guarantee that the server is the computer you
think it is.
The server's rsa2 key fingerprint is:
ssh-rsa 2048 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
If you trust this host, enter &quot;y&quot; to add the key to
PuTTY's cache and carry on connecting.
If you want to carry on connecting just once, without
adding the key to the cache, enter &quot;n&quot;.
If you do not trust this host, press Return to abandon the
connection.
Store key in cache? (y/n)</code></pre>
<p>Or, in the case of a changed key, a response like this:</p>
<pre><code>WARNING - POTENTIAL SECURITY BREACH!
The server's host key does not match the one PuTTY has
cached in the registry. This means that either the
server administrator has changed the host key, or you
have actually connected to another computer pretending
to be the server.
The new rsa2 key fingerprint is:
ssh-rsa 2048 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
If you were expecting this change and trust the new key,
enter &quot;y&quot; to update PuTTY's cache and continue connecting.
If you want to carry on connecting but without updating
the cache, enter &quot;n&quot;.
If you want to abandon the connection completely, press
Return to cancel. Pressing Return is the ONLY guaranteed
safe choice.
Update cached key? (y/n, Return cancels connection)</code></pre>
<p>In either case hit y and the key will be stored.</p>
<p><a name="Debugging_multiple_putty_ageant_keys"></a></p>
<h3 id="debugging-multiple-putty-ageant-keys"><span class="header-section-number">5.2.7</span> Debugging multiple putty ageant keys</h3>
<p>In the event you are using putty ageant with multiple keys loaded you may see the wrong key being used. In general, pageant keys are tried in the order they were loaded into the ageant. If you have descriptive comment on each of your keys you can try connecting with plink in verbose mode to see what keys are being tried. Simply open the Git bash shell and run:</p>
<pre><code>&quot;$GIT_SSH&quot; -v user@hostname</code></pre>
<p>Or, if using sessions with a pre-entered username:</p>
<pre><code>&quot;$GIT_SSH&quot; -v session_name</code></pre>
<p>In either case, you should look for lines like:</p>
<pre><code>Trying Pageant key #0
Authenticating with public key &quot;My Key&quot; from agent</code></pre>
<p>The first says which (numerical) key the ageant is trying. The second tells you the key comment for the authenticating key. To my knowledge the second line should only show up once, for the valid key.</p>
<p><a name="Setperms_and_other_commands"></a></p>
<h3 id="setperms-and-other-commands"><span class="header-section-number">5.2.8</span> Setperms and other commands</h3>
<p>When using wildcard repos the setperms command is very important, and other commands can come in handy as well. See their documentation for how to use them, but where they use:</p>
<pre><code>ssh user@host command etc etc</code></pre>
<p>You will want to use:</p>
<pre><code>&quot;$GIT_SSH&quot; user@host command etc etc</code></pre>
<p>Otherwise everything should be identical.</p>
<p><a name="About_this_document"></a></p>
<h3 id="about-this-document"><span class="header-section-number">5.2.9</span> About this document</h3>
<p>This document was written by Thomas Berezansky (tsbere (at) mvlc (dot) org) in the hopes that it would be useful to those using putty on windows and wishing to use git/gitolite with their putty keys and sessions.</p>
<h2 id="sskm"><span class="header-section-number">5.3</span> changing keys -- self service key management</h2>
<p>Copyright: Jeff Mitchell (jmitchell@kde.org). Licensed under CC-BY-NC-SA unported 3.0, http://creativecommons.org/licenses/by-nc-sa/3.0/</p>
<p>[Note on v3 version: this has been manually spot-tested; there is no test suite. Changes from v2 version are minimal so it should all work fine but please report errors!]</p>
<p>Follow this guide to add keys to or remove keys from your account. Note that you cannot use this method to add your <em>first</em> key to the account; you must still email your initial key to your admin.</p>
<p>The key management is done using a command called <code>sskm</code>. This command must be enabled for remote use by the admin (see <a href="#commands">here</a> for more on this).</p>
<hr />
<h3 id="important"><span class="header-section-number">5.3.1</span> Important!</h3>
<p>There are a few things that you should know before using the key management system. Please do not ignore this section!</p>
<h4 id="key-fingerprints"><span class="header-section-number">5.3.1.1</span> Key fingerprints</h4>
<p>Keys are identified in some of these subcommands by their fingerprints. To see the fingerprint for a public key on your computer, use the following syntax:</p>
<pre><code>ssh-keygen -l -f &lt;path_to_public_key.pub&gt;</code></pre>
<p>You'll get output like:</p>
<pre><code>jeff@baklava ~  $  ssh-keygen -l -f .ssh/jeffskey.pub 
2048 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44 .ssh/jeffskey.pub (RSA)</code></pre>
<h4 id="active-keys"><span class="header-section-number">5.3.1.2</span> Active keys</h4>
<p>Any keys that you can use to interact with the system are active keys. (Inactive keys are keys that are, for instance, scheduled to be added or removed.) Keys are identified with their <code>keyid</code>; see the section below on listing keys.</p>
<p>If you have no current active keys, you will be locked out of the system (in which case email your admin for help). Therefore, be sure that you are never removing your only active key!</p>
<h4 id="selecting-which-key-to-use"><span class="header-section-number">5.3.1.3</span> Selecting which key to use</h4>
<p>Although you can identify yourself to the Gitolite system with any of your active keys on the server, at times it is necessary to specifically pick which key you are identifying with. To pick the key to use, pass the <code>-i</code> flag into <code>ssh</code>:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/jeffskey git@git info
hello jeff, the gitolite version here is v2.0.1-11-g1cd3414
the gitolite config gives you the following access:
 @C  R   W      [a-zA-Z0-9][a-zA-Z0-9_\-\.]+[a-zA-Z0-9]
....</code></pre>
<p><em>N.B.</em>: If you have any keys loaded into <code>ssh-agent</code> (i.e., <code>ssh-add -l</code> shows at least one key), then this may not work properly. <code>ssh</code> has a bug which makes it ignore <code>-i</code> values when that key has not been loaded into the agent. One solution is to add the key you want to use (e.g., <code>ssh-add .ssh/jeffskey</code>). The other is to remove <em>all</em> the keys from the agent or disable the agent, using one of these commands:</p>
<ul>
<li>Terminate <code>ssh-agent</code> or use <code>ssh-add -D</code> flag to remove identities from it</li>
<li>If using <code>keychain</code>, run <code>keychain --clear</code> to remove identities</li>
<li>Unset the <code>SSH_AUTH_SOCK</code> and <code>SSH_AGENT_PID</code> variables in the current shell</li>
</ul>
<h4 id="public-vs.-private-keys"><span class="header-section-number">5.3.1.4</span> Public vs. private keys</h4>
<p>In this guide, all keys are using their full suffix. In other words, if you see a <code>.pub</code> at the end of a key, it's the public key; if you don't, it's the private key. For instance, when using the <code>-i</code> flag with <code>ssh</code>, you are specifying private keys to use. When you are submitting a key for addition to the system, you are using the public key.</p>
<h3 id="listing-your-existing-keys"><span class="header-section-number">5.3.2</span> Listing your existing keys</h3>
<p>To see a list of your existing keys, use the <code>list</code> argument to <code>sskm</code>:</p>
<pre><code>jeff@baklava ~  $  ssh git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub</code></pre>
<p>Notice the <code>@</code> sign in each key's name? That sign and the text after that up until the <code>.pub</code> is the <code>keyid</code>. This is what you will use when identifying keys to the system. Above, for instance, one of my keys has the <code>keyid</code> of <code>@key3</code>.</p>
<p>A keyid may be <em>empty</em>; in fact to start with you may only have a single <code>jeff.pub</code> key, depending on how your admin added your initial key. You can use any keyid you wish when adding keys (like <code>@home</code>, <code>@laptop</code>, ...); the only rules are that it must start with the <code>@</code> character and after that contain only digits, letters, or underscores.</p>
<h3 id="adding-or-replacing-a-key"><span class="header-section-number">5.3.3</span> Adding or Replacing a key</h3>
<h4 id="step-1-adding-the-key"><span class="header-section-number">5.3.3.1</span> Step 1: Adding the Key</h4>
<p>Adding and replacing a key is the same process. What matters is the <code>keyid</code>. When adding a new key, use a new <code>keyid</code>; when replacing a key, pass in the <code>keyid</code> of the key you want to replace, as found by using the <code>list</code> subcommand. Pretty simple!</p>
<p>To add a key, pipe in the text of your new key using <code>cat</code> to the <code>add</code> subcommand. In the example below, I explicitly select which existing, active pubkey to identify with for the command (using the <code>-i</code> parameter to ssh) for clarity:</p>
<pre><code>jeff@baklava ~  $  cat .ssh/newkey.pub | ssh -i .ssh/jeffskey git@git sskm add @key4
hello jeff, you are currently using a normal (&quot;active&quot;) key
please supply the new key on STDIN.  (I recommend you
        don't try to do this interactively, but use a pipe)</code></pre>
<p>If you now run the <code>list</code> command you'll see that it's scheduled for addition:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/jeffskey git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub
== keys marked for addition/replacement ==
1: ff:92:a2:20:6d:42:6b:cf:20:e8:a2:4a:3b:b0:32:3a  : jeff@key4.pub</code></pre>
<h4 id="step-2-confirming-the-addition"><span class="header-section-number">5.3.3.2</span> Step 2: Confirming the addition</h4>
<p>Gitolite uses Git internally to store the keys. Just like with Git, where you commit locally before <code>push</code>-ing up to the server, you need to confirm the key addition (see the next section if you made a mistake). We use the <code>confirm-add</code> subcommand to do this, <em>but</em>: to verify that you truly have ownership of the corresponding private key, you <em>must</em> use the key you are adding itself to do the confirmation! (Inconvenient like most security, but very necessary from a security perspective.) This is where using the <code>-i</code> flag of <code>ssh</code> comes in handy:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm confirm-add @key4
hello jeff, you are currently using a key in the 'marked for add' state</code></pre>
<p>Listing keys again shows that all four keys are now active:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub
4: ff:92:a2:20:6d:42:6b:cf:20:e8:a2:4a:3b:b0:32:3a  : jeff@key4.pub</code></pre>
<h4 id="optional-undoing-a-mistaken-add-before-confirmation"><span class="header-section-number">5.3.3.3</span> Optional: Undoing a mistaken add (before confirmation)</h4>
<p>Another advantage of Gitolite using Git internally is that that if we mistakenly add the wrong key, we can undo it before it's confirmed by passing in the <code>keyid</code> we want to remove into the <code>undo-add</code> subcommand:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/jeffskey git@git sskm undo-add @key4
hello jeff, you are currently using a normal (&quot;active&quot;) key</code></pre>
<p>Listing the keys shows that that new key has been removed:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/jeffskey git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub</code></pre>
<h3 id="removing-a-key"><span class="header-section-number">5.3.4</span> Removing a key</h3>
<h4 id="step-1-mark-the-key-for-deletion"><span class="header-section-number">5.3.4.1</span> Step 1: Mark the key for deletion</h4>
<p>Deleting a key works very similarly to adding a key, with <code>del</code> substituted for <code>add</code>.</p>
<p>Let's say that I have my four keys from the example above:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub
4: ff:92:a2:20:6d:42:6b:cf:20:e8:a2:4a:3b:b0:32:3a  : jeff@key4.pub</code></pre>
<p>I would like to remove the key that on my box is called <code>newkey</code> and in the Gitolite system is known as <code>@key4</code>.</p>
<p>I simply pass in the identifier to the <code>del</code> subcommand of <code>sskm</code>:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm del @key4
hello jeff, you are currently using a normal (&quot;active&quot;) key</code></pre>
<p>Listing the keys now shows that it is marked for deletion:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm list
hello jeff, you are currently using a key in the 'marked for del' state
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub
== keys marked for deletion ==
1: ff:92:a2:20:6d:42:6b:cf:20:e8:a2:4a:3b:b0:32:3a  : jeff@key4.pub</code></pre>
<h4 id="step-2-confirming-the-deletion"><span class="header-section-number">5.3.4.2</span> Step 2: Confirming the deletion</h4>
<p>Just like with Git, where you commit locally before <code>push</code>-ing up to the server, you need to confirm the key addition (see the next section if you made a mistake). We use the <code>confirm-del</code> subcommand to do this, <em>but</em>: unlike the <code>confirm-add</code> subcommand, you <em>must</em> use a <em>different</em> key than the key you are deleting to do the confirmation! This prevents you from accidentally locking yourself out of the system by removing all active keys:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/jeffskey git@git sskm confirm-del @key4
hello jeff, you are currently using a normal (&quot;active&quot;) key</code></pre>
<p>Listing keys again shows that the fourth key has been removed:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/jeffskey git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub</code></pre>
<h4 id="optional-undoing-a-mistaken-delete-before-confirmation"><span class="header-section-number">5.3.4.3</span> Optional: Undoing a mistaken delete (before confirmation)</h4>
<p>Another advantage of Gitolite using Git internally is that that if we mistakenly delete the wrong key, we can undo it before it's confirmed by passing in the <code>keyid</code> we want to keep into the <code>undo-del</code> subcommand. Note that this operation <em>must</em> be performed using the private key that corresponds to the key you are trying to keep! (Security reasons, similar to the reason that you must confirm an addition this way; it prevents anyone from undoing a deletion, and therefore keeping in the system, a key that they cannot prove (by having the corresponding private key) should stay in the system):</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm undo-del @key4
hello jeff, you are currently using a key in the 'marked for del' state

You're undeleting a key that is currently marked for deletion.
    Hit ENTER to undelete this key
    Hit Ctrl-C to cancel the undelete
Please see documentation for caveats on the undelete process as well as how to
actually delete it.</code></pre>
<p>(Go ahead and hit ENTER there; the caveats are really only on the administrative side of things.)</p>
<p>Listing the keys shows that that new key is now marked active again:</p>
<pre><code>jeff@baklava ~  $  ssh -i .ssh/newkey git@git sskm list
hello jeff, you are currently using a normal (&quot;active&quot;) key
you have the following keys:
== active keys ==
1: 72:ef:a3:e0:f5:06:f8:aa:6f:a2:88:9d:50:86:25:4e  : jeff@key1.pub
2: 61:38:a7:9f:ba:cb:99:81:4f:49:2c:8b:c8:63:8e:33  : jeff@key2.pub
3: 2d:78:d4:2c:b1:6d:9a:dc:d9:0d:94:3c:d8:c2:65:44  : jeff@key3.pub
4: ff:92:a2:20:6d:42:6b:cf:20:e8:a2:4a:3b:b0:32:3a  : jeff@key4.pub</code></pre>
<hr />
<h3 id="important-notes-for-the-admin"><span class="header-section-number">5.3.5</span> important notes for the admin</h3>
<p>These are the things that can break if you allow your users to use this command:</p>
<ul>
<li><p>&quot;sskm&quot; clones, changes, and pushes back the gitolite-admin repo. This means, even if you're the only administrator, you should never 'git push -f', in case you end up overwriting something sskm did.</p></li>
<li><p>There is no way to distinguish <code>foo/alice.pub</code> from <code>bar/alice.pub</code> using this command. You can distinguish <code>foo/alice.pub</code> from <code>bar/alice@home.pub</code>, but that's not because of the foo and bar, it's because the two files have different keyids.</p>
<p>In other words, sskm only works with the older style, not with the &quot;subdirectory&quot; style of <a href="#multi-key">multi-key</a> management.</p></li>
<li><p>Keys placed in specific folders (for whatever reasons), will probably not stay in those folders if this command is used. Even a key delete, followed by undoing the delete, will cause the key to effectively move to the root of the key store (i.e., the <code>keydir</code> directory in the gitolite-admin repo).</p></li>
</ul>
<h2 id="ukm"><span class="header-section-number">5.4</span> user key management</h2>
<p>Copyright 2012-2013 Ralf Hemmecke <script type="text/javascript">
<!--
h='&#104;&#x65;&#x6d;&#x6d;&#x65;&#x63;&#x6b;&#x65;&#46;&#x6f;&#114;&#x67;';a='&#64;';n='&#114;&#x61;&#108;&#102;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>ralf at hemmecke dot org</noscript>.</p>
<p>Licensed under the <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a></p>
<p>User key management allows certain users to add and remove keys.</p>
<p>The key management is done using a command called <code>ukm</code>. This command must be enabled for remote use by both the <a href="#SYSADMIN">sysadmin</a> and the <a href="#GA">gitolite-admin</a> (see <a href="#commands">here</a> for more on this) or look below.</p>
<hr />
<h3 id="important-warning"><span class="header-section-number">5.4.1</span> Important Warning!</h3>
<p>User key management undermines the fundamental principle of gitolite (see <a href="#auth">authentication versus authorisation</a>) by allowing certain users to juggle with ssh public keys. Make sure someone (sysadmin?) can login to the server with a <strong>password</strong>, just in case something breaks and the <code>.ssh/authorized_keys</code> file for the user running gitolite on the server is messed up.</p>
<h3 id="general-note"><span class="header-section-number">5.4.2</span> General note</h3>
<p>Although gitolite deals in its core only with authorisation, by default it uses ssh as its authentication mechanism. Sure, ssh is not at all part of gitolite and it can be replaced by other means, but still there is a directory <code>gitolite-admin/keydir</code> that is reserved for public ssh keys.</p>
<p>In fact, management of <a href="#users">users</a> and <a href="#multi-key">multiple keys</a> per user is not actually a gitolite administration stuff. It's external to gitolite. In a future version, <code>ukm</code> could be used as an equivalent of the <code>keydir/</code> directory from the <code>gitolite-admin</code> repo (currently it just manages that directory) and thus <code>ukm</code> could be seen as such an external tool that does what its name suggests: user (key) management.</p>
<p>In the following description we assume that there is an entry like</p>
<pre><code>Host gitserver
     IdentityFile ~/.ssh/id_rsa    # choose your gitolite key here
     HostName gitolite.example.org # location where gitolite is installed
     User git                      # user that runs gitolite</code></pre>
<p>in the client's <code>~/.ssh/config</code> file.</p>
<h3 id="who-might-be-interested"><span class="header-section-number">5.4.3</span> Who might be interested?</h3>
<h4 id="the-gitolite-admin"><span class="header-section-number">5.4.3.1</span> The gitolite admin</h4>
<p>Adding a new public key to the system means to copy the key into <code>gitolite/keydir</code> commit and push.</p>
<p>With <code>ukm</code> it would be</p>
<pre><code>cat FOO.PUB | ssh gitserver ukm add KEYID</code></pre>
<p>This would be a setup where only the <a href="#GA">gitolite administrator</a> uses <code>ukm</code>. Not a big benefit, but <code>ukm</code> prevents adding identical keys under different userids. This consistency check might be an advantage. Furthermore, <code>ukm</code> does not allow the <a href="#GA">gitolite administrator</a> to remove his/her last, i.e., it prevents the administrator from locking him-/herself out of the system. (Note, we assume that the <a href="#GA">gitolite administrator</a> has no shell access to the server; only the <a href="#SYSADMIN">sysadmin</a> has shell access.)</p>
<h4 id="users-that-want-more-control-over-who-can-access-their-repositories"><span class="header-section-number">5.4.3.2</span> Users that want more control over who can access their repositories</h4>
<p>Suppose the <a href="#GA">gitolite administrator</a> of a research institute has set up gitolite to provide <a href="#wild">wild repositories</a> for example with a <code>gitolite.conf</code> like this.</p>
<pre><code>repo gitolite-admin
    RW+ = gitadmin

# These people are allowed to create wild repositories.
@creators = alice bob ...

# wildcard repositories for the users
repo CREATOR/..*
    C   = @creators
    RW+ = CREATOR
    RW  = WRITERS
    R   = READERS</code></pre>
<p>Researchers Alice and Bob want to write an article together. Alice creates a wild repository <code>alice/article</code> and adds Bob via the <a href="#perms">perms</a> command to the WRITERS of her repository. After a while they realize that Otto from another institute would be a reasonable third author. However, if they cannot give him write access to the repository, they would have to exchange the article via email. Back to the stone age? Better, Alice asks Otto to send her his public ssh key. Alice then forwards that key to the <a href="#GA">gitolite administrator</a> and asks him to include that key into the system. (Hopefully, all that didn't happen on a holiday or on the weekend.) After 3 days the gitolite administrater finds some time. Since he doesn't know Otto, he simply trusts Alice and adds the public key into the system.</p>
<p>With <code>ukm</code> Alice can save bothering the gitolite administrator and is perhaps even faster in saying:</p>
<pre><code>cat otto.pub | ssh gitserver ukm add otto@other.institute.edu
ssh gitserver perms alice/article + WRITERS otto@other.institute.edu</code></pre>
<p>The effect would be the same.</p>
<h4 id="users-that-want-to-manage-multiple-keys"><span class="header-section-number">5.4.3.3</span> Users that want to manage multiple keys</h4>
<p>Suppose, you have different computers and a different ssh key for each of them. You would like to tell gitolite that all these different keys belong to just one gitolite identity.</p>
<p>Your <a href="#GA">gitolite administrator</a> creates your gitolite identity with one of your keys as your initial key. This key can only be managed by the gitolite administrator, not by you. It basically determines under which name you are known to gitolite.</p>
<p>You can add new keys to this identity and remove them at your will.</p>
<h3 id="how-to-enable-user-key-management"><span class="header-section-number">5.4.4</span> How to enable user key management?</h3>
<p>The <code>ukm</code> command is contributed code and lives under <code>contrib/commands/ukm</code> in the gitolite source tree. A <a href="#SYSADMIN">sysadmin</a> of the gitserver has to copy or link this script to the right location.</p>
<pre><code>cd src/commands
ln -s ../../contrib/commands/ukm .</code></pre>
<p>Furthermore, a <a href="#SYSADMIN">sysadmin</a> must add the string <code>'ukm'</code> to the <code>ENABLE</code> array, i.e.,</p>
<pre><code>ENABLE =&gt; [ ..., 'ukm', ... ],</code></pre>
<p>in <a href="#rc">.gitolite.rc</a>. (That's the preferred way for gitolite starting with version v3.4.)</p>
<p>Instead of the above (in particular in gitolite v3.0-v3.3), add <code>'ukm' =&gt; 1</code> to the <code>COMMANDS</code> hash.</p>
<pre><code>COMMANDS =&gt; {..., 'ukm' =&gt; 1, ... },</code></pre>
<h3 id="how-to-configure-user-key-management-and-who-can-use-it"><span class="header-section-number">5.4.5</span> How to configure user key management and who can use it?</h3>
<p>As described above there are three main use cases for <code>ukm</code>. Each of them requires different values in the respective config files.</p>
<p>There are two files where <code>ukm</code> must be configured.</p>
<ul>
<li><a href="#rc">.gitolite.rc</a> (managed by a <a href="#SYSADMIN">sysadmin</a> of the gitserver)</li>
<li><code>gitolite-admin/conf/gitolite.conf</code> (managed by a <a href="#GA">gitolite administrator</a>)</li>
</ul>
<p>Besides <a href="#SYSADMIN">sysadmin</a> and <a href="#GA">gitolite administrator</a>, <code>ukm</code> knows 3 roles.</p>
<ul>
<li><a href="#SKM">super key manager</a></li>
<li><a href="#GKM">guest key manager</a></li>
<li><a href="#EKM">self key manager</a></li>
</ul>
<h4 id="super-key-managers"><span class="header-section-number">5.4.5.1</span> <a href="#SKM">Super key managers</a></h4>
<p>When <code>ukm</code> is enabled, nothing else must be configured.</p>
<h4 id="guest-key-managers"><span class="header-section-number">5.4.5.2</span> <a href="#GKM">Guest key managers</a></h4>
<p>The <a href="#GA">gitolite administrator</a> defines guest key managers by creating a group <code>@guest-key-managers</code> in <code>gitolite-admin/conf/gitolite.conf</code> and adding (trusted) users to this group.</p>
<p><strong>WARNING</strong>: If the gitolite administrator includes <code>@all</code> into this list, it allows guests to add new public keys. If, additionally, there is <code>@creators=@all</code>, it basically allows the initial guest key managers to start a hierarchy of new users with the same rights as the initial users.</p>
<p>The <a href="#SYSADMIN">system administrator</a> must configure <code>ukm</code> for <a href="#GKM">guest key managers</a> in <a href="#rc">.gitolite.rc</a> by adding something like</p>
<pre><code>UKM_CONFIG =&gt; { FORBIDDEN_GUEST_PATTERN =&gt; qr(FORBIDDEN-PATTERN), },</code></pre>
<p>to the <code>%RC</code> hash.</p>
<p>If <code>FORBIDDEN_GUEST_PATTERN</code> is missing, it defaults to the following.</p>
<pre><code>FORBIDDEN_GUEST_PATTERN =&gt; qr(.)</code></pre>
<p>Any <a href="#KEYID">KEYID</a> that matches this pattern is rejected, i.e., the default value basically allows only the <a href="#SKM">super key managers</a> to add/del keys.</p>
<p>If <code>ukm</code> is supposed to work for <a href="#GKM">guest key managers</a>, <code>FORBIDDEN_GUEST_PATTERN</code> must be set to some reasonable value.</p>
<p>If your company has email addresses of the form <code>first.last@company.com</code> you might want to write something like this</p>
<pre><code>UKM_CONFIG =&gt; { FORBIDDEN_GUEST_PATTERN =&gt; qr(@company.com$) },</code></pre>
<p>which would only allow <a href="#KEYID">KEYIDs</a> in the form of email addresses that do not come from your company.</p>
<p><font color="red"><strong>For the very brave only!!!</strong></font></p>
<p>The variable <code>REQUIRED_GUEST_PATTERN</code> is optional. It is strongly discouraged to set it. However, if you know, what you are doing, it allows for a bit more flexibility.</p>
<p><font color="red"><strong>Don't complain if you modify the default value!!!</strong></font></p>
<p><code>REQUIRED_GUEST_PATTERN</code> defaults to a regular expression that only allows <a href="#KEYID">KEYIDs</a> in the form of email addresses (see the source code if you want to see this regular expression).</p>
<p>You can write</p>
<pre><code>UKM_CONFIG =&gt; {
    REQUIRED_GUEST_PATTERN  =&gt; qr(REQUIRED-PATTERN),
    FORBIDDEN_GUEST_PATTERN =&gt; qr(FORBIDDEN-PATTERN),
},</code></pre>
<p>with the meaning that the <a href="#KEYID">KEYID</a> <strong>must match</strong></p>
<pre><code>qr(^(REQUIRED-PATTERN)$)</code></pre>
<p>(note that <code>^</code> and <code>$</code> are automatically added to the pattern) and <strong>must not match</strong></p>
<pre><code>qr(FORBIDDEN-PATTERN)</code></pre>
<p>in order for <code>ukm</code> to proceed with this <a href="#KEYID">KEYID</a> for a <a href="#GKM">guest key manager</a>.</p>
<p>Gitolite's namespace for <a href="#USERID">USERIDs</a> is flat. The <code>REQUIRED_GUEST_PATTERN</code> and <code>FORBIDDEN_GUEST_PATTERN</code> serve two purposes.</p>
<ol style="list-style-type: decimal">
<li><p>Restrict permissions for what <a href="#GKM">guest key managers</a> can do.</p></li>
<li><p>Patterns that cannot be used for guests can still be used by <a href="#SKM">super key managers</a>. In other words, those patterns are reserved for in-house <a href="#USERID">USERIDs</a>.</p></li>
</ol>
<h4 id="self-key-managers"><span class="header-section-number">5.4.5.3</span> <a href="#EKM">Self key managers</a></h4>
<p>The <a href="#GA">gitolite administrator</a> defines <a href="#EKM">self key managers</a> by creating a group <code>@self-key-managers</code> in <code>gitolite-admin/conf/gitolite.conf</code> and adding (trusted) users to this group.</p>
<p><strong>WARNING</strong>: A <a href="#GA">gitolite administrator</a> shouldn't include <code>@all</code> into this list. If guest key management is enabled, then also guests would be allowed to add their own keys. Since <a href="#GKM">guest key managers</a> would have no access to those keys, only <a href="#GA">gitolite administrators</a> would be able to remove those additional keys. In fact, <code>ukm</code> was designed to allow only <strong>one</strong> key per guest. Don't complain, if you enable a setup where guests can have multiple keys. It's a security issue. (Suppose Alice has added a guest <code>foo@example.org</code> and MrBad generates a new ssh key and adds it under <code>foo@example.org@attacker</code> to the list of his guests. That would give MrBad all the permissions that <code>foo@example.org</code> has.)</p>
<p>The <a href="#SYSADMIN">system administrator</a> must enable <code>ukm</code> for <a href="#EKM">self key managers</a> in <a href="#rc">.gitolite.rc</a> by adding</p>
<pre><code>UKM_CONGFIG =&gt; { SELFKEY_MANAGEMENT =&gt; 1, },</code></pre>
<p>to the <code>%RC</code> hash.</p>
<p>Since by design self keys start with an <code>@</code> sign, and thus cannot conflict with guest keys (which are not allowed to start with an <code>@</code>), there is no problem to enable self key and guest key management at the same time.</p>
<pre><code>UKM_CONFIG =&gt; {
    FORBIDDEN_GUEST_PATTERN =&gt; qr(FORBIDDEN-PATTERN),
    SELFKEY_MANAGEMENT =&gt; 1,
},</code></pre>
<h3 id="how-to-use-user-key-management"><span class="header-section-number">5.4.6</span> How to use user key management?</h3>
<p>There are three subcommands of <code>ukm</code>, namely <code>list</code> (the default),<code>add</code>, and <code>del</code>.</p>
<p>Depending on whether or not the respective <a href="#KEYID">KEYID</a> starts with an <code>@</code> sign, <code>ukm</code> distinguishes between guest and self key management. Self keys start with <code>@</code> and are followed by letters and/or digits.</p>
<p>For <a href="#SKM">super key managers</a> there is not such a distinction. Rather, the <a href="#KEYID">KEYID</a> is the full path of the actual public key file relative to <code>gitolite-admin/keydir/</code> with the <code>.pub</code> file extension removed.</p>
<p>By convention, take as guest key the proper email address of the guest. That not only makes for a unique ID, it also gives you a hint to whom this key belongs.</p>
<h4 id="list-managed-keys"><span class="header-section-number">5.4.6.1</span> List managed keys</h4>
<p>A <a href="#GKM">guest key manager</a> and <a href="#EKM">self key manager</a> can list all their personally managed keys via:</p>
<pre><code>ssh gitserver ukm</code></pre>
<p>or</p>
<pre><code>ssh gitserver ukm list</code></pre>
<p>If this command is issued by a <a href="#SKM">super key manager</a>, it lists all keys that are stored under <code>keydir/</code>.</p>
<p>The result will show the fingerprints of the keys, the corresponding <a href="#USERID">USERID</a> and the <a href="#KEYID">KEYID</a> by which one can refer to the key on the commandline.</p>
<h4 id="add-a-new-public-key"><span class="header-section-number">5.4.6.2</span> Add a new public key</h4>
<h5 id="add-a-new-key-as-a-super-key-manager"><span class="header-section-number">5.4.6.2.1</span> Add a new key as a super key manager</h5>
<p>A <a href="#SKM">super key manager</a> can nearly add any key, but <code>ukm</code> does not accept a different key, i.e., different fingerprint, for the same <a href="#KEYID">KEYID</a>. Also a double dot is not allowed in the <a href="#KEYID">KEYID</a>.</p>
<h5 id="add-a-new-key-as-a-guest-key-manager"><span class="header-section-number">5.4.6.2.2</span> Add a new key as a guest key manager</h5>
<p>The command for this is:</p>
<pre><code>cat foo.pub | ssh gitserver ukm add foo@example.com</code></pre>
<p>There are several situations when the above command fails, i.e., rejects to add the key.</p>
<ul>
<li><p>The <a href="#KEYID">KEYID</a> <code>foo@example.com</code> does not match the pattern given by <code>REQUIRED_GUEST_PATTERN</code> in <code>.gitolite.rc</code>.</p></li>
<li><p>The <a href="#KEYID">KEYID</a> <code>foo@example.com</code> matches the pattern given by <code>FORBIDDEN_GUEST_PATTERN</code> in <code>.gitolite.rc</code>.</p></li>
<li><p>The public key <code>foo.pub</code> is already known to the system and does not belong to the <a href="#USERID">USERID</a> <code>foo@example.com</code>.</p></li>
<li><p>The <a href="#KEYID">KEYID</a> <code>foo@example.com</code> is already in use and it corresponds to a key with another public key. In other words, <code>ukm</code> will not simply override a key. One has to delete the old key first and then add a new one.</p></li>
<li><p>The <a href="#KEYID">KEYID</a> contains a <code>/</code> character or two <code>@</code> characters, i.e., guest key managers are not allowed to add <a href="#MULTIKEY">multiple keys</a> for one user.</p></li>
</ul>
<h5 id="add-a-new-key-as-a-self-key-manager"><span class="header-section-number">5.4.6.2.3</span> Add a new key as a self key manager</h5>
<p>Adding a self key is a bit more complicated, since the user must confirm that he/she is in possession of the corresponding private key. The command sequence is as follows. Note that the second call of ssh is done with the key <code>foo</code> and not the default ssh key.</p>
<pre><code>cat foo.pub | ssh gitserver ukm add @two &gt; session
cat session | ssh -i foo gitserver ukm</code></pre>
<p>If you don't want to create an intermediate file call it like this:</p>
<pre><code>cat foo.pub | ssh gitserver ukm add @two | (sleep 2; ssh -i foo gitserver ukm)</code></pre>
<p>Make sure that the second ssh call only happens after the fist one has done its job. Otherwise you might be asked for a password of the <code>git</code> user on the <code>gitserver</code>.</p>
<p>After successfully completing the first ssh call, the new key is scheduled for addition and a session key is returned on stdin. That session key must be used to confirm the addition of the new public key as shown above.</p>
<h4 id="delete-a-key"><span class="header-section-number">5.4.6.3</span> Delete a key</h4>
<p>A <a href="#SKM">super key manager</a> can delete any key by simply giving its <a href="#KEYID">KEYID</a> in a command like this</p>
<pre><code>ssh gitserver ukm del some/dir/foo@example.com</code></pre>
<p>The <code>ukm</code> command, however, prevents a <a href="#SKM">super key manager</a> from removing his/her last key.</p>
<h5 id="delete-a-guest-key"><span class="header-section-number">5.4.6.3.1</span> Delete a guest key</h5>
<p>The command for this is:</p>
<pre><code>ssh gitserver ukm del foo@example.com</code></pre>
<p>If the given <a href="#KEYID">KEYID</a> is not among the managed keys of the user who issues the <code>del</code> command, the command will fail.</p>
<p><strong>IMPORTANT!</strong> You should not forget to remove from all of your repositories all the permissions you gave to <code>foo@example.com</code>, because this key might still be managed by another <a href="#GKM">guest key manager</a>.</p>
<p>You might want to run</p>
<pre><code>ssh gitserver info -lc \
| perl -e 'chomp($u=&lt;&gt;);$u=~s/hello //;$u=~s/,.*$//;' \
       -e 'while(&lt;&gt;){if(/\s(\S+)\s+$u$/){print &quot;$1\n&quot;}}' \
| while read r; do ssh gitserver perms $r - WRITERS foo@example.com; done</code></pre>
<p>Repeat this for other roles such as <code>READERS</code> instead of <code>WRITERS</code>.</p>
<h5 id="delete-a-self-key"><span class="header-section-number">5.4.6.3.2</span> Delete a self key</h5>
<p>The command for this is:</p>
<pre><code>ssh gitserver ukm del @two
ssh gitserver ukm del @two</code></pre>
<p>Yes, you have to give that command twice. The first call will bring the key <code>@two</code> into a &quot;pending-del&quot; state. The second time, the command will only delete the key <code>@two</code>, if the login was <strong>not</strong> done with exactly that key. If logging in with the key corresponding to <code>@two</code>, it will bring back the <code>@two</code> key from its &quot;pending-del&quot; state to a non-pending state.</p>
<p><strong>Note:</strong> This safety net is not absolutely necessary, since a <a href="#EKM">self key manager</a> is not allowed to delete his/her initial key (added by the <a href="#GA">gitolite administrator</a>). The command <code>ukm</code> wants to make sure that the user still has a key that can be used for login. (Think about having lost the passphrase for the initial key. -- Maybe this over complication will be simplified in the future. Losing a passphrase is not a good excuse and should result in removal of the corresponding key from the system, i.e., contacting the <a href="#GA">gitolite administrator</a>.)</p>
<h3 id="generic-errors"><span class="header-section-number">5.4.7</span> Generic Errors</h3>
<p>Key management is done via creating a temporary clone of the <code>gitolite-admin</code> repository, changing, committing, and pushing back. In cases where two people are trying to modify the <code>gitolite-admin</code> repository at the same time, one of the push commands will most probably fail. Then simply redo the command after a while.</p>
<h3 id="glossary"><span class="header-section-number">5.4.8</span> Glossary</h3>
<ul>
<li><p><strong>sysadmin</strong><a id="SYSADMIN"></a>: A person who is able to edit the <a href="#rc">.gitolite.rc</a> file on the server machine.</p></li>
<li><p><strong>gitolite administrator</strong><a id="GA"></a>: A user with write access to the <code>gitolite-admin</code> repositoriy.</p></li>
<li><p><strong>super key manager</strong><a id="SKM"></a>: A user who has write access to the <code>keydir/</code> inside the <code>gitolite-admin</code> repository. A <a href="#GA">gitolite administrator</a> is always a super key manager.</p></li>
</ul>
<p>Super key managers have no restriction on how <a href="#KEYID">KEYIDs</a> must look like. They can do (nearly) everything inside <code>keydir/</code> that a <a href="#GA">gitolite administrator</a> can do when pushing to the <code>gitolite-admin</code> repository directly.</p>
<ul>
<li><strong>guest key manager</strong><a id="GKM"></a>: A user who is a member of the <code>@guest-key-managers</code> group.</li>
</ul>
<p>A guest key manager can manage a set of guest keys.</p>
<ul>
<li><strong>self key manager</strong><a id="EKM"></a>: A user who is a member of the <code>@self-key-managers</code> group.</li>
</ul>
<p>A self key manager can manage a set of his/her own keys.</p>
<ul>
<li><strong>KEYID</strong><a id="KEYID"></a>: an identifier for a key given on the command line</li>
</ul>
<p>The KEYID is normalized to lowercase letters.</p>
<p>If the script is called by one of the super key managers, then the KEYID is the path to the pubkey file relative to the <code>keydir/</code> without the <code>.pub</code> extension.</p>
<p>If called by a guest key manager it's an email address and if called by a self key manager, it's an alphanumeric identifier allowed to with an <code>@</code> prepended.</p>
<ul>
<li><strong>USERID</strong><a id="USERID"></a>: The <a href="#KEYID">KEYID</a> given on the command line will be translated into a USERID which is used inside <code>conf/gitolite.conf</code> or for the <a href="#perms">perms</a> <a href="#commands">command</a> of gitolite.</li>
</ul>
<h3 id="security-note"><span class="header-section-number">5.4.9</span> Security note</h3>
<p><a id="MULTIKEY"></a> <a href="#SKM">Super key managers</a> can basically add any key. <a href="#GKM">Guest key managers</a> are not allowed to add <a href="#multi-key">multiple keys</a> and this restriction is hardcoded.</p>
<p>Suppose Alice adds <code>bob.pub</code> as <code>bob@example.org</code> and David adds <code>eve.pub</code> under the keyid <code>bob@example.org@foo</code>. (Of course, only Eve and not Bob has the private key correspoinding to <code>eve.pub</code>.) This basically gives Eve the same rights as Bob.</p>
<h3 id="important-notes-for-the-admin-1"><span class="header-section-number">5.4.10</span> Important notes for the admin</h3>
<p>Note that <code>ukm</code> clones, changes, and pushes back the <code>gitolite-admin</code> repo. This means, even if you are the only administrator, you should never <code>git push -f</code>, because that might override something <code>ukm</code> did.</p>
<h3 id="ideas"><span class="header-section-number">5.4.11</span> Ideas</h3>
<p>The command <code>ukm</code> has been created with also having the <code>keysubdirs-as-groups</code> <a href="#non-core">syntactic sugar</a> in mind. If a <a href="#SKM">super key manager</a> manages the respective keys in sub-directories with names <code>guest-key-managers/</code> and <code>self-key-managers/</code>, respectively, he/she can use the <code>ukm</code> command to control who is allowed to manage keys.</p>
<h2 id="README-emacs"><span class="header-section-number">5.5</span> Emacs major mode for gitolite.conf</h2>
<p><a href="http://www.gnu.org/software/emacs">Emacs</a> major mode for <code>gitolite.conf</code> can be found here:</p>
<ul>
<li><a href="http://github.com/llloret/gitolite-emacs">GitHub</a></li>
</ul>
</body>
</html>
