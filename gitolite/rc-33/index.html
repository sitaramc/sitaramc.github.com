<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>the 3.3 format rc file - Gitolite</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/gitolite.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Gitolite</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">what/why <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../overview/">overview</a>
</li>
                            
<li >
    <a href="../concepts/">concepts, conventions, terminology</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">install and setup <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../quick_install/">(unix/ssh experts) quick install and setup</a>
</li>
                            
<li >
    <a href="../install/">normal ssh mode install and setup</a>
</li>
                            
<li >
    <a href="../fool_proof_setup/">(if all else fails) fool-proof, step-by-step, install and setup</a>
</li>
                            
<li >
    <a href="../http/">HTTP mode install</a>
</li>
                            
<li >
    <a href="../migr/">migrating from v2</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">use <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">basic</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../basic-admin/">basic administration</a>
</li>
            
<li >
    <a href="../conf/">the "conf" file (part 1)</a>
</li>
            
<li >
    <a href="../conf-2/">the "conf" file (part 2)</a>
</li>
            
<li >
    <a href="../rc/">the "rc" file</a>
</li>
            
<li >
    <a href="../user/">your users' view</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">advanced</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../git-config/">setting git-config values</a>
</li>
            
<li >
    <a href="../options/">gitolite options</a>
</li>
            
<li >
    <a href="../wild/">ad hoc user-created ("wild") repos</a>
</li>
            
<li >
    <a href="../vref/">virtual refs (part 1)</a>
</li>
            
<li >
    <a href="../vref-2/">virtual refs (part 2)</a>
</li>
            
<li >
    <a href="../deleg/">delegation of admin duties</a>
</li>
            
<li >
    <a href="../gitweb-daemon/">gitweb and git-daemon</a>
</li>
            
<li >
    <a href="../mirroring/">mirroring</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">customise</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../non-core/">core and "non-core" gitolite</a>
</li>
            
<li >
    <a href="../dev-notes/">writing your own non-core code</a>
</li>
            
<li >
    <a href="../triggers/">gitolite triggers</a>
</li>
            
<li >
    <a href="../list-non-core/">list of non-core programs shipped with gitolite</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../cookbook/">(quick! how do I...) the cookbook</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">HELP! <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../emergencies/">emergency!!</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">ssh</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../ssh/">ssh</a>
</li>
            
<li >
    <a href="../glssh/">how gitolite uses ssh</a>
</li>
            
<li >
    <a href="../sts/">ssh troubleshooting</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../regex/">regular expressions</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">other docs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../odds-and-ends/">miscellaneous features</a>
</li>
                            
<li >
    <a href="../namespaces/">using git namespaces</a>
</li>
                            
<li >
    <a href="../locking/">locking binary files</a>
</li>
                            
<li >
    <a href="../testing/">testing gitolite</a>
</li>
                            
<li >
    <a href="../package/">packaging gitolite</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">more about gitolite</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../files/">gitolite files & directories</a>
</li>
            
<li class="active">
    <a href="./">the 3.3 format rc file</a>
</li>
            
<li >
    <a href="../perf/">performance</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">contrib</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../contrib/ssh-and-http/">Using both ssh and http</a>
</li>
            
<li >
    <a href="../contrib/putty/">Putty and Msysgit</a>
</li>
            
<li >
    <a href="../contrib/sskm/">Self-service key management</a>
</li>
            
<li >
    <a href="../contrib/ukm/">User key management</a>
</li>
            
<li >
    <a href="../contrib/README-emacs/">Emacs major mode</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../no-way/">no way!</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../files/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../perf/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#the-v30-to-v33-rc-file-homegitoliterc">the v3.0 to v3.3 "rc" file ($HOME/.gitolite.rc)</a></li>
        <li class="main "><a href="#specific-variables">specific variables</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="the-v30-to-v33-rc-file-homegitoliterc">the v3.0 to v3.3 "rc" file (<code>$HOME/.gitolite.rc</code>)<a class="headerlink" href="#the-v30-to-v33-rc-file-homegitoliterc" title="Permanent link"></a></h1>
<hr />
<p><strong>NOTE 1</strong>: if you're using v3.4 and above, see <a href="../rc">this</a>.</p>
<p><strong>NOTE 2</strong>: if you're migrating from v2, there are some settings that MUST be
dealt with <strong>before</strong> running <code>gitolite setup</code>; please read the
<a href="../migr">migration</a> page and linked pages, and especially the one on "presetting
the rc file"</p>
<hr />
<p>The rc file for v3 is <em>quite</em> different from that of v2.</p>
<p>As before, it is designed to be the only thing unique to your site for most
setups.  What is new is that it is easy to extend it when new needs come up,
without having to touch core gitolite.</p>
<p>The rc file is perl code, but you do NOT need to know perl to edit it.  Just
mind the commas, use single quotes unless you know what you're doing, and make
sure the brackets and braces stay matched up!</p>
<p>Please look at the <code>~/.gitolite.rc</code> file that gets installed when you setup
gitolite.  As you can see there are 3 types of variables in it:</p>
<ul>
<li>simple variables (like <code>UMASK</code>)</li>
<li>lists (like <code>POST_COMPILE</code>, <code>POST_CREATE</code>)</li>
<li>hashes (like <code>ROLES</code>, <code>COMMANDS</code>)</li>
</ul>
<p>While some of the variables are documented in this file, many of them are not.
Their purposes are to be found in each of their individual documentation files
around; start with <a href="../non-core">"non-core" gitolite</a>.  If a setting is used by a
command then running that command with '-h' may give you additional
information.</p>
<h1 id="specific-variables">specific variables<a class="headerlink" href="#specific-variables" title="Permanent link"></a></h1>
<ul>
<li>
<p><code>$UMASK</code>, octal, default <code>0077</code></p>
<p>The default UMASK that gitolite uses makes all the repos and their
contents have <code>rwx------</code> permissions.  People who want to run gitweb
realise that this will not do.</p>
<p>The correct way to deal with this is to give this variable a value like
<code>0027</code> (note the syntax: the leading 0 is required), and then make the
user running the webserver (apache, www-data, whatever) a member of the
'git' group.</p>
<p>If you've already installed gitolite then existing files will have to be
fixed up manually (for a umask or 0027, that would be <code>chmod -R g+rX</code>).
This is because umask only affects permissions on newly created files, not
existing ones.</p>
</li>
<li>
<p><code>$GIT_CONFIG_KEYS</code>, string, default empty</p>
<p>This setting allows the repo admin to define acceptable gitconfig keys.</p>
<p>Gitolite allows you to set git config values using the "config" keyword;
see <a href="../git-config">here</a> for details and syntax.</p>
<p>However, if you are in an installation where the repo admin does not (and
should not) have shell access to the server, then allowing him to set
arbitrary repo config options <em>may</em> be a security risk -- some config
settings allow executing arbitrary commands!</p>
<p>You have 3 choices.  By default <code>$GIT_CONFIG_KEYS</code> is left empty, which
completely disables this feature (meaning you cannot set git configs via
the repo config).</p>
<p>The second choice is to give it a space separated list of settings you
consider safe.  (These are actually treated as a set of <a href="../regex">regular
expressions</a>, and any one of them must match).</p>
<p>For example:</p>
<pre><code>$GIT_CONFIG_KEYS = 'core\.logAllRefUpdates core\..*compression';
</code></pre>
<p>Each regex should match the <em>whole</em> key (in other words, there
is an implicit <code>^</code> at the start of each regex, and a <code>$</code> at the
end).</p>
<p>The third choice (which you may have guessed already if you're familiar
with regular expressions) is to allow anything and everything:
<code>$GIT_CONFIG_KEYS = '.*';</code></p>
</li>
<li>
<p><code>ROLES</code>, hash, default keys 'READERS' and 'WRITERS'</p>
<p>This specifies the role names allowed to be used by users running the
<a href="../user/#setget-additional-permissions-for-repos-you-created">perms</a> command.  The <a class="wikilink" href="../wild/">wild</a> repos doc has more info on roles.</p>
</li>
<li>
<p><code>DEFAULT_ROLE_PERMS</code>, string, default undef</p>
<p>This sets default wildcard permissions for newly created wildcard repos.</p>
<p>If set, this value will be used as the default role permissions for new
wildcard repositories. The user can change this value with the perms
command as desired after repository creation; it is only a default.</p>
<p>Please be aware this is potentially a multi-line variable.  In most
setups, it will be left undefined.  Some installations may benefit from
setting it to <code>READERS @all</code>.</p>
<p>If you want multiple roles to be assigned by default, here is how.  Note
double quotes this time, due to the embedded newline, which in turn
require the '@' to be escaped:</p>
<pre><code>DEFAULT_ROLE_PERMS  =&gt;  "READERS \@all\nWRITERS \@senior_devs",
</code></pre>
</li>
<li>
<p><code>LOCAL_CODE</code>, string</p>
<p>This is described in more detail <a href="../non-core/#for-your-non-core-programs">here</a>.  Please be aware
<strong>this must be a FULL path</strong>, not a relative path.</p>
</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
